(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function rE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vd={exports:{}},ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function JA(){if(gy)return ul;gy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:c}}return ul.Fragment=t,ul.jsx=n,ul.jsxs=n,ul}var py;function tS(){return py||(py=1,vd.exports=JA()),vd.exports}var St=tS(),Ed={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function eS(){if(_y)return At;_y=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=R&&D[R]||D["@@iterator"],typeof D=="function"?D:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,tt={};function Z(D,$,nt){this.props=D,this.context=$,this.refs=tt,this.updater=nt||H}Z.prototype.isReactComponent={},Z.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},Z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Et(){}Et.prototype=Z.prototype;function ft(D,$,nt){this.props=D,this.context=$,this.refs=tt,this.updater=nt||H}var ut=ft.prototype=new Et;ut.constructor=ft,Y(ut,Z.prototype),ut.isPureReactComponent=!0;var Vt=Array.isArray,yt={H:null,A:null,T:null,S:null,V:null},Mt=Object.prototype.hasOwnProperty;function V(D,$,nt,W,ct,wt){return nt=wt.ref,{$$typeof:r,type:D,key:$,ref:nt!==void 0?nt:null,props:wt}}function S(D,$){return V(D.type,$,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function N(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return $[nt]})}var M=/\/+/g;function k(D,$){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):$.toString(36)}function C(){}function Me(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function($){D.status==="pending"&&(D.status="fulfilled",D.value=$)},function($){D.status==="pending"&&(D.status="rejected",D.reason=$)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function re(D,$,nt,W,ct){var wt=typeof D;(wt==="undefined"||wt==="boolean")&&(D=null);var _t=!1;if(D===null)_t=!0;else switch(wt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(D.$$typeof){case r:case t:_t=!0;break;case T:return _t=D._init,re(_t(D._payload),$,nt,W,ct)}}if(_t)return ct=ct(D),_t=W===""?"."+k(D,0):W,Vt(ct)?(nt="",_t!=null&&(nt=_t.replace(M,"$&/")+"/"),re(ct,$,nt,"",function(qn){return qn})):ct!=null&&(I(ct)&&(ct=S(ct,nt+(ct.key==null||D&&D.key===ct.key?"":(""+ct.key).replace(M,"$&/")+"/")+_t)),$.push(ct)),1;_t=0;var we=W===""?".":W+":";if(Vt(D))for(var Zt=0;Zt<D.length;Zt++)W=D[Zt],wt=we+k(W,Zt),_t+=re(W,$,nt,wt,ct);else if(Zt=w(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!(W=D.next()).done;)W=W.value,wt=we+k(W,Zt++),_t+=re(W,$,nt,wt,ct);else if(wt==="object"){if(typeof D.then=="function")return re(Me(D),$,nt,W,ct);throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return _t}function j(D,$,nt){if(D==null)return D;var W=[],ct=0;return re(D,W,"","",function(wt){return $.call(nt,wt,ct++)}),W}function et(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var ot=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function zt(){}return At.Children={map:j,forEach:function(D,$,nt){j(D,function(){$.apply(this,arguments)},nt)},count:function(D){var $=0;return j(D,function(){$++}),$},toArray:function(D){return j(D,function($){return $})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},At.Component=Z,At.Fragment=n,At.Profiler=l,At.PureComponent=ft,At.StrictMode=s,At.Suspense=p,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt,At.__COMPILER_RUNTIME={__proto__:null,c:function(D){return yt.H.useMemoCache(D)}},At.cache=function(D){return function(){return D.apply(null,arguments)}},At.cloneElement=function(D,$,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var W=Y({},D.props),ct=D.key,wt=void 0;if($!=null)for(_t in $.ref!==void 0&&(wt=void 0),$.key!==void 0&&(ct=""+$.key),$)!Mt.call($,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&$.ref===void 0||(W[_t]=$[_t]);var _t=arguments.length-2;if(_t===1)W.children=nt;else if(1<_t){for(var we=Array(_t),Zt=0;Zt<_t;Zt++)we[Zt]=arguments[Zt+2];W.children=we}return V(D.type,ct,void 0,void 0,wt,W)},At.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},At.createElement=function(D,$,nt){var W,ct={},wt=null;if($!=null)for(W in $.key!==void 0&&(wt=""+$.key),$)Mt.call($,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ct[W]=$[W]);var _t=arguments.length-2;if(_t===1)ct.children=nt;else if(1<_t){for(var we=Array(_t),Zt=0;Zt<_t;Zt++)we[Zt]=arguments[Zt+2];ct.children=we}if(D&&D.defaultProps)for(W in _t=D.defaultProps,_t)ct[W]===void 0&&(ct[W]=_t[W]);return V(D,wt,void 0,void 0,null,ct)},At.createRef=function(){return{current:null}},At.forwardRef=function(D){return{$$typeof:g,render:D}},At.isValidElement=I,At.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:et}},At.memo=function(D,$){return{$$typeof:_,type:D,compare:$===void 0?null:$}},At.startTransition=function(D){var $=yt.T,nt={};yt.T=nt;try{var W=D(),ct=yt.S;ct!==null&&ct(nt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(zt,ot)}catch(wt){ot(wt)}finally{yt.T=$}},At.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()},At.use=function(D){return yt.H.use(D)},At.useActionState=function(D,$,nt){return yt.H.useActionState(D,$,nt)},At.useCallback=function(D,$){return yt.H.useCallback(D,$)},At.useContext=function(D){return yt.H.useContext(D)},At.useDebugValue=function(){},At.useDeferredValue=function(D,$){return yt.H.useDeferredValue(D,$)},At.useEffect=function(D,$,nt){var W=yt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(D,$)},At.useId=function(){return yt.H.useId()},At.useImperativeHandle=function(D,$,nt){return yt.H.useImperativeHandle(D,$,nt)},At.useInsertionEffect=function(D,$){return yt.H.useInsertionEffect(D,$)},At.useLayoutEffect=function(D,$){return yt.H.useLayoutEffect(D,$)},At.useMemo=function(D,$){return yt.H.useMemo(D,$)},At.useOptimistic=function(D,$){return yt.H.useOptimistic(D,$)},At.useReducer=function(D,$,nt){return yt.H.useReducer(D,$,nt)},At.useRef=function(D){return yt.H.useRef(D)},At.useState=function(D){return yt.H.useState(D)},At.useSyncExternalStore=function(D,$,nt){return yt.H.useSyncExternalStore(D,$,nt)},At.useTransition=function(){return yt.H.useTransition()},At.version="19.1.0",At}var yy;function cm(){return yy||(yy=1,Ed.exports=eS()),Ed.exports}var gn=cm();const nS=rE(gn);var Td={exports:{}},cl={},Ad={exports:{}},Sd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function iS(){return vy||(vy=1,function(r){function t(j,et){var ot=j.length;j.push(et);t:for(;0<ot;){var zt=ot-1>>>1,D=j[zt];if(0<l(D,et))j[zt]=et,j[ot]=D,ot=zt;else break t}}function n(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var et=j[0],ot=j.pop();if(ot!==et){j[0]=ot;t:for(var zt=0,D=j.length,$=D>>>1;zt<$;){var nt=2*(zt+1)-1,W=j[nt],ct=nt+1,wt=j[ct];if(0>l(W,ot))ct<D&&0>l(wt,W)?(j[zt]=wt,j[ct]=ot,zt=ct):(j[zt]=W,j[nt]=ot,zt=nt);else if(ct<D&&0>l(wt,ot))j[zt]=wt,j[ct]=ot,zt=ct;else break t}}return et}function l(j,et){var ot=j.sortIndex-et.sortIndex;return ot!==0?ot:j.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],_=[],T=1,R=null,w=3,H=!1,Y=!1,tt=!1,Z=!1,Et=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function Vt(j){for(var et=n(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=j)s(_),et.sortIndex=et.expirationTime,t(p,et);else break;et=n(_)}}function yt(j){if(tt=!1,Vt(j),!Y)if(n(p)!==null)Y=!0,Mt||(Mt=!0,k());else{var et=n(_);et!==null&&re(yt,et.startTime-j)}}var Mt=!1,V=-1,S=5,I=-1;function N(){return Z?!0:!(r.unstable_now()-I<S)}function M(){if(Z=!1,Mt){var j=r.unstable_now();I=j;var et=!0;try{t:{Y=!1,tt&&(tt=!1,ft(V),V=-1),H=!0;var ot=w;try{e:{for(Vt(j),R=n(p);R!==null&&!(R.expirationTime>j&&N());){var zt=R.callback;if(typeof zt=="function"){R.callback=null,w=R.priorityLevel;var D=zt(R.expirationTime<=j);if(j=r.unstable_now(),typeof D=="function"){R.callback=D,Vt(j),et=!0;break e}R===n(p)&&s(p),Vt(j)}else s(p);R=n(p)}if(R!==null)et=!0;else{var $=n(_);$!==null&&re(yt,$.startTime-j),et=!1}}break t}finally{R=null,w=ot,H=!1}et=void 0}}finally{et?k():Mt=!1}}}var k;if(typeof ut=="function")k=function(){ut(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Me=C.port2;C.port1.onmessage=M,k=function(){Me.postMessage(null)}}else k=function(){Et(M,0)};function re(j,et){V=Et(function(){j(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(j){switch(w){case 1:case 2:case 3:var et=3;break;default:et=w}var ot=w;w=et;try{return j()}finally{w=ot}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(j,et){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ot=w;w=j;try{return et()}finally{w=ot}},r.unstable_scheduleCallback=function(j,et,ot){var zt=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?zt+ot:zt):ot=zt,j){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ot+D,j={id:T++,callback:et,priorityLevel:j,startTime:ot,expirationTime:D,sortIndex:-1},ot>zt?(j.sortIndex=ot,t(_,j),n(p)===null&&j===n(_)&&(tt?(ft(V),V=-1):tt=!0,re(yt,ot-zt))):(j.sortIndex=D,t(p,j),Y||H||(Y=!0,Mt||(Mt=!0,k()))),j},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(j){var et=w;return function(){var ot=w;w=et;try{return j.apply(this,arguments)}finally{w=ot}}}}(Sd)),Sd}var Ey;function rS(){return Ey||(Ey=1,Ad.exports=iS()),Ad.exports}var bd={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function sS(){if(Ty)return Ge;Ty=1;var r=cm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:p,containerInfo:_,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,T)},Ge.flushSync=function(p){var _=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=T,s.d.f()}},Ge.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,R=g(T,_.crossOrigin),w=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:R,integrity:w,fetchPriority:H}):T==="script"&&s.d.X(p,{crossOrigin:R,integrity:w,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ge.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Ge.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,R=g(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ge.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,_){return p(_)},Ge.useFormState=function(p,_,T){return f.H.useFormState(p,_,T)},Ge.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var Ay;function aS(){if(Ay)return bd.exports;Ay=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),bd.exports=sS(),bd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function oS(){if(Sy)return cl;Sy=1;var r=rS(),t=cm(),n=aS();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===o)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=d;break}if(E===o){v=!0,o=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,o=h;break}if(E===o){v=!0,o=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Et=Symbol.for("react.provider"),ft=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),Vt=Symbol.for("react.forward_ref"),yt=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function Me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Y:return"Fragment";case Z:return"Profiler";case tt:return"StrictMode";case yt:return"Suspense";case Mt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case ut:return(e.displayName||"Context")+".Provider";case ft:return(e._context.displayName||"Context")+".Consumer";case Vt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return i=e.displayName||null,i!==null?i:Me(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return Me(e(i))}catch{}}return null}var re=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},zt=[],D=-1;function $(e){return{current:e}}function nt(e){0>D||(e.current=zt[D],zt[D]=null,D--)}function W(e,i){D++,zt[D]=e.current,e.current=i}var ct=$(null),wt=$(null),_t=$(null),we=$(null);function Zt(e,i){switch(W(_t,i),W(wt,e),W(ct,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?j_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=j_(i),e=G_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(ct),W(ct,e)}function qn(){nt(ct),nt(wt),nt(_t)}function Gi(e){e.memoizedState!==null&&W(we,e);var i=ct.current,a=G_(i,e.type);i!==a&&(W(wt,e),W(ct,a))}function ci(e){wt.current===e&&(nt(ct),nt(wt)),we.current===e&&(nt(we),rl._currentValue=ot)}var qr=Object.prototype.hasOwnProperty,Hr=r.unstable_scheduleCallback,jr=r.unstable_cancelCallback,to=r.unstable_shouldYield,Gl=r.unstable_requestPaint,_n=r.unstable_now,yh=r.unstable_getCurrentPriorityLevel,eo=r.unstable_ImmediatePriority,xs=r.unstable_UserBlockingPriority,Gr=r.unstable_NormalPriority,vh=r.unstable_LowPriority,Us=r.unstable_IdlePriority,no=r.log,Fl=r.unstable_setDisableYieldValue,se=null,jt=null;function an(e){if(typeof no=="function"&&Fl(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(se,e)}catch{}}var He=Math.clz32?Math.clz32:Fr,Ql=Math.log,Eh=Math.LN2;function Fr(e){return e>>>=0,e===0?32:31-(Ql(e)/Eh|0)|0}var Qr=256,Kr=4194304;function Nn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ls(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~d,o!==0?h=Nn(o):(v&=E,v!==0?h=Nn(v):a||(a=E&~e,a!==0&&(h=Nn(a))))):(E=o&~d,E!==0?h=Nn(E):v!==0?h=Nn(v):a||(a=o&~e,a!==0&&(h=Nn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Yr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function io(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ro(){var e=Qr;return Qr<<=1,(Qr&4194048)===0&&(Qr=256),e}function so(){var e=Kr;return Kr<<=1,(Kr&62914560)===0&&(Kr=4194304),e}function hi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function fi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ao(e,i,a,o,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var G=31-He(a),Q=1<<G;E[G]=0,b[G]=-1;var z=L[G];if(z!==null)for(L[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}a&=~Q}o!==0&&Hn(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function Hn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-He(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function oo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-He(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Fi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qi(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:uy(e.type))}function Kl(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var te=Math.random().toString(36).slice(2),ye="__reactFiber$"+te,fe="__reactProps$"+te,yn="__reactContainer$"+te,lo="__reactEvents$"+te,Th="__reactListeners$"+te,Ki="__reactHandles$"+te,Yl="__reactResources$"+te,Xr="__reactMarker$"+te;function Yi(e){delete e[ye],delete e[fe],delete e[lo],delete e[Th],delete e[Ki]}function di(e){var i=e[ye];if(i)return i;for(var a=e.parentNode;a;){if(i=a[yn]||a[ye]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Y_(e);e!==null;){if(a=e[ye])return a;e=Y_(e)}return i}e=a,a=e.parentNode}return null}function jn(e){if(e=e[ye]||e[yn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Gn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Xe(e){var i=e[Yl];return i||(i=e[Yl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function le(e){e[Xr]=!0}var uo=new Set,Bs={};function Vn(e,i){mi(e,i),mi(e+"Capture",i)}function mi(e,i){for(Bs[e]=i,e=0;e<i.length;e++)uo.add(i[e])}var Xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$l={},$r={};function Zl(e){return qr.call($r,e)?!0:qr.call($l,e)?!1:Xl.test(e)?$r[e]=!0:($l[e]=!0,!1)}function Xi(e,i,a){if(Zl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Fn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Pe(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var Zr,Wl;function gi(e){if(Zr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Zr=i&&i[1]||"",Wl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zr+e+Wl}var qs=!1;function Hs(e,i){if(!e||qs)return"";qs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var z=B}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(B){z=B}e.call(Q.prototype)}}else{try{throw Error()}catch(B){z=B}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var b=v.split(`
`),L=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===L.length)for(o=b.length-1,h=L.length-1;1<=o&&0<=h&&b[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==L[h]){var G=`
`+b[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{qs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?gi(a):""}function co(e){switch(e.tag){case 26:case 27:case 5:return gi(e.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return Hs(e.type,!1);case 11:return Hs(e.type.render,!1);case 1:return Hs(e.type,!0);case 31:return gi("Activity");default:return""}}function js(e){try{var i="";do i+=co(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ho(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ah(e){var i=ho(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Gs(e){e._valueTracker||(e._valueTracker=Ah(e))}function fo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=ho(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Wr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Sh=/[\n"\\]/g;function de(e){return e.replace(Sh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function on(e,i,a,o,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+$e(i)):e.value!==""+$e(i)&&(e.value=""+$e(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?$i(e,v,$e(i)):a!=null?$i(e,v,$e(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+$e(E):e.removeAttribute("name")}function Jr(e,i,a,o,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+$e(a):"",i=i!=null?""+$e(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function $i(e,i,a){i==="number"&&Wr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function pi(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+$e(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Qt(e,i,a){if(i!=null&&(i=""+$e(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+$e(a):""}function ts(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(re(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=$e(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function vn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jl(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||es.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function mo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Jl(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&Jl(e,d,i[d])}function go(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fs(e){return Rh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var _i=null;function En(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yi=null,vi=null;function po(e){var i=jn(e);if(i&&(e=i.stateNode)){var a=e[fe]||null;t:switch(e=i.stateNode,i.type){case"input":if(on(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+de(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[fe]||null;if(!h)throw Error(s(90));on(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&fo(o)}break t;case"textarea":Qt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&pi(e,!!a.multiple,i,!1)}}}var Qn=!1;function tu(e,i,a){if(Qn)return e(i,a);Qn=!0;try{var o=e(i);return o}finally{if(Qn=!1,(yi!==null||vi!==null)&&(Ku(),yi&&(i=yi,e=vi,vi=yi=null,po(i),e)))for(i=0;i<e.length;i++)po(e[i])}}function ns(e,i){var a=e.stateNode;if(a===null)return null;var o=a[fe]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tn=!1;if(Mn)try{var is={};Object.defineProperty(is,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{Tn=!1}var Kn=null,Zi=null,Ei=null;function _o(){if(Ei)return Ei;var e,i=Zi,a=i.length,o,h="value"in Kn?Kn.value:Kn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return Ei=h.slice(e,1<o?1-o:void 0)}function Yn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Xn(){return!0}function yo(){return!1}function Ie(e){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xn:yo,this.isPropagationStopped=yo,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),i}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=Ie(qt),rs=T({},qt,{view:0,detail:0}),eu=Ie(rs),Ks,Ys,$n,ss=T({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ls,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(Ks=e.screenX-$n.screenX,Ys=e.screenY-$n.screenY):Ys=Ks=0,$n=e),Ks)},movementY:function(e){return"movementY"in e?e.movementY:Ys}}),An=Ie(ss),nu=T({},ss,{dataTransfer:0}),wh=Ie(nu),as=T({},rs,{relatedTarget:0}),Xs=Ie(as),vo=T({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),$s=Ie(vo),iu=T({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zs=Ie(iu),Ih=T({},qt,{data:0}),Eo=Ie(Ih),os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function To(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=su[e])?!!i[e]:!1}function ls(){return To}var au=T({},rs,{key:function(e){if(e.key){var i=os[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Yn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ru[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ls,charCode:function(e){return e.type==="keypress"?Yn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ws=Ie(au),ou=T({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ao=Ie(ou),Ti=T({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ls}),lu=Ie(Ti),uu=T({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),cu=Ie(uu),hu=T({},ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Js=Ie(hu),Ze=T({},qt,{newState:0,oldState:0}),fu=Ie(Ze),du=[9,13,27,32],Zn=Mn&&"CompositionEvent"in window,u=null;Mn&&"documentMode"in document&&(u=document.documentMode);var m=Mn&&"TextEvent"in window&&!u,y=Mn&&(!Zn||u&&8<u&&11>=u),A=" ",x=!1;function q(e,i){switch(e){case"keyup":return du.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function ve(e,i){switch(e){case"compositionend":return J(i);case"keypress":return i.which!==32?null:(x=!0,A);case"textInput":return e=i.data,e===A&&x?null:e;default:return null}}function kt(e,i){if(Pt)return e==="compositionend"||!Zn&&q(e,i)?(e=_o(),Ei=Zi=Kn=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ce[e.type]:i==="textarea"}function Ai(e,i,a,o){yi?vi?vi.push(o):vi=[o]:yi=o,i=Ju(i,"onChange"),0<i.length&&(a=new Qs("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var ke=null,Wn=null;function So(e){L_(e,0)}function mu(e){var i=Gn(e);if(fo(i))return e}function sg(e,i){if(e==="change")return i}var ag=!1;if(Mn){var Ch;if(Mn){var Dh="oninput"in document;if(!Dh){var og=document.createElement("div");og.setAttribute("oninput","return;"),Dh=typeof og.oninput=="function"}Ch=Dh}else Ch=!1;ag=Ch&&(!document.documentMode||9<document.documentMode)}function lg(){ke&&(ke.detachEvent("onpropertychange",ug),Wn=ke=null)}function ug(e){if(e.propertyName==="value"&&mu(Wn)){var i=[];Ai(i,Wn,e,En(e)),tu(So,i)}}function D0(e,i,a){e==="focusin"?(lg(),ke=i,Wn=a,ke.attachEvent("onpropertychange",ug)):e==="focusout"&&lg()}function O0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mu(Wn)}function N0(e,i){if(e==="click")return mu(i)}function V0(e,i){if(e==="input"||e==="change")return mu(i)}function M0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var ln=typeof Object.is=="function"?Object.is:M0;function bo(e,i){if(ln(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!qr.call(i,h)||!ln(e[h],i[h]))return!1}return!0}function cg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hg(e,i){var a=cg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=cg(a)}}function fg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?fg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function dg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Wr(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Wr(e.document)}return i}function Oh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var P0=Mn&&"documentMode"in document&&11>=document.documentMode,ta=null,Nh=null,Ro=null,Vh=!1;function mg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vh||ta==null||ta!==Wr(o)||(o=ta,"selectionStart"in o&&Oh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ro&&bo(Ro,o)||(Ro=o,o=Ju(Nh,"onSelect"),0<o.length&&(i=new Qs("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ta)))}function us(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ea={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionrun:us("Transition","TransitionRun"),transitionstart:us("Transition","TransitionStart"),transitioncancel:us("Transition","TransitionCancel"),transitionend:us("Transition","TransitionEnd")},Mh={},gg={};Mn&&(gg=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function cs(e){if(Mh[e])return Mh[e];if(!ea[e])return e;var i=ea[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in gg)return Mh[e]=i[a];return e}var pg=cs("animationend"),_g=cs("animationiteration"),yg=cs("animationstart"),k0=cs("transitionrun"),x0=cs("transitionstart"),U0=cs("transitioncancel"),vg=cs("transitionend"),Eg=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function Pn(e,i){Eg.set(e,i),Vn(i,[e])}var Tg=new WeakMap;function Sn(e,i){if(typeof e=="object"&&e!==null){var a=Tg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:js(i)},Tg.set(e,i),i)}return{value:e,source:i,stack:js(i)}}var bn=[],na=0,kh=0;function gu(){for(var e=na,i=kh=na=0;i<e;){var a=bn[i];bn[i++]=null;var o=bn[i];bn[i++]=null;var h=bn[i];bn[i++]=null;var d=bn[i];if(bn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&Ag(a,h,d)}}function pu(e,i,a,o){bn[na++]=e,bn[na++]=i,bn[na++]=a,bn[na++]=o,kh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function xh(e,i,a,o){return pu(e,i,a,o),_u(e)}function ia(e,i){return pu(e,null,null,i),_u(e)}function Ag(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-He(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function _u(e){if(50<$o)throw $o=0,jf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ra={};function L0(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,i,a,o){return new L0(e,i,a,o)}function Uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Si(e,i){var a=e.alternate;return a===null?(a=un(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Sg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function yu(e,i,a,o,h,d){var v=0;if(o=e,typeof e=="function")Uh(e)&&(v=1);else if(typeof e=="string")v=BA(e,a,ct.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=un(31,a,i,h),e.elementType=I,e.lanes=d,e;case Y:return hs(a.children,h,d,i);case tt:v=8,h|=24;break;case Z:return e=un(12,a,i,h|2),e.elementType=Z,e.lanes=d,e;case yt:return e=un(13,a,i,h),e.elementType=yt,e.lanes=d,e;case Mt:return e=un(19,a,i,h),e.elementType=Mt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Et:case ut:v=10;break t;case ft:v=9;break t;case Vt:v=11;break t;case V:v=14;break t;case S:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=un(v,a,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function hs(e,i,a,o){return e=un(7,e,o,i),e.lanes=a,e}function Lh(e,i,a){return e=un(6,e,null,i),e.lanes=a,e}function zh(e,i,a){return i=un(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var sa=[],aa=0,vu=null,Eu=0,Rn=[],wn=0,fs=null,bi=1,Ri="";function ds(e,i){sa[aa++]=Eu,sa[aa++]=vu,vu=e,Eu=i}function bg(e,i,a){Rn[wn++]=bi,Rn[wn++]=Ri,Rn[wn++]=fs,fs=e;var o=bi;e=Ri;var h=32-He(o)-1;o&=~(1<<h),a+=1;var d=32-He(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,bi=1<<32-He(i)+h|a<<h|o,Ri=d+e}else bi=1<<d|a<<h|o,Ri=e}function Bh(e){e.return!==null&&(ds(e,1),bg(e,1,0))}function qh(e){for(;e===vu;)vu=sa[--aa],sa[aa]=null,Eu=sa[--aa],sa[aa]=null;for(;e===fs;)fs=Rn[--wn],Rn[wn]=null,Ri=Rn[--wn],Rn[wn]=null,bi=Rn[--wn],Rn[wn]=null}var We=null,ae=null,Bt=!1,ms=null,Jn=!1,Hh=Error(s(519));function gs(e){var i=Error(s(418,""));throw Co(Sn(i,e)),Hh}function Rg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[ye]=e,i[fe]=o,a){case"dialog":Dt("cancel",i),Dt("close",i);break;case"iframe":case"object":case"embed":Dt("load",i);break;case"video":case"audio":for(a=0;a<Wo.length;a++)Dt(Wo[a],i);break;case"source":Dt("error",i);break;case"img":case"image":case"link":Dt("error",i),Dt("load",i);break;case"details":Dt("toggle",i);break;case"input":Dt("invalid",i),Jr(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Gs(i);break;case"select":Dt("invalid",i);break;case"textarea":Dt("invalid",i),ts(i,o.value,o.defaultValue,o.children),Gs(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||H_(i.textContent,a)?(o.popover!=null&&(Dt("beforetoggle",i),Dt("toggle",i)),o.onScroll!=null&&Dt("scroll",i),o.onScrollEnd!=null&&Dt("scrollend",i),o.onClick!=null&&(i.onclick=tc),i=!0):i=!1,i||gs(e)}function wg(e){for(We=e.return;We;)switch(We.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:We=We.return}}function wo(e){if(e!==We)return!1;if(!Bt)return wg(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||sd(e.type,e.memoizedProps)),a=!a),a&&ae&&gs(e),wg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ae=xn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ae=null}}else i===27?(i=ae,dr(e.type)?(e=ud,ud=null,ae=e):ae=i):ae=We?xn(e.stateNode.nextSibling):null;return!0}function Io(){ae=We=null,Bt=!1}function Ig(){var e=ms;return e!==null&&(en===null?en=e:en.push.apply(en,e),ms=null),e}function Co(e){ms===null?ms=[e]:ms.push(e)}var jh=$(null),ps=null,wi=null;function Wi(e,i,a){W(jh,i._currentValue),i._currentValue=a}function Ii(e){e._currentValue=jh.current,nt(jh)}function Gh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Fh(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var b=0;b<i.length;b++)if(E.context===i[b]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Gh(d.return,a,e),o||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Gh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Do(e,i,a,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;ln(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===we.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(rl):e=[rl])}h=h.return}e!==null&&Fh(i,e,a,o),i.flags|=262144}function Tu(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _s(e){ps=e,wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return Cg(ps,e)}function Au(e,i){return ps===null&&_s(e),Cg(e,i)}function Cg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},wi===null){if(e===null)throw Error(s(308));wi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else wi=wi.next=i;return a}var z0=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},B0=r.unstable_scheduleCallback,q0=r.unstable_NormalPriority,Te={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qh(){return{controller:new z0,data:new Map,refCount:0}}function Oo(e){e.refCount--,e.refCount===0&&B0(q0,function(){e.controller.abort()})}var No=null,Kh=0,oa=0,la=null;function H0(e,i){if(No===null){var a=No=[];Kh=0,oa=$f(),la={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Kh++,i.then(Dg,Dg),i}function Dg(){if(--Kh===0&&No!==null){la!==null&&(la.status="fulfilled");var e=No;No=null,oa=0,la=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function j0(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Og=j.S;j.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&H0(e,i),Og!==null&&Og(e,i)};var ys=$(null);function Yh(){var e=ys.current;return e!==null?e:Wt.pooledCache}function Su(e,i){i===null?W(ys,ys.current):W(ys,i.pool)}function Ng(){var e=Yh();return e===null?null:{parent:Te._currentValue,pool:e}}var Vo=Error(s(460)),Vg=Error(s(474)),bu=Error(s(542)),Xh={then:function(){}};function Mg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ru(){}function Pg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Ru,Ru),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,xg(e),e;default:if(typeof i.status=="string")i.then(Ru,Ru);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,xg(e),e}throw Mo=i,Vo}}var Mo=null;function kg(){if(Mo===null)throw Error(s(459));var e=Mo;return Mo=null,e}function xg(e){if(e===Vo||e===bu)throw Error(s(483))}var Ji=!1;function $h(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function tr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function er(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=_u(e),Ag(e,null,a),i}return pu(e,o,i,a),_u(e)}function Po(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,oo(e,a)}}function Wh(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Jh=!1;function ko(){if(Jh){var e=la;if(e!==null)throw e}}function xo(e,i,a,o){Jh=!1;var h=e.updateQueue;Ji=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,L=b.next;b.next=null,v===null?d=L:v.next=L,v=b;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=L:E.next=L,G.lastBaseUpdate=b))}if(d!==null){var Q=h.baseState;v=0,G=L=b=null,E=d;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(xt&z)===z:(o&z)===z){z!==0&&z===oa&&(Jh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var pt=e,ht=E;z=i;var Xt=a;switch(ht.tag){case 1:if(pt=ht.payload,typeof pt=="function"){Q=pt.call(Xt,Q,z);break t}Q=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=ht.payload,z=typeof pt=="function"?pt.call(Xt,Q,z):pt,z==null)break t;Q=T({},Q,z);break t;case 2:Ji=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(L=G=B,b=Q):G=G.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(b=Q),h.baseState=b,h.firstBaseUpdate=L,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),ur|=v,e.lanes=v,e.memoizedState=Q}}function Ug(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Lg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ug(a[e],i)}var ua=$(null),wu=$(0);function zg(e,i){e=Pi,W(wu,e),W(ua,i),Pi=e|i.baseLanes}function tf(){W(wu,Pi),W(ua,ua.current)}function ef(){Pi=wu.current,nt(ua),nt(wu)}var nr=0,bt=null,Kt=null,me=null,Iu=!1,ca=!1,vs=!1,Cu=0,Uo=0,ha=null,G0=0;function ue(){throw Error(s(321))}function nf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!ln(e[a],i[a]))return!1;return!0}function rf(e,i,a,o,h,d){return nr=d,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,j.H=e===null||e.memoizedState===null?Ap:Sp,vs=!1,d=a(o,h),vs=!1,ca&&(d=qg(i,a,o,h)),Bg(e),d}function Bg(e){j.H=Pu;var i=Kt!==null&&Kt.next!==null;if(nr=0,me=Kt=bt=null,Iu=!1,Uo=0,ha=null,i)throw Error(s(300));e===null||De||(e=e.dependencies,e!==null&&Tu(e)&&(De=!0))}function qg(e,i,a,o){bt=e;var h=0;do{if(ca&&(ha=null),Uo=0,ca=!1,25<=h)throw Error(s(301));if(h+=1,me=Kt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}j.H=Z0,d=i(a,o)}while(ca);return d}function F0(){var e=j.H,i=e.useState()[0];return i=typeof i.then=="function"?Lo(i):i,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(bt.flags|=1024),i}function sf(){var e=Cu!==0;return Cu=0,e}function af(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function of(e){if(Iu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Iu=!1}nr=0,me=Kt=bt=null,ca=!1,Uo=Cu=0,ha=null}function Je(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?bt.memoizedState=me=e:me=me.next=e,me}function ge(){if(Kt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var i=me===null?bt.memoizedState:me.next;if(i!==null)me=i,Kt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},me===null?bt.memoizedState=me=e:me=me.next=e}return me}function lf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lo(e){var i=Uo;return Uo+=1,ha===null&&(ha=[]),e=Pg(ha,e,i),i=bt,(me===null?i.memoizedState:me.next)===null&&(i=i.alternate,j.H=i===null||i.memoizedState===null?Ap:Sp),e}function Du(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Lo(e);if(e.$$typeof===ut)return je(e)}throw Error(s(438,String(e)))}function uf(e){var i=null,a=bt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=lf(),bt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=N;return i.index++,a}function Ci(e,i){return typeof i=="function"?i(e):i}function Ou(e){var i=ge();return cf(i,Kt,e)}function cf(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,b=null,L=i,G=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(xt&Q)===Q:(nr&Q)===Q){var z=L.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===oa&&(G=!0);else if((nr&z)===z){L=L.next,z===oa&&(G=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=Q,v=d):b=b.next=Q,bt.lanes|=z,ur|=z;Q=L.action,vs&&a(d,Q),d=L.hasEagerState?L.eagerState:a(d,Q)}else z={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=z,v=d):b=b.next=z,bt.lanes|=Q,ur|=Q;L=L.next}while(L!==null&&L!==i);if(b===null?v=d:b.next=E,!ln(d,e.memoizedState)&&(De=!0,G&&(a=la,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=b,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function hf(e){var i=ge(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);ln(d,i.memoizedState)||(De=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Hg(e,i,a){var o=bt,h=ge(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!ln((Kt||h).memoizedState,a);v&&(h.memoizedState=a,De=!0),h=h.queue;var E=Fg.bind(null,o,h,e);if(zo(2048,8,E,[e]),h.getSnapshot!==i||v||me!==null&&me.memoizedState.tag&1){if(o.flags|=2048,fa(9,Nu(),Gg.bind(null,o,h,a,i),null),Wt===null)throw Error(s(349));d||(nr&124)!==0||jg(o,i,a)}return a}function jg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=bt.updateQueue,i===null?(i=lf(),bt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Gg(e,i,a,o){i.value=a,i.getSnapshot=o,Qg(i)&&Kg(e)}function Fg(e,i,a){return a(function(){Qg(i)&&Kg(e)})}function Qg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!ln(e,a)}catch{return!0}}function Kg(e){var i=ia(e,2);i!==null&&mn(i,e,2)}function ff(e){var i=Je();if(typeof e=="function"){var a=e;if(e=a(),vs){an(!0);try{a()}finally{an(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},i}function Yg(e,i,a,o){return e.baseState=a,cf(e,Kt,typeof o=="function"?o:Ci)}function Q0(e,i,a,o,h){if(Mu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};j.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,Xg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Xg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=j.T,v={};j.T=v;try{var E=a(h,o),b=j.S;b!==null&&b(v,E),$g(e,i,E)}catch(L){df(e,i,L)}finally{j.T=d}}else try{d=a(h,o),$g(e,i,d)}catch(L){df(e,i,L)}}function $g(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Zg(e,i,o)},function(o){return df(e,i,o)}):Zg(e,i,a)}function Zg(e,i,a){i.status="fulfilled",i.value=a,Wg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Xg(e,a)))}function df(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Wg(i),i=i.next;while(i!==o)}e.action=null}function Wg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Jg(e,i){return i}function tp(e,i){if(Bt){var a=Wt.formState;if(a!==null){t:{var o=bt;if(Bt){if(ae){e:{for(var h=ae,d=Jn;h.nodeType!==8;){if(!d){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ae=xn(h.nextSibling),o=h.data==="F!";break t}}gs(o)}o=!1}o&&(i=a[0])}}return a=Je(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jg,lastRenderedState:i},a.queue=o,a=vp.bind(null,bt,o),o.dispatch=a,o=ff(!1),d=yf.bind(null,bt,!1,o.queue),o=Je(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=Q0.bind(null,bt,h,d,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function ep(e){var i=ge();return np(i,Kt,e)}function np(e,i,a){if(i=cf(e,i,Jg)[0],e=Ou(Ci)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Lo(i)}catch(v){throw v===Vo?bu:v}else o=i;i=ge();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(bt.flags|=2048,fa(9,Nu(),K0.bind(null,h,a),null)),[o,d,e]}function K0(e,i){e.action=i}function ip(e){var i=ge(),a=Kt;if(a!==null)return np(i,a,e);ge(),i=i.memoizedState,a=ge();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function fa(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=bt.updateQueue,i===null&&(i=lf(),bt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Nu(){return{destroy:void 0,resource:void 0}}function rp(){return ge().memoizedState}function Vu(e,i,a,o){var h=Je();o=o===void 0?null:o,bt.flags|=e,h.memoizedState=fa(1|i,Nu(),a,o)}function zo(e,i,a,o){var h=ge();o=o===void 0?null:o;var d=h.memoizedState.inst;Kt!==null&&o!==null&&nf(o,Kt.memoizedState.deps)?h.memoizedState=fa(i,d,a,o):(bt.flags|=e,h.memoizedState=fa(1|i,d,a,o))}function sp(e,i){Vu(8390656,8,e,i)}function ap(e,i){zo(2048,8,e,i)}function op(e,i){return zo(4,2,e,i)}function lp(e,i){return zo(4,4,e,i)}function up(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function cp(e,i,a){a=a!=null?a.concat([e]):null,zo(4,4,up.bind(null,i,e),a)}function mf(){}function hp(e,i){var a=ge();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&nf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function fp(e,i){var a=ge();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&nf(i,o[1]))return o[0];if(o=e(),vs){an(!0);try{e()}finally{an(!1)}}return a.memoizedState=[o,i],o}function gf(e,i,a){return a===void 0||(nr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=g_(),bt.lanes|=e,ur|=e,a)}function dp(e,i,a,o){return ln(a,i)?a:ua.current!==null?(e=gf(e,a,o),ln(e,i)||(De=!0),e):(nr&42)===0?(De=!0,e.memoizedState=a):(e=g_(),bt.lanes|=e,ur|=e,i)}function mp(e,i,a,o,h){var d=et.p;et.p=d!==0&&8>d?d:8;var v=j.T,E={};j.T=E,yf(e,!1,i,a);try{var b=h(),L=j.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=j0(b,o);Bo(e,i,G,dn(e))}else Bo(e,i,o,dn(e))}catch(Q){Bo(e,i,{then:function(){},status:"rejected",reason:Q},dn())}finally{et.p=d,j.T=v}}function Y0(){}function pf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=gp(e).queue;mp(e,h,i,ot,a===null?Y0:function(){return pp(e),a(o)})}function gp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:ot},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function pp(e){var i=gp(e).next.queue;Bo(e,i,{},dn())}function _f(){return je(rl)}function _p(){return ge().memoizedState}function yp(){return ge().memoizedState}function X0(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=dn();e=tr(a);var o=er(i,e,a);o!==null&&(mn(o,i,a),Po(o,i,a)),i={cache:Qh()},e.payload=i;return}i=i.return}}function $0(e,i,a){var o=dn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Mu(e)?Ep(i,a):(a=xh(e,i,a,o),a!==null&&(mn(a,e,o),Tp(a,i,o)))}function vp(e,i,a){var o=dn();Bo(e,i,a,o)}function Bo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mu(e))Ep(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,ln(E,v))return pu(e,i,h,0),Wt===null&&gu(),!1}catch{}finally{}if(a=xh(e,i,h,o),a!==null)return mn(a,e,o),Tp(a,i,o),!0}return!1}function yf(e,i,a,o){if(o={lane:2,revertLane:$f(),action:o,hasEagerState:!1,eagerState:null,next:null},Mu(e)){if(i)throw Error(s(479))}else i=xh(e,a,o,2),i!==null&&mn(i,e,2)}function Mu(e){var i=e.alternate;return e===bt||i!==null&&i===bt}function Ep(e,i){ca=Iu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Tp(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,oo(e,a)}}var Pu={readContext:je,use:Du,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},Ap={readContext:je,use:Du,useCallback:function(e,i){return Je().memoizedState=[e,i===void 0?null:i],e},useContext:je,useEffect:sp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Vu(4194308,4,up.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Vu(4194308,4,e,i)},useInsertionEffect:function(e,i){Vu(4,2,e,i)},useMemo:function(e,i){var a=Je();i=i===void 0?null:i;var o=e();if(vs){an(!0);try{e()}finally{an(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=Je();if(a!==void 0){var h=a(i);if(vs){an(!0);try{a(i)}finally{an(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=$0.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var i=Je();return e={current:e},i.memoizedState=e},useState:function(e){e=ff(e);var i=e.queue,a=vp.bind(null,bt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:mf,useDeferredValue:function(e,i){var a=Je();return gf(a,e,i)},useTransition:function(){var e=ff(!1);return e=mp.bind(null,bt,e.queue,!0,!1),Je().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=bt,h=Je();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(xt&124)!==0||jg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,sp(Fg.bind(null,o,d,e),[e]),o.flags|=2048,fa(9,Nu(),Gg.bind(null,o,d,a,i),null),a},useId:function(){var e=Je(),i=Wt.identifierPrefix;if(Bt){var a=Ri,o=bi;a=(o&~(1<<32-He(o)-1)).toString(32)+a,i=""+i+"R"+a,a=Cu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=G0++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:_f,useFormState:tp,useActionState:tp,useOptimistic:function(e){var i=Je();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=yf.bind(null,bt,!0,a),a.dispatch=i,[e,i]},useMemoCache:uf,useCacheRefresh:function(){return Je().memoizedState=X0.bind(null,bt)}},Sp={readContext:je,use:Du,useCallback:hp,useContext:je,useEffect:ap,useImperativeHandle:cp,useInsertionEffect:op,useLayoutEffect:lp,useMemo:fp,useReducer:Ou,useRef:rp,useState:function(){return Ou(Ci)},useDebugValue:mf,useDeferredValue:function(e,i){var a=ge();return dp(a,Kt.memoizedState,e,i)},useTransition:function(){var e=Ou(Ci)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:Lo(e),i]},useSyncExternalStore:Hg,useId:_p,useHostTransitionStatus:_f,useFormState:ep,useActionState:ep,useOptimistic:function(e,i){var a=ge();return Yg(a,Kt,e,i)},useMemoCache:uf,useCacheRefresh:yp},Z0={readContext:je,use:Du,useCallback:hp,useContext:je,useEffect:ap,useImperativeHandle:cp,useInsertionEffect:op,useLayoutEffect:lp,useMemo:fp,useReducer:hf,useRef:rp,useState:function(){return hf(Ci)},useDebugValue:mf,useDeferredValue:function(e,i){var a=ge();return Kt===null?gf(a,e,i):dp(a,Kt.memoizedState,e,i)},useTransition:function(){var e=hf(Ci)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:Lo(e),i]},useSyncExternalStore:Hg,useId:_p,useHostTransitionStatus:_f,useFormState:ip,useActionState:ip,useOptimistic:function(e,i){var a=ge();return Kt!==null?Yg(a,Kt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:uf,useCacheRefresh:yp},da=null,qo=0;function ku(e){var i=qo;return qo+=1,da===null&&(da=[]),Pg(da,e,i)}function Ho(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function xu(e,i){throw i.$$typeof===R?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function bp(e){var i=e._init;return i(e._payload)}function Rp(e){function i(P,O){if(e){var U=P.deletions;U===null?(P.deletions=[O],P.flags|=16):U.push(O)}}function a(P,O){if(!e)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function o(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=Si(P,O),P.index=0,P.sibling=null,P}function d(P,O,U){return P.index=U,e?(U=P.alternate,U!==null?(U=U.index,U<O?(P.flags|=67108866,O):U):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function E(P,O,U,F){return O===null||O.tag!==6?(O=Lh(U,P.mode,F),O.return=P,O):(O=h(O,U),O.return=P,O)}function b(P,O,U,F){var rt=U.type;return rt===Y?G(P,O,U.props.children,F,U.key):O!==null&&(O.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&bp(rt)===O.type)?(O=h(O,U.props),Ho(O,U),O.return=P,O):(O=yu(U.type,U.key,U.props,null,P.mode,F),Ho(O,U),O.return=P,O)}function L(P,O,U,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=zh(U,P.mode,F),O.return=P,O):(O=h(O,U.children||[]),O.return=P,O)}function G(P,O,U,F,rt){return O===null||O.tag!==7?(O=hs(U,P.mode,F,rt),O.return=P,O):(O=h(O,U),O.return=P,O)}function Q(P,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Lh(""+O,P.mode,U),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case w:return U=yu(O.type,O.key,O.props,null,P.mode,U),Ho(U,O),U.return=P,U;case H:return O=zh(O,P.mode,U),O.return=P,O;case S:var F=O._init;return O=F(O._payload),Q(P,O,U)}if(re(O)||k(O))return O=hs(O,P.mode,U,null),O.return=P,O;if(typeof O.then=="function")return Q(P,ku(O),U);if(O.$$typeof===ut)return Q(P,Au(P,O),U);xu(P,O)}return null}function z(P,O,U,F){var rt=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return rt!==null?null:E(P,O,""+U,F);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return U.key===rt?b(P,O,U,F):null;case H:return U.key===rt?L(P,O,U,F):null;case S:return rt=U._init,U=rt(U._payload),z(P,O,U,F)}if(re(U)||k(U))return rt!==null?null:G(P,O,U,F,null);if(typeof U.then=="function")return z(P,O,ku(U),F);if(U.$$typeof===ut)return z(P,O,Au(P,U),F);xu(P,U)}return null}function B(P,O,U,F,rt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return P=P.get(U)||null,E(O,P,""+F,rt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case w:return P=P.get(F.key===null?U:F.key)||null,b(O,P,F,rt);case H:return P=P.get(F.key===null?U:F.key)||null,L(O,P,F,rt);case S:var It=F._init;return F=It(F._payload),B(P,O,U,F,rt)}if(re(F)||k(F))return P=P.get(U)||null,G(O,P,F,rt,null);if(typeof F.then=="function")return B(P,O,U,ku(F),rt);if(F.$$typeof===ut)return B(P,O,U,Au(O,F),rt);xu(O,F)}return null}function pt(P,O,U,F){for(var rt=null,It=null,at=O,dt=O=0,Ne=null;at!==null&&dt<U.length;dt++){at.index>dt?(Ne=at,at=null):Ne=at.sibling;var Lt=z(P,at,U[dt],F);if(Lt===null){at===null&&(at=Ne);break}e&&at&&Lt.alternate===null&&i(P,at),O=d(Lt,O,dt),It===null?rt=Lt:It.sibling=Lt,It=Lt,at=Ne}if(dt===U.length)return a(P,at),Bt&&ds(P,dt),rt;if(at===null){for(;dt<U.length;dt++)at=Q(P,U[dt],F),at!==null&&(O=d(at,O,dt),It===null?rt=at:It.sibling=at,It=at);return Bt&&ds(P,dt),rt}for(at=o(at);dt<U.length;dt++)Ne=B(at,P,dt,U[dt],F),Ne!==null&&(e&&Ne.alternate!==null&&at.delete(Ne.key===null?dt:Ne.key),O=d(Ne,O,dt),It===null?rt=Ne:It.sibling=Ne,It=Ne);return e&&at.forEach(function(yr){return i(P,yr)}),Bt&&ds(P,dt),rt}function ht(P,O,U,F){if(U==null)throw Error(s(151));for(var rt=null,It=null,at=O,dt=O=0,Ne=null,Lt=U.next();at!==null&&!Lt.done;dt++,Lt=U.next()){at.index>dt?(Ne=at,at=null):Ne=at.sibling;var yr=z(P,at,Lt.value,F);if(yr===null){at===null&&(at=Ne);break}e&&at&&yr.alternate===null&&i(P,at),O=d(yr,O,dt),It===null?rt=yr:It.sibling=yr,It=yr,at=Ne}if(Lt.done)return a(P,at),Bt&&ds(P,dt),rt;if(at===null){for(;!Lt.done;dt++,Lt=U.next())Lt=Q(P,Lt.value,F),Lt!==null&&(O=d(Lt,O,dt),It===null?rt=Lt:It.sibling=Lt,It=Lt);return Bt&&ds(P,dt),rt}for(at=o(at);!Lt.done;dt++,Lt=U.next())Lt=B(at,P,dt,Lt.value,F),Lt!==null&&(e&&Lt.alternate!==null&&at.delete(Lt.key===null?dt:Lt.key),O=d(Lt,O,dt),It===null?rt=Lt:It.sibling=Lt,It=Lt);return e&&at.forEach(function(WA){return i(P,WA)}),Bt&&ds(P,dt),rt}function Xt(P,O,U,F){if(typeof U=="object"&&U!==null&&U.type===Y&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case w:t:{for(var rt=U.key;O!==null;){if(O.key===rt){if(rt=U.type,rt===Y){if(O.tag===7){a(P,O.sibling),F=h(O,U.props.children),F.return=P,P=F;break t}}else if(O.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&bp(rt)===O.type){a(P,O.sibling),F=h(O,U.props),Ho(F,U),F.return=P,P=F;break t}a(P,O);break}else i(P,O);O=O.sibling}U.type===Y?(F=hs(U.props.children,P.mode,F,U.key),F.return=P,P=F):(F=yu(U.type,U.key,U.props,null,P.mode,F),Ho(F,U),F.return=P,P=F)}return v(P);case H:t:{for(rt=U.key;O!==null;){if(O.key===rt)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(P,O.sibling),F=h(O,U.children||[]),F.return=P,P=F;break t}else{a(P,O);break}else i(P,O);O=O.sibling}F=zh(U,P.mode,F),F.return=P,P=F}return v(P);case S:return rt=U._init,U=rt(U._payload),Xt(P,O,U,F)}if(re(U))return pt(P,O,U,F);if(k(U)){if(rt=k(U),typeof rt!="function")throw Error(s(150));return U=rt.call(U),ht(P,O,U,F)}if(typeof U.then=="function")return Xt(P,O,ku(U),F);if(U.$$typeof===ut)return Xt(P,O,Au(P,U),F);xu(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(P,O.sibling),F=h(O,U),F.return=P,P=F):(a(P,O),F=Lh(U,P.mode,F),F.return=P,P=F),v(P)):a(P,O)}return function(P,O,U,F){try{qo=0;var rt=Xt(P,O,U,F);return da=null,rt}catch(at){if(at===Vo||at===bu)throw at;var It=un(29,at,null,P.mode);return It.lanes=F,It.return=P,It}finally{}}}var ma=Rp(!0),wp=Rp(!1),In=$(null),ti=null;function ir(e){var i=e.alternate;W(Ae,Ae.current&1),W(In,e),ti===null&&(i===null||ua.current!==null||i.memoizedState!==null)&&(ti=e)}function Ip(e){if(e.tag===22){if(W(Ae,Ae.current),W(In,e),ti===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ti=e)}}else rr()}function rr(){W(Ae,Ae.current),W(In,In.current)}function Di(e){nt(In),ti===e&&(ti=null),nt(Ae)}var Ae=$(0);function Uu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ld(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function vf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ef={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=dn(),h=tr(o);h.payload=i,a!=null&&(h.callback=a),i=er(e,h,o),i!==null&&(mn(i,e,o),Po(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=dn(),h=tr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=er(e,h,o),i!==null&&(mn(i,e,o),Po(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=dn(),o=tr(a);o.tag=2,i!=null&&(o.callback=i),i=er(e,o,a),i!==null&&(mn(i,e,a),Po(i,e,a))}};function Cp(e,i,a,o,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!bo(a,o)||!bo(h,d):!0}function Dp(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Ef.enqueueReplaceState(i,i.state,null)}function Es(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Lu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Op(e){Lu(e)}function Np(e){console.error(e)}function Vp(e){Lu(e)}function zu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Mp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Tf(e,i,a){return a=tr(a),a.tag=3,a.payload={element:null},a.callback=function(){zu(e,i)},a}function Pp(e){return e=tr(e),e.tag=3,e}function kp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){Mp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Mp(i,a,o),typeof h!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function W0(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Do(i,a,h,!0),a=In.current,a!==null){switch(a.tag){case 13:return ti===null?Ff():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Xh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Kf(e,o,h)),!1;case 22:return a.flags|=65536,o===Xh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Kf(e,o,h)),!1}throw Error(s(435,a.tag))}return Kf(e,o,h),Ff(),!1}if(Bt)return i=In.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Hh&&(e=Error(s(422),{cause:o}),Co(Sn(e,a)))):(o!==Hh&&(i=Error(s(423),{cause:o}),Co(Sn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Sn(o,a),h=Tf(e.stateNode,o,h),Wh(e,h),oe!==4&&(oe=2)),!1;var d=Error(s(520),{cause:o});if(d=Sn(d,a),Xo===null?Xo=[d]:Xo.push(d),oe!==4&&(oe=2),i===null)return!0;o=Sn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Tf(a.stateNode,o,e),Wh(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(cr===null||!cr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Pp(h),kp(h,e,a,o),Wh(a,h),!1}a=a.return}while(a!==null);return!1}var xp=Error(s(461)),De=!1;function xe(e,i,a,o){i.child=e===null?wp(i,null,a,o):ma(i,e.child,a,o)}function Up(e,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return _s(i),o=rf(e,i,a,v,d,h),E=sf(),e!==null&&!De?(af(e,i,h),Oi(e,i,h)):(Bt&&E&&Bh(i),i.flags|=1,xe(e,i,o,h),i.child)}function Lp(e,i,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!Uh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,zp(e,i,d,o,h)):(e=yu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Df(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:bo,a(v,o)&&e.ref===i.ref)return Oi(e,i,h)}return i.flags|=1,e=Si(d,o),e.ref=i.ref,e.return=i,i.child=e}function zp(e,i,a,o,h){if(e!==null){var d=e.memoizedProps;if(bo(d,o)&&e.ref===i.ref)if(De=!1,i.pendingProps=o=d,Df(e,h))(e.flags&131072)!==0&&(De=!0);else return i.lanes=e.lanes,Oi(e,i,h)}return Af(e,i,a,o,h)}function Bp(e,i,a){var o=i.pendingProps,h=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return qp(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Su(i,d!==null?d.cachePool:null),d!==null?zg(i,d):tf(),Ip(i);else return i.lanes=i.childLanes=536870912,qp(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Su(i,d.cachePool),zg(i,d),rr(),i.memoizedState=null):(e!==null&&Su(i,null),tf(),rr());return xe(e,i,h,a),i.child}function qp(e,i,a,o){var h=Yh();return h=h===null?null:{parent:Te._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Su(i,null),tf(),Ip(i),e!==null&&Do(e,i,o,!0),null}function Bu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Af(e,i,a,o,h){return _s(i),a=rf(e,i,a,o,void 0,h),o=sf(),e!==null&&!De?(af(e,i,h),Oi(e,i,h)):(Bt&&o&&Bh(i),i.flags|=1,xe(e,i,a,h),i.child)}function Hp(e,i,a,o,h,d){return _s(i),i.updateQueue=null,a=qg(i,o,a,h),Bg(e),o=sf(),e!==null&&!De?(af(e,i,d),Oi(e,i,d)):(Bt&&o&&Bh(i),i.flags|=1,xe(e,i,a,d),i.child)}function jp(e,i,a,o,h){if(_s(i),i.stateNode===null){var d=ra,v=a.contextType;typeof v=="object"&&v!==null&&(d=je(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ef,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},$h(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?je(v):ra,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(vf(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Ef.enqueueReplaceState(d,d.state,null),xo(i,o,d,h),ko(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,b=Es(a,E);d.props=b;var L=d.context,G=a.contextType;v=ra,typeof G=="object"&&G!==null&&(v=je(G));var Q=a.getDerivedStateFromProps;G=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||L!==v)&&Dp(i,d,o,v),Ji=!1;var z=i.memoizedState;d.state=z,xo(i,o,d,h),ko(),L=i.memoizedState,E||z!==L||Ji?(typeof Q=="function"&&(vf(i,a,Q,o),L=i.memoizedState),(b=Ji||Cp(i,a,b,o,z,L,v))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=L),d.props=o,d.state=L,d.context=v,o=b):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Zh(e,i),v=i.memoizedProps,G=Es(a,v),d.props=G,Q=i.pendingProps,z=d.context,L=a.contextType,b=ra,typeof L=="object"&&L!==null&&(b=je(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Q||z!==b)&&Dp(i,d,o,b),Ji=!1,z=i.memoizedState,d.state=z,xo(i,o,d,h),ko();var B=i.memoizedState;v!==Q||z!==B||Ji||e!==null&&e.dependencies!==null&&Tu(e.dependencies)?(typeof E=="function"&&(vf(i,a,E,o),B=i.memoizedState),(G=Ji||Cp(i,a,G,o,z,B,b)||e!==null&&e.dependencies!==null&&Tu(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,B,b),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,B,b)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),d.props=o,d.state=B,d.context=b,o=G):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,Bu(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=ma(i,e.child,null,h),i.child=ma(i,null,a,h)):xe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Oi(e,i,h),e}function Gp(e,i,a,o){return Io(),i.flags|=256,xe(e,i,a,o),i.child}var Sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bf(e){return{baseLanes:e,cachePool:Ng()}}function Rf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Cn),e}function Fp(e,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?ir(i):rr(),Bt){var E=ae,b;if(b=E){t:{for(b=E,E=Jn;b.nodeType!==8;){if(!E){E=null;break t}if(b=xn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(i.memoizedState={dehydrated:E,treeContext:fs!==null?{id:bi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},b=un(18,null,null,0),b.stateNode=E,b.return=i,i.child=b,We=i,ae=null,b=!0):b=!1}b||gs(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ld(E)?i.lanes=32:i.lanes=536870912,null;Di(i)}return E=o.children,o=o.fallback,h?(rr(),h=i.mode,E=qu({mode:"hidden",children:E},h),o=hs(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=bf(a),h.childLanes=Rf(e,v,a),i.memoizedState=Sf,o):(ir(i),wf(i,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(d)i.flags&256?(ir(i),i.flags&=-257,i=If(e,i,a)):i.memoizedState!==null?(rr(),i.child=e.child,i.flags|=128,i=null):(rr(),h=o.fallback,E=i.mode,o=qu({mode:"visible",children:o.children},E),h=hs(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,ma(i,e.child,null,a),o=i.child,o.memoizedState=bf(a),o.childLanes=Rf(e,v,a),i.memoizedState=Sf,i=h);else if(ir(i),ld(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,o=Error(s(419)),o.stack="",o.digest=v,Co({value:o,source:null,stack:null}),i=If(e,i,a)}else if(De||Do(e,i,a,!1),v=(a&e.childLanes)!==0,De||v){if(v=Wt,v!==null&&(o=a&-a,o=(o&42)!==0?1:Fi(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,ia(e,o),mn(v,e,o),xp;E.data==="$?"||Ff(),i=If(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=b.treeContext,ae=xn(E.nextSibling),We=i,Bt=!0,ms=null,Jn=!1,e!==null&&(Rn[wn++]=bi,Rn[wn++]=Ri,Rn[wn++]=fs,bi=e.id,Ri=e.overflow,fs=i),i=wf(i,o.children),i.flags|=4096);return i}return h?(rr(),h=o.fallback,E=i.mode,b=e.child,L=b.sibling,o=Si(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,L!==null?h=Si(L,h):(h=hs(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=bf(a):(b=E.cachePool,b!==null?(L=Te._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=Ng(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=Rf(e,v,a),i.memoizedState=Sf,o):(ir(i),a=e.child,e=a.sibling,a=Si(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function wf(e,i){return i=qu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function qu(e,i){return e=un(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function If(e,i,a){return ma(i,e.child,null,a),e=wf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Qp(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Gh(e.return,i,a)}function Cf(e,i,a,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function Kp(e,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;if(xe(e,i,o.children,a),o=Ae.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qp(e,a,i);else if(e.tag===19)Qp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(W(Ae,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Uu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Cf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Uu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Cf(i,!0,a,null,d);break;case"together":Cf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Oi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),ur|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Do(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Si(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Si(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Df(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Tu(e)))}function J0(e,i,a){switch(i.tag){case 3:Zt(i,i.stateNode.containerInfo),Wi(i,Te,e.memoizedState.cache),Io();break;case 27:case 5:Gi(i);break;case 4:Zt(i,i.stateNode.containerInfo);break;case 10:Wi(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(ir(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Fp(e,i,a):(ir(i),e=Oi(e,i,a),e!==null?e.sibling:null);ir(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Do(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Kp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(Ae,Ae.current),o)break;return null;case 22:case 23:return i.lanes=0,Bp(e,i,a);case 24:Wi(i,Te,e.memoizedState.cache)}return Oi(e,i,a)}function Yp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)De=!0;else{if(!Df(e,a)&&(i.flags&128)===0)return De=!1,J0(e,i,a);De=(e.flags&131072)!==0}else De=!1,Bt&&(i.flags&1048576)!==0&&bg(i,Eu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Uh(o)?(e=Es(o,e),i.tag=1,i=jp(null,i,o,e,a)):(i.tag=0,i=Af(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===Vt){i.tag=11,i=Up(null,i,o,e,a);break t}else if(h===V){i.tag=14,i=Lp(null,i,o,e,a);break t}}throw i=Me(o)||o,Error(s(306,i,""))}}return i;case 0:return Af(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Es(o,i.pendingProps),jp(e,i,o,h,a);case 3:t:{if(Zt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,Zh(e,i),xo(i,o,null,a);var v=i.memoizedState;if(o=v.cache,Wi(i,Te,o),o!==d.cache&&Fh(i,[Te],a,!0),ko(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Gp(e,i,o,a);break t}else if(o!==h){h=Sn(Error(s(424)),i),Co(h),i=Gp(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=xn(e.firstChild),We=i,Bt=!0,ms=null,Jn=!0,a=wp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Io(),o===h){i=Oi(e,i,a);break t}xe(e,i,o,a)}i=i.child}return i;case 26:return Bu(e,i),e===null?(a=W_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,o=ec(_t.current).createElement(a),o[ye]=i,o[fe]=e,Le(o,a,e),le(o),i.stateNode=o):i.memoizedState=W_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Gi(i),e===null&&Bt&&(o=i.stateNode=X_(i.type,i.pendingProps,_t.current),We=i,Jn=!0,h=ae,dr(i.type)?(ud=h,ae=xn(o.firstChild)):ae=h),xe(e,i,i.pendingProps.children,a),Bu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((h=o=ae)&&(o=IA(o,i.type,i.pendingProps,Jn),o!==null?(i.stateNode=o,We=i,ae=xn(o.firstChild),Jn=!1,h=!0):h=!1),h||gs(i)),Gi(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,sd(h,d)?o=null:v!==null&&sd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=rf(e,i,F0,null,null,a),rl._currentValue=h),Bu(e,i),xe(e,i,o,a),i.child;case 6:return e===null&&Bt&&((e=a=ae)&&(a=CA(a,i.pendingProps,Jn),a!==null?(i.stateNode=a,We=i,ae=null,e=!0):e=!1),e||gs(i)),null;case 13:return Fp(e,i,a);case 4:return Zt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=ma(i,null,o,a):xe(e,i,o,a),i.child;case 11:return Up(e,i,i.type,i.pendingProps,a);case 7:return xe(e,i,i.pendingProps,a),i.child;case 8:return xe(e,i,i.pendingProps.children,a),i.child;case 12:return xe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Wi(i,i.type,o.value),xe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,_s(i),h=je(h),o=o(h),i.flags|=1,xe(e,i,o,a),i.child;case 14:return Lp(e,i,i.type,i.pendingProps,a);case 15:return zp(e,i,i.type,i.pendingProps,a);case 19:return Kp(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=qu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Si(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Bp(e,i,a);case 24:return _s(i),o=je(Te),e===null?(h=Yh(),h===null&&(h=Wt,d=Qh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},$h(i),Wi(i,Te,h)):((e.lanes&a)!==0&&(Zh(e,i),xo(i,null,null,a),ko()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Wi(i,Te,o)):(o=d.cache,Wi(i,Te,o),o!==h.cache&&Fh(i,[Te],a,!0))),xe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ni(e){e.flags|=4}function Xp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!iy(i)){if(i=In.current,i!==null&&((xt&4194048)===xt?ti!==null:(xt&62914560)!==xt&&(xt&536870912)===0||i!==ti))throw Mo=Xh,Vg;e.flags|=8192}}function Hu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?so():536870912,e.lanes|=i,ya|=i)}function jo(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function tA(e,i,a){var o=i.pendingProps;switch(qh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(i),null;case 1:return ne(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ii(Te),qn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wo(i)?Ni(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ig())),ne(i),null;case 26:return a=i.memoizedState,e===null?(Ni(i),a!==null?(ne(i),Xp(i,a)):(ne(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Ni(i),ne(i),Xp(i,a)):(ne(i),i.flags&=-16777217):(e.memoizedProps!==o&&Ni(i),ne(i),i.flags&=-16777217),null;case 27:ci(i),a=_t.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Ni(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ne(i),null}e=ct.current,wo(i)?Rg(i):(e=X_(h,o,a),i.stateNode=e,Ni(i))}return ne(i),null;case 5:if(ci(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Ni(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ne(i),null}if(e=ct.current,wo(i))Rg(i);else{switch(h=ec(_t.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[ye]=i,e[fe]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Le(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ni(i)}}return ne(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Ni(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=_t.current,wo(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=We,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ye]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||H_(e.nodeValue,a)),e||gs(i)}else e=ec(e).createTextNode(o),e[ye]=i,i.stateNode=e}return ne(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=wo(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ye]=i}else Io(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),h=!1}else h=Ig(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Di(i),i):(Di(i),null)}if(Di(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Hu(i,i.updateQueue),ne(i),null;case 4:return qn(),e===null&&td(i.stateNode.containerInfo),ne(i),null;case 10:return Ii(i.type),ne(i),null;case 19:if(nt(Ae),h=i.memoizedState,h===null)return ne(i),null;if(o=(i.flags&128)!==0,d=h.rendering,d===null)if(o)jo(h,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Uu(e),d!==null){for(i.flags|=128,jo(h,!1),e=d.updateQueue,i.updateQueue=e,Hu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Sg(a,e),a=a.sibling;return W(Ae,Ae.current&1|2),i.child}e=e.sibling}h.tail!==null&&_n()>Fu&&(i.flags|=128,o=!0,jo(h,!1),i.lanes=4194304)}else{if(!o)if(e=Uu(d),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Hu(i,e),jo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Bt)return ne(i),null}else 2*_n()-h.renderingStartTime>Fu&&a!==536870912&&(i.flags|=128,o=!0,jo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=_n(),i.sibling=null,e=Ae.current,W(Ae,o?e&1|2:e&1),i):(ne(i),null);case 22:case 23:return Di(i),ef(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ne(i),i.subtreeFlags&6&&(i.flags|=8192)):ne(i),a=i.updateQueue,a!==null&&Hu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&nt(ys),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ii(Te),ne(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function eA(e,i){switch(qh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ii(Te),qn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ci(i),null;case 13:if(Di(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Io()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return nt(Ae),null;case 4:return qn(),null;case 10:return Ii(i.type),null;case 22:case 23:return Di(i),ef(),e!==null&&nt(ys),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ii(Te),null;case 25:return null;default:return null}}function $p(e,i){switch(qh(i),i.tag){case 3:Ii(Te),qn();break;case 26:case 27:case 5:ci(i);break;case 4:qn();break;case 13:Di(i);break;case 19:nt(Ae);break;case 10:Ii(i.type);break;case 22:case 23:Di(i),ef(),e!==null&&nt(ys);break;case 24:Ii(Te)}}function Go(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){$t(i,i.return,E)}}function sr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var b=a,L=E;try{L()}catch(G){$t(h,b,G)}}}o=o.next}while(o!==d)}}catch(G){$t(i,i.return,G)}}function Zp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Lg(i,a)}catch(o){$t(e,e.return,o)}}}function Wp(e,i,a){a.props=Es(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,i,o)}}function Fo(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){$t(e,i,h)}}function ei(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function Jp(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Of(e,i,a){try{var o=e.stateNode;AA(o,e.type,a,i),o[fe]=i}catch(h){$t(e,e.return,h)}}function t_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&dr(e.type)||e.tag===4}function Nf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||t_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=tc));else if(o!==4&&(o===27&&dr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Vf(e,i,a),e=e.sibling;e!==null;)Vf(e,i,a),e=e.sibling}function ju(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&dr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ju(e,i,a),e=e.sibling;e!==null;)ju(e,i,a),e=e.sibling}function e_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Le(i,o,a),i[ye]=e,i[fe]=a}catch(d){$t(e,e.return,d)}}var Vi=!1,ce=!1,Mf=!1,n_=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function nA(e,i){if(e=e.containerInfo,id=oc,e=dg(e),Oh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,b=-1,L=0,G=0,Q=e,z=null;e:for(;;){for(var B;Q!==a||h!==0&&Q.nodeType!==3||(E=v+h),Q!==d||o!==0&&Q.nodeType!==3||(b=v+o),Q.nodeType===3&&(v+=Q.nodeValue.length),(B=Q.firstChild)!==null;)z=Q,Q=B;for(;;){if(Q===e)break e;if(z===a&&++L===h&&(E=v),z===d&&++G===o&&(b=v),(B=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=B}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(rd={focusedElem:e,selectionRange:a},oc=!1,Oe=i;Oe!==null;)if(i=Oe,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Oe=e;else for(;Oe!==null;){switch(i=Oe,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var pt=Es(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(pt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(ht){$t(a,a.return,ht)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)od(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":od(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Oe=e;break}Oe=i.return}}function i_(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ar(e,a),o&4&&Go(5,a);break;case 1:if(ar(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=Es(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}o&64&&Zp(a),o&512&&Fo(a,a.return);break;case 3:if(ar(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Lg(e,i)}catch(v){$t(a,a.return,v)}}break;case 27:i===null&&o&4&&e_(a);case 26:case 5:ar(e,a),i===null&&o&4&&Jp(a),o&512&&Fo(a,a.return);break;case 12:ar(e,a);break;case 13:ar(e,a),o&4&&a_(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=hA.bind(null,a),DA(e,a))));break;case 22:if(o=a.memoizedState!==null||Vi,!o){i=i!==null&&i.memoizedState!==null||ce,h=Vi;var d=ce;Vi=o,(ce=i)&&!d?or(e,a,(a.subtreeFlags&8772)!==0):ar(e,a),Vi=h,ce=d}break;case 30:break;default:ar(e,a)}}function r_(e){var i=e.alternate;i!==null&&(e.alternate=null,r_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Yi(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ee=null,tn=!1;function Mi(e,i,a){for(a=a.child;a!==null;)s_(e,i,a),a=a.sibling}function s_(e,i,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(se,a)}catch{}switch(a.tag){case 26:ce||ei(a,i),Mi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ce||ei(a,i);var o=ee,h=tn;dr(a.type)&&(ee=a.stateNode,tn=!1),Mi(e,i,a),tl(a.stateNode),ee=o,tn=h;break;case 5:ce||ei(a,i);case 6:if(o=ee,h=tn,ee=null,Mi(e,i,a),ee=o,tn=h,ee!==null)if(tn)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(d){$t(a,i,d)}else try{ee.removeChild(a.stateNode)}catch(d){$t(a,i,d)}break;case 18:ee!==null&&(tn?(e=ee,K_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ll(e)):K_(ee,a.stateNode));break;case 4:o=ee,h=tn,ee=a.stateNode.containerInfo,tn=!0,Mi(e,i,a),ee=o,tn=h;break;case 0:case 11:case 14:case 15:ce||sr(2,a,i),ce||sr(4,a,i),Mi(e,i,a);break;case 1:ce||(ei(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Wp(a,i,o)),Mi(e,i,a);break;case 21:Mi(e,i,a);break;case 22:ce=(o=ce)||a.memoizedState!==null,Mi(e,i,a),ce=o;break;default:Mi(e,i,a)}}function a_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ll(e)}catch(a){$t(i,i.return,a)}}function iA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new n_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new n_),i;default:throw Error(s(435,e.tag))}}function Pf(e,i){var a=iA(e);i.forEach(function(o){var h=fA.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function cn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(dr(E.type)){ee=E.stateNode,tn=!1;break t}break;case 5:ee=E.stateNode,tn=!1;break t;case 3:case 4:ee=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(ee===null)throw Error(s(160));s_(d,v,h),ee=null,tn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)o_(i,e),i=i.sibling}var kn=null;function o_(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(i,e),hn(e),o&4&&(sr(3,e,e.return),Go(3,e),sr(5,e,e.return));break;case 1:cn(i,e),hn(e),o&512&&(ce||a===null||ei(a,a.return)),o&64&&Vi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=kn;if(cn(i,e),hn(e),o&512&&(ce||a===null||ei(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Xr]||d[ye]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Le(d,o,a),d[ye]=e,le(d),o=d;break t;case"link":var v=ey("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(o),Le(d,o,a),h.head.appendChild(d);break;case"meta":if(v=ey("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(o),Le(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[ye]=e,le(d),o=d}e.stateNode=o}else ny(h,e.type,e.stateNode);else e.stateNode=ty(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?ny(h,e.type,e.stateNode):ty(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Of(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(i,e),hn(e),o&512&&(ce||a===null||ei(a,a.return)),a!==null&&o&4&&Of(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,e),hn(e),o&512&&(ce||a===null||ei(a,a.return)),e.flags&32){h=e.stateNode;try{vn(h,"")}catch(B){$t(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Of(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Mf=!0);break;case 6:if(cn(i,e),hn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(B){$t(e,e.return,B)}}break;case 3:if(rc=null,h=kn,kn=nc(i.containerInfo),cn(i,e),kn=h,hn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ll(i.containerInfo)}catch(B){$t(e,e.return,B)}Mf&&(Mf=!1,l_(e));break;case 4:o=kn,kn=nc(e.stateNode.containerInfo),cn(i,e),hn(e),kn=o;break;case 12:cn(i,e),hn(e);break;case 13:cn(i,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bf=_n()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Pf(e,o)));break;case 22:h=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,L=Vi,G=ce;if(Vi=L||h,ce=G||b,cn(i,e),ce=G,Vi=L,hn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||b||Vi||ce||Ts(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(d=b.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=b.stateNode;var Q=b.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){$t(b,b.return,B)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(B){$t(b,b.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Pf(e,a))));break;case 19:cn(i,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Pf(e,o)));break;case 30:break;case 21:break;default:cn(i,e),hn(e)}}function hn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(t_(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Nf(e);ju(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(vn(v,""),a.flags&=-33);var E=Nf(e);ju(e,E,v);break;case 3:case 4:var b=a.stateNode.containerInfo,L=Nf(e);Vf(e,L,b);break;default:throw Error(s(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function l_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;l_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ar(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)i_(e,i.alternate,i),i=i.sibling}function Ts(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:sr(4,i,i.return),Ts(i);break;case 1:ei(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Wp(i,i.return,a),Ts(i);break;case 27:tl(i.stateNode);case 26:case 5:ei(i,i.return),Ts(i);break;case 22:i.memoizedState===null&&Ts(i);break;case 30:Ts(i);break;default:Ts(i)}e=e.sibling}}function or(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:or(h,d,a),Go(4,d);break;case 1:if(or(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){$t(o,o.return,L)}if(o=d,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)Ug(b[h],E)}catch(L){$t(o,o.return,L)}}a&&v&64&&Zp(d),Fo(d,d.return);break;case 27:e_(d);case 26:case 5:or(h,d,a),a&&o===null&&v&4&&Jp(d),Fo(d,d.return);break;case 12:or(h,d,a);break;case 13:or(h,d,a),a&&v&4&&a_(h,d);break;case 22:d.memoizedState===null&&or(h,d,a),Fo(d,d.return);break;case 30:break;default:or(h,d,a)}i=i.sibling}}function kf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Oo(a))}function xf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Oo(e))}function ni(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)u_(e,i,a,o),i=i.sibling}function u_(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ni(e,i,a,o),h&2048&&Go(9,i);break;case 1:ni(e,i,a,o);break;case 3:ni(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Oo(e)));break;case 12:if(h&2048){ni(e,i,a,o),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){$t(i,i.return,b)}}else ni(e,i,a,o);break;case 13:ni(e,i,a,o);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ni(e,i,a,o):Qo(e,i):d._visibility&2?ni(e,i,a,o):(d._visibility|=2,ga(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&kf(v,i);break;case 24:ni(e,i,a,o),h&2048&&xf(i.alternate,i);break;default:ni(e,i,a,o)}}function ga(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,b=o,L=v.flags;switch(v.tag){case 0:case 11:case 15:ga(d,v,E,b,h),Go(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?ga(d,v,E,b,h):Qo(d,v):(G._visibility|=2,ga(d,v,E,b,h)),h&&L&2048&&kf(v.alternate,v);break;case 24:ga(d,v,E,b,h),h&&L&2048&&xf(v.alternate,v);break;default:ga(d,v,E,b,h)}i=i.sibling}}function Qo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Qo(a,o),h&2048&&kf(o.alternate,o);break;case 24:Qo(a,o),h&2048&&xf(o.alternate,o);break;default:Qo(a,o)}i=i.sibling}}var Ko=8192;function pa(e){if(e.subtreeFlags&Ko)for(e=e.child;e!==null;)c_(e),e=e.sibling}function c_(e){switch(e.tag){case 26:pa(e),e.flags&Ko&&e.memoizedState!==null&&HA(kn,e.memoizedState,e.memoizedProps);break;case 5:pa(e);break;case 3:case 4:var i=kn;kn=nc(e.stateNode.containerInfo),pa(e),kn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Ko,Ko=16777216,pa(e),Ko=i):pa(e));break;default:pa(e)}}function h_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Yo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Oe=o,d_(o,e)}h_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)f_(e),e=e.sibling}function f_(e){switch(e.tag){case 0:case 11:case 15:Yo(e),e.flags&2048&&sr(9,e,e.return);break;case 3:Yo(e);break;case 12:Yo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Gu(e)):Yo(e);break;default:Yo(e)}}function Gu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Oe=o,d_(o,e)}h_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:sr(8,i,i.return),Gu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Gu(i));break;default:Gu(i)}e=e.sibling}}function d_(e,i){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:sr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Oo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Oe=o;else t:for(a=e;Oe!==null;){o=Oe;var h=o.sibling,d=o.return;if(r_(o),o===a){Oe=null;break t}if(h!==null){h.return=d,Oe=h;break t}Oe=d}}}var rA={getCacheForType:function(e){var i=je(Te),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},sA=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Wt=null,Ct=null,xt=0,Ft=0,fn=null,lr=!1,_a=!1,Uf=!1,Pi=0,oe=0,ur=0,As=0,Lf=0,Cn=0,ya=0,Xo=null,en=null,zf=!1,Bf=0,Fu=1/0,Qu=null,cr=null,Ue=0,hr=null,va=null,Ea=0,qf=0,Hf=null,m_=null,$o=0,jf=null;function dn(){if((Gt&2)!==0&&xt!==0)return xt&-xt;if(j.T!==null){var e=oa;return e!==0?e:$f()}return Qi()}function g_(){Cn===0&&(Cn=(xt&536870912)===0||Bt?ro():536870912);var e=In.current;return e!==null&&(e.flags|=32),Cn}function mn(e,i,a){(e===Wt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ta(e,0),fr(e,xt,Cn,!1)),fi(e,a),((Gt&2)===0||e!==Wt)&&(e===Wt&&((Gt&2)===0&&(As|=a),oe===4&&fr(e,xt,Cn,!1)),ii(e))}function p_(e,i,a){if((Gt&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Yr(e,i),h=o?lA(e,i):Qf(e,i,!0),d=o;do{if(h===0){_a&&!o&&fr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!aA(a)){h=Qf(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=Xo;var b=E.current.memoizedState.isDehydrated;if(b&&(Ta(E,v).flags|=256),v=Qf(E,v,!1),v!==2){if(Uf&&!b){E.errorRecoveryDisabledLanes|=d,As|=d,h=4;break t}d=en,en=h,d!==null&&(en===null?en=d:en.push.apply(en,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ta(e,0),fr(e,i,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:fr(o,i,Cn,!lr);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Bf+300-_n(),10<h)){if(fr(o,i,Cn,!lr),Ls(o,0,!0)!==0)break t;o.timeoutHandle=F_(__.bind(null,o,a,en,Qu,zf,i,Cn,As,ya,lr,d,2,-0,0),h);break t}__(o,a,en,Qu,zf,i,Cn,As,ya,lr,d,0,-0,0)}}break}while(!0);ii(e)}function __(e,i,a,o,h,d,v,E,b,L,G,Q,z,B){if(e.timeoutHandle=-1,Q=i.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(il={stylesheets:null,count:0,unsuspend:qA},c_(i),Q=jA(),Q!==null)){e.cancelPendingCommit=Q(b_.bind(null,e,i,d,a,o,h,v,E,b,G,1,z,B)),fr(e,d,v,!L);return}b_(e,i,d,a,o,h,v,E,b)}function aA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!ln(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fr(e,i,a,o){i&=~Lf,i&=~As,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-He(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&Hn(e,a,i)}function Ku(){return(Gt&6)===0?(Zo(0),!1):!0}function Gf(){if(Ct!==null){if(Ft===0)var e=Ct.return;else e=Ct,wi=ps=null,of(e),da=null,qo=0,e=Ct;for(;e!==null;)$p(e.alternate,e),e=e.return;Ct=null}}function Ta(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,bA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Gf(),Wt=e,Ct=a=Si(e.current,null),xt=i,Ft=0,fn=null,lr=!1,_a=Yr(e,i),Uf=!1,ya=Cn=Lf=As=ur=oe=0,en=Xo=null,zf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-He(o),d=1<<h;i|=e[h],o&=~d}return Pi=i,gu(),a}function y_(e,i){bt=null,j.H=Pu,i===Vo||i===bu?(i=kg(),Ft=3):i===Vg?(i=kg(),Ft=4):Ft=i===xp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,fn=i,Ct===null&&(oe=1,zu(e,Sn(i,e.current)))}function v_(){var e=j.H;return j.H=Pu,e===null?Pu:e}function E_(){var e=j.A;return j.A=rA,e}function Ff(){oe=4,lr||(xt&4194048)!==xt&&In.current!==null||(_a=!0),(ur&134217727)===0&&(As&134217727)===0||Wt===null||fr(Wt,xt,Cn,!1)}function Qf(e,i,a){var o=Gt;Gt|=2;var h=v_(),d=E_();(Wt!==e||xt!==i)&&(Qu=null,Ta(e,i)),i=!1;var v=oe;t:do try{if(Ft!==0&&Ct!==null){var E=Ct,b=fn;switch(Ft){case 8:Gf(),v=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(i=!0);var L=Ft;if(Ft=0,fn=null,Aa(e,E,b,L),a&&_a){v=0;break t}break;default:L=Ft,Ft=0,fn=null,Aa(e,E,b,L)}}oA(),v=oe;break}catch(G){y_(e,G)}while(!0);return i&&e.shellSuspendCounter++,wi=ps=null,Gt=o,j.H=h,j.A=d,Ct===null&&(Wt=null,xt=0,gu()),v}function oA(){for(;Ct!==null;)T_(Ct)}function lA(e,i){var a=Gt;Gt|=2;var o=v_(),h=E_();Wt!==e||xt!==i?(Qu=null,Fu=_n()+500,Ta(e,i)):_a=Yr(e,i);t:do try{if(Ft!==0&&Ct!==null){i=Ct;var d=fn;e:switch(Ft){case 1:Ft=0,fn=null,Aa(e,i,d,1);break;case 2:case 9:if(Mg(d)){Ft=0,fn=null,A_(i);break}i=function(){Ft!==2&&Ft!==9||Wt!==e||(Ft=7),ii(e)},d.then(i,i);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Mg(d)?(Ft=0,fn=null,A_(i)):(Ft=0,fn=null,Aa(e,i,d,7));break;case 5:var v=null;switch(Ct.tag){case 26:v=Ct.memoizedState;case 5:case 27:var E=Ct;if(!v||iy(v)){Ft=0,fn=null;var b=E.sibling;if(b!==null)Ct=b;else{var L=E.return;L!==null?(Ct=L,Yu(L)):Ct=null}break e}}Ft=0,fn=null,Aa(e,i,d,5);break;case 6:Ft=0,fn=null,Aa(e,i,d,6);break;case 8:Gf(),oe=6;break t;default:throw Error(s(462))}}uA();break}catch(G){y_(e,G)}while(!0);return wi=ps=null,j.H=o,j.A=h,Gt=a,Ct!==null?0:(Wt=null,xt=0,gu(),oe)}function uA(){for(;Ct!==null&&!to();)T_(Ct)}function T_(e){var i=Yp(e.alternate,e,Pi);e.memoizedProps=e.pendingProps,i===null?Yu(e):Ct=i}function A_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Hp(a,i,i.pendingProps,i.type,void 0,xt);break;case 11:i=Hp(a,i,i.pendingProps,i.type.render,i.ref,xt);break;case 5:of(i);default:$p(a,i),i=Ct=Sg(i,Pi),i=Yp(a,i,Pi)}e.memoizedProps=e.pendingProps,i===null?Yu(e):Ct=i}function Aa(e,i,a,o){wi=ps=null,of(i),da=null,qo=0;var h=i.return;try{if(W0(e,h,i,a,xt)){oe=1,zu(e,Sn(a,e.current)),Ct=null;return}}catch(d){if(h!==null)throw Ct=h,d;oe=1,zu(e,Sn(a,e.current)),Ct=null;return}i.flags&32768?(Bt||o===1?e=!0:_a||(xt&536870912)!==0?e=!1:(lr=e=!0,(o===2||o===9||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),S_(i,e)):Yu(i)}function Yu(e){var i=e;do{if((i.flags&32768)!==0){S_(i,lr);return}e=i.return;var a=tA(i.alternate,i,Pi);if(a!==null){Ct=a;return}if(i=i.sibling,i!==null){Ct=i;return}Ct=i=e}while(i!==null);oe===0&&(oe=5)}function S_(e,i){do{var a=eA(e.alternate,e);if(a!==null){a.flags&=32767,Ct=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=a}while(e!==null);oe=6,Ct=null}function b_(e,i,a,o,h,d,v,E,b){e.cancelPendingCommit=null;do Xu();while(Ue!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=kh,ao(e,a,d,v,E,b),e===Wt&&(Ct=Wt=null,xt=0),va=i,hr=e,Ea=a,qf=d,Hf=h,m_=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,dA(Gr,function(){return D_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=j.T,j.T=null,h=et.p,et.p=2,v=Gt,Gt|=4;try{nA(e,i,a)}finally{Gt=v,et.p=h,j.T=o}}Ue=1,R_(),w_(),I_()}}function R_(){if(Ue===1){Ue=0;var e=hr,i=va,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=j.T,j.T=null;var o=et.p;et.p=2;var h=Gt;Gt|=4;try{o_(i,e);var d=rd,v=dg(e.containerInfo),E=d.focusedElem,b=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&fg(E.ownerDocument.documentElement,E)){if(b!==null&&Oh(E)){var L=b.start,G=b.end;if(G===void 0&&(G=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var B=z.getSelection(),pt=E.textContent.length,ht=Math.min(b.start,pt),Xt=b.end===void 0?ht:Math.min(b.end,pt);!B.extend&&ht>Xt&&(v=Xt,Xt=ht,ht=v);var P=hg(E,ht),O=hg(E,Xt);if(P&&O&&(B.rangeCount!==1||B.anchorNode!==P.node||B.anchorOffset!==P.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var U=Q.createRange();U.setStart(P.node,P.offset),B.removeAllRanges(),ht>Xt?(B.addRange(U),B.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),B.addRange(U))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}oc=!!id,rd=id=null}finally{Gt=h,et.p=o,j.T=a}}e.current=i,Ue=2}}function w_(){if(Ue===2){Ue=0;var e=hr,i=va,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=j.T,j.T=null;var o=et.p;et.p=2;var h=Gt;Gt|=4;try{i_(e,i.alternate,i)}finally{Gt=h,et.p=o,j.T=a}}Ue=3}}function I_(){if(Ue===4||Ue===3){Ue=0,Gl();var e=hr,i=va,a=Ea,o=m_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ue=5:(Ue=0,va=hr=null,C_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(cr=null),zs(a),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(se,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=j.T,h=et.p,et.p=2,j.T=null;try{for(var d=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];d(E.value,{componentStack:E.stack})}}finally{j.T=i,et.p=h}}(Ea&3)!==0&&Xu(),ii(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===jf?$o++:($o=0,jf=e):$o=0,Zo(0)}}function C_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Oo(i)))}function Xu(e){return R_(),w_(),I_(),D_()}function D_(){if(Ue!==5)return!1;var e=hr,i=qf;qf=0;var a=zs(Ea),o=j.T,h=et.p;try{et.p=32>a?32:a,j.T=null,a=Hf,Hf=null;var d=hr,v=Ea;if(Ue=0,va=hr=null,Ea=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,f_(d.current),u_(d,d.current,v,a),Gt=E,Zo(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(se,d)}catch{}return!0}finally{et.p=h,j.T=o,C_(e,i)}}function O_(e,i,a){i=Sn(a,i),i=Tf(e.stateNode,i,2),e=er(e,i,2),e!==null&&(fi(e,2),ii(e))}function $t(e,i,a){if(e.tag===3)O_(e,e,a);else for(;i!==null;){if(i.tag===3){O_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(cr===null||!cr.has(o))){e=Sn(a,e),a=Pp(2),o=er(i,a,2),o!==null&&(kp(a,o,i,e),fi(o,2),ii(o));break}}i=i.return}}function Kf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new sA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Uf=!0,h.add(a),e=cA.bind(null,e,i,a),i.then(e,e))}function cA(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(xt&a)===a&&(oe===4||oe===3&&(xt&62914560)===xt&&300>_n()-Bf?(Gt&2)===0&&Ta(e,0):Lf|=a,ya===xt&&(ya=0)),ii(e)}function N_(e,i){i===0&&(i=so()),e=ia(e,i),e!==null&&(fi(e,i),ii(e))}function hA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),N_(e,a)}function fA(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),N_(e,a)}function dA(e,i){return Hr(e,i)}var $u=null,Sa=null,Yf=!1,Zu=!1,Xf=!1,Ss=0;function ii(e){e!==Sa&&e.next===null&&(Sa===null?$u=Sa=e:Sa=Sa.next=e),Zu=!0,Yf||(Yf=!0,gA())}function Zo(e,i){if(!Xf&&Zu){Xf=!0;do for(var a=!1,o=$u;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-He(42|e)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,k_(o,d))}else d=xt,d=Ls(o,o===Wt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Yr(o,d)||(a=!0,k_(o,d));o=o.next}while(a);Xf=!1}}function mA(){V_()}function V_(){Zu=Yf=!1;var e=0;Ss!==0&&(SA()&&(e=Ss),Ss=0);for(var i=_n(),a=null,o=$u;o!==null;){var h=o.next,d=M_(o,i);d===0?(o.next=null,a===null?$u=h:a.next=h,h===null&&(Sa=a)):(a=o,(e!==0||(d&3)!==0)&&(Zu=!0)),o=h}Zo(e)}function M_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-He(d),E=1<<v,b=h[v];b===-1?((E&a)===0||(E&o)!==0)&&(h[v]=io(E,i)):b<=i&&(e.expiredLanes|=E),d&=~E}if(i=Wt,a=xt,a=Ls(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&jr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Yr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&jr(o),zs(a)){case 2:case 8:a=xs;break;case 32:a=Gr;break;case 268435456:a=Us;break;default:a=Gr}return o=P_.bind(null,e),a=Hr(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&jr(o),e.callbackPriority=2,e.callbackNode=null,2}function P_(e,i){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Xu()&&e.callbackNode!==a)return null;var o=xt;return o=Ls(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(p_(e,o,i),M_(e,_n()),e.callbackNode!=null&&e.callbackNode===a?P_.bind(null,e):null)}function k_(e,i){if(Xu())return null;p_(e,i,!0)}function gA(){RA(function(){(Gt&6)!==0?Hr(eo,mA):V_()})}function $f(){return Ss===0&&(Ss=ro()),Ss}function x_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fs(""+e)}function U_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function pA(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=x_((h[fe]||null).action),v=o.submitter;v&&(i=(i=v[fe]||null)?x_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new Qs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ss!==0){var b=v?U_(h,v):new FormData(h);pf(a,{pending:!0,data:b,method:h.method,action:d},null,b)}}else typeof d=="function"&&(E.preventDefault(),b=v?U_(h,v):new FormData(h),pf(a,{pending:!0,data:b,method:h.method,action:d},d,b))},currentTarget:h}]})}}for(var Zf=0;Zf<Ph.length;Zf++){var Wf=Ph[Zf],_A=Wf.toLowerCase(),yA=Wf[0].toUpperCase()+Wf.slice(1);Pn(_A,"on"+yA)}Pn(pg,"onAnimationEnd"),Pn(_g,"onAnimationIteration"),Pn(yg,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(k0,"onTransitionRun"),Pn(x0,"onTransitionStart"),Pn(U0,"onTransitionCancel"),Pn(vg,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wo));function L_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=L;try{d(h)}catch(G){Lu(G)}h.currentTarget=null,d=b}else for(v=0;v<o.length;v++){if(E=o[v],b=E.instance,L=E.currentTarget,E=E.listener,b!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=L;try{d(h)}catch(G){Lu(G)}h.currentTarget=null,d=b}}}}function Dt(e,i){var a=i[lo];a===void 0&&(a=i[lo]=new Set);var o=e+"__bubble";a.has(o)||(z_(i,e,2,!1),a.add(o))}function Jf(e,i,a){var o=0;i&&(o|=4),z_(a,e,o,i)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[Wu]){e[Wu]=!0,uo.forEach(function(a){a!=="selectionchange"&&(vA.has(a)||Jf(a,!1,e),Jf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Wu]||(i[Wu]=!0,Jf("selectionchange",!1,i))}}function z_(e,i,a,o){switch(uy(i)){case 2:var h=QA;break;case 8:h=KA;break;default:h=md}a=h.bind(null,i,a,e),h=void 0,!Tn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function ed(e,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var b=v.tag;if((b===3||b===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=di(E),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){o=d=v;continue t}E=E.parentNode}}o=o.return}tu(function(){var L=d,G=En(a),Q=[];t:{var z=Eg.get(e);if(z!==void 0){var B=Qs,pt=e;switch(e){case"keypress":if(Yn(a)===0)break t;case"keydown":case"keyup":B=Ws;break;case"focusin":pt="focus",B=Xs;break;case"focusout":pt="blur",B=Xs;break;case"beforeblur":case"afterblur":B=Xs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=lu;break;case pg:case _g:case yg:B=$s;break;case vg:B=cu;break;case"scroll":case"scrollend":B=eu;break;case"wheel":B=Js;break;case"copy":case"cut":case"paste":B=Zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Ao;break;case"toggle":case"beforetoggle":B=fu}var ht=(i&4)!==0,Xt=!ht&&(e==="scroll"||e==="scrollend"),P=ht?z!==null?z+"Capture":null:z;ht=[];for(var O=L,U;O!==null;){var F=O;if(U=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||U===null||P===null||(F=ns(O,P),F!=null&&ht.push(Jo(O,F,U))),Xt)break;O=O.return}0<ht.length&&(z=new B(z,pt,null,a,G),Q.push({event:z,listeners:ht}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==_i&&(pt=a.relatedTarget||a.fromElement)&&(di(pt)||pt[yn]))break t;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(pt=a.relatedTarget||a.toElement,B=L,pt=pt?di(pt):null,pt!==null&&(Xt=c(pt),ht=pt.tag,pt!==Xt||ht!==5&&ht!==27&&ht!==6)&&(pt=null)):(B=null,pt=L),B!==pt)){if(ht=An,F="onMouseLeave",P="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ht=Ao,F="onPointerLeave",P="onPointerEnter",O="pointer"),Xt=B==null?z:Gn(B),U=pt==null?z:Gn(pt),z=new ht(F,O+"leave",B,a,G),z.target=Xt,z.relatedTarget=U,F=null,di(G)===L&&(ht=new ht(P,O+"enter",pt,a,G),ht.target=U,ht.relatedTarget=Xt,F=ht),Xt=F,B&&pt)e:{for(ht=B,P=pt,O=0,U=ht;U;U=ba(U))O++;for(U=0,F=P;F;F=ba(F))U++;for(;0<O-U;)ht=ba(ht),O--;for(;0<U-O;)P=ba(P),U--;for(;O--;){if(ht===P||P!==null&&ht===P.alternate)break e;ht=ba(ht),P=ba(P)}ht=null}else ht=null;B!==null&&B_(Q,z,B,ht,!1),pt!==null&&Xt!==null&&B_(Q,Xt,pt,ht,!0)}}t:{if(z=L?Gn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var rt=sg;else if(Ee(z))if(ag)rt=V0;else{rt=O0;var It=D0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&go(L.elementType)&&(rt=sg):rt=N0;if(rt&&(rt=rt(e,L))){Ai(Q,rt,a,G);break t}It&&It(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&$i(z,"number",z.value)}switch(It=L?Gn(L):window,e){case"focusin":(Ee(It)||It.contentEditable==="true")&&(ta=It,Nh=L,Ro=null);break;case"focusout":Ro=Nh=ta=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,mg(Q,a,G);break;case"selectionchange":if(P0)break;case"keydown":case"keyup":mg(Q,a,G)}var at;if(Zn)t:{switch(e){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else Pt?q(e,a)&&(dt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(dt="onCompositionStart");dt&&(y&&a.locale!=="ko"&&(Pt||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Pt&&(at=_o()):(Kn=G,Zi="value"in Kn?Kn.value:Kn.textContent,Pt=!0)),It=Ju(L,dt),0<It.length&&(dt=new Eo(dt,e,null,a,G),Q.push({event:dt,listeners:It}),at?dt.data=at:(at=J(a),at!==null&&(dt.data=at)))),(at=m?ve(e,a):kt(e,a))&&(dt=Ju(L,"onBeforeInput"),0<dt.length&&(It=new Eo("onBeforeInput","beforeinput",null,a,G),Q.push({event:It,listeners:dt}),It.data=at)),pA(Q,e,L,a,G)}L_(Q,i)})}function Jo(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Ju(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ns(e,a),h!=null&&o.unshift(Jo(e,h,d)),h=ns(e,i),h!=null&&o.push(Jo(e,h,d))),e.tag===3)return o;e=e.return}return[]}function ba(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function B_(e,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var E=a,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||L===null||(b=L,h?(L=ns(a,d),L!=null&&v.unshift(Jo(a,L,b))):h||(L=ns(a,d),L!=null&&v.push(Jo(a,L,b)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var EA=/\r\n?/g,TA=/\u0000|\uFFFD/g;function q_(e){return(typeof e=="string"?e:""+e).replace(EA,`
`).replace(TA,"")}function H_(e,i){return i=q_(i),q_(e)===i}function tc(){}function Yt(e,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||vn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&vn(e,""+o);break;case"className":Fn(e,"class",o);break;case"tabIndex":Fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(e,a,o);break;case"style":mo(e,o,d);break;case"data":if(i!=="object"){Fn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Fs(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Fs(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=tc);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Fs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),Xi(e,"popover",o);break;case"xlinkActuate":Pe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Xi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bh.get(a)||a,Xi(e,a,o))}}function nd(e,i,a,o,h,d){switch(a){case"style":mo(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?vn(e,o):(typeof o=="number"||typeof o=="bigint")&&vn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[fe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Xi(e,a,o)}}}function Le(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,d,v,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),o&&Yt(e,i,"src",a.src,a,null);return;case"input":Dt("invalid",e);var E=d=v=h=null,b=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":v=G;break;case"checked":b=G;break;case"defaultChecked":L=G;break;case"value":d=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Yt(e,i,o,G,a,null)}}Jr(e,d,E,b,L,v,h,!1),Gs(e);return;case"select":Dt("invalid",e),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Yt(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!o,i!=null?pi(e,!!o,i,!1):a!=null&&pi(e,!!o,a,!0);return;case"textarea":Dt("invalid",e),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(e,i,v,E,a,null)}ts(e,o,h,d),Gs(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,i,b,o,a,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<Wo.length;o++)Dt(Wo[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,L,o,a,null)}return;default:if(go(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&nd(e,i,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Yt(e,i,E,o,a,null))}function AA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,b=null,L=null,G=null;for(B in a){var Q=a[B];if(a.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Q;default:o.hasOwnProperty(B)||Yt(e,i,B,null,o,Q)}}for(var z in o){var B=o[z];if(Q=a[z],o.hasOwnProperty(z)&&(B!=null||Q!=null))switch(z){case"type":d=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":G=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==Q&&Yt(e,i,z,B,o,Q)}}on(e,v,E,b,L,G,d,h);return;case"select":B=v=E=z=null;for(d in a)if(b=a[d],a.hasOwnProperty(d)&&b!=null)switch(d){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(d)||Yt(e,i,d,null,o,b)}for(h in o)if(d=o[h],b=a[h],o.hasOwnProperty(h)&&(d!=null||b!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==b&&Yt(e,i,h,d,o,b)}i=E,a=v,o=B,z!=null?pi(e,!!a,z,!1):!!o!=!!a&&(i!=null?pi(e,!!a,i,!0):pi(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,i,E,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Yt(e,i,v,h,o,d)}Qt(e,z,B);return;case"option":for(var pt in a)if(z=a[pt],a.hasOwnProperty(pt)&&z!=null&&!o.hasOwnProperty(pt))switch(pt){case"selected":e.selected=!1;break;default:Yt(e,i,pt,null,o,z)}for(b in o)if(z=o[b],B=a[b],o.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Yt(e,i,b,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in a)z=a[ht],a.hasOwnProperty(ht)&&z!=null&&!o.hasOwnProperty(ht)&&Yt(e,i,ht,null,o,z);for(L in o)if(z=o[L],B=a[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Yt(e,i,L,z,o,B)}return;default:if(go(i)){for(var Xt in a)z=a[Xt],a.hasOwnProperty(Xt)&&z!==void 0&&!o.hasOwnProperty(Xt)&&nd(e,i,Xt,void 0,o,z);for(G in o)z=o[G],B=a[G],!o.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||nd(e,i,G,z,o,B);return}}for(var P in a)z=a[P],a.hasOwnProperty(P)&&z!=null&&!o.hasOwnProperty(P)&&Yt(e,i,P,null,o,z);for(Q in o)z=o[Q],B=a[Q],!o.hasOwnProperty(Q)||z===B||z==null&&B==null||Yt(e,i,Q,z,o,B)}var id=null,rd=null;function ec(e){return e.nodeType===9?e:e.ownerDocument}function j_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function sd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ad=null;function SA(){var e=window.event;return e&&e.type==="popstate"?e===ad?!1:(ad=e,!0):(ad=null,!1)}var F_=typeof setTimeout=="function"?setTimeout:void 0,bA=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,RA=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_<"u"?function(e){return Q_.resolve(null).then(e).catch(wA)}:F_;function wA(e){setTimeout(function(){throw e})}function dr(e){return e==="head"}function K_(e,i){var a=i,o=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&tl(v.documentElement),a&2&&tl(v.body),a&4)for(a=v.head,tl(a),v=a.firstChild;v;){var E=v.nextSibling,b=v.nodeName;v[Xr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(d),ll(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);ll(i)}function od(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":od(a),Yi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function IA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Xr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function CA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=xn(e.nextSibling),e===null))return null;return e}function ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function DA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function xn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var ud=null;function Y_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function X_(e,i,a){switch(i=ec(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function tl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Yi(e)}var Dn=new Map,$_=new Set;function nc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ki=et.d;et.d={f:OA,r:NA,D:VA,C:MA,L:PA,m:kA,X:UA,S:xA,M:LA};function OA(){var e=ki.f(),i=Ku();return e||i}function NA(e){var i=jn(e);i!==null&&i.tag===5&&i.type==="form"?pp(i):ki.r(e)}var Ra=typeof document>"u"?null:document;function Z_(e,i,a){var o=Ra;if(o&&typeof i=="string"&&i){var h=de(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),$_.has(h)||($_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Le(i,"link",e),le(i),o.head.appendChild(i)))}}function VA(e){ki.D(e),Z_("dns-prefetch",e,null)}function MA(e,i){ki.C(e,i),Z_("preconnect",e,i)}function PA(e,i,a){ki.L(e,i,a);var o=Ra;if(o&&e&&i){var h='link[rel="preload"][as="'+de(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+de(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+de(a.imageSizes)+'"]')):h+='[href="'+de(e)+'"]';var d=h;switch(i){case"style":d=wa(e);break;case"script":d=Ia(e)}Dn.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Dn.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(el(d))||i==="script"&&o.querySelector(nl(d))||(i=o.createElement("link"),Le(i,"link",e),le(i),o.head.appendChild(i)))}}function kA(e,i){ki.m(e,i);var a=Ra;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+de(o)+'"][href="'+de(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ia(e)}if(!Dn.has(d)&&(e=T({rel:"modulepreload",href:e},i),Dn.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(nl(d)))return}o=a.createElement("link"),Le(o,"link",e),le(o),a.head.appendChild(o)}}}function xA(e,i,a){ki.S(e,i,a);var o=Ra;if(o&&e){var h=Xe(o).hoistableStyles,d=wa(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(el(d)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Dn.get(d))&&cd(e,a);var b=v=o.createElement("link");le(b),Le(b,"link",e),b._p=new Promise(function(L,G){b.onload=L,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ic(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function UA(e,i){ki.X(e,i);var a=Ra;if(a&&e){var o=Xe(a).hoistableScripts,h=Ia(e),d=o.get(h);d||(d=a.querySelector(nl(h)),d||(e=T({src:e,async:!0},i),(i=Dn.get(h))&&hd(e,i),d=a.createElement("script"),le(d),Le(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function LA(e,i){ki.M(e,i);var a=Ra;if(a&&e){var o=Xe(a).hoistableScripts,h=Ia(e),d=o.get(h);d||(d=a.querySelector(nl(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=Dn.get(h))&&hd(e,i),d=a.createElement("script"),le(d),Le(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function W_(e,i,a,o){var h=(h=_t.current)?nc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=wa(a.href),a=Xe(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=wa(a.href);var d=Xe(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(el(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Dn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(e,a),d||zA(h,e,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ia(a),a=Xe(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function wa(e){return'href="'+de(e)+'"'}function el(e){return'link[rel="stylesheet"]['+e+"]"}function J_(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function zA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Le(i,"link",a),le(i),e.head.appendChild(i))}function Ia(e){return'[src="'+de(e)+'"]'}function nl(e){return"script[async]"+e}function ty(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+de(a.href)+'"]');if(o)return i.instance=o,le(o),o;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),le(o),Le(o,"style",h),ic(o,a.precedence,e),i.instance=o;case"stylesheet":h=wa(a.href);var d=e.querySelector(el(h));if(d)return i.state.loading|=4,i.instance=d,le(d),d;o=J_(a),(h=Dn.get(h))&&cd(o,h),d=(e.ownerDocument||e).createElement("link"),le(d);var v=d;return v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Le(d,"link",o),i.state.loading|=4,ic(d,a.precedence,e),i.instance=d;case"script":return d=Ia(a.src),(h=e.querySelector(nl(d)))?(i.instance=h,le(h),h):(o=a,(h=Dn.get(d))&&(o=T({},a),hd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),le(h),Le(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,ic(o,a.precedence,e));return i.instance}function ic(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function cd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function hd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var rc=null;function ey(e,i,a){if(rc===null){var o=new Map,h=rc=new Map;h.set(a,o)}else h=rc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Xr]||d[ye]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(d):o.set(v,[d])}}return o}function ny(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function BA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function iy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var il=null;function qA(){}function HA(e,i,a){if(il===null)throw Error(s(475));var o=il;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=wa(a.href),d=e.querySelector(el(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=sc.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=d,le(d);return}d=e.ownerDocument||e,a=J_(a),(h=Dn.get(h))&&cd(a,h),d=d.createElement("link"),le(d);var v=d;v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Le(d,"link",a),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=sc.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function jA(){if(il===null)throw Error(s(475));var e=il;return e.stylesheets&&e.count===0&&fd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&fd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function sc(){if(this.count--,this.count===0){if(this.stylesheets)fd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ac=null;function fd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ac=new Map,i.forEach(GA,e),ac=null,sc.call(e))}function GA(e,i){if(!(i.state.loading&4)){var a=ac.get(e);if(a)var o=a.get(null);else{a=new Map,ac.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=sc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var rl={$$typeof:ut,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function FA(e,i,a,o,h,d,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ry(e,i,a,o,h,d,v,E,b,L,G,Q){return e=new FA(e,i,a,v,E,b,L,Q),i=1,d===!0&&(i|=24),d=un(3,null,null,i),e.current=d,d.stateNode=e,i=Qh(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},$h(d),e}function sy(e){return e?(e=ra,e):ra}function ay(e,i,a,o,h,d){h=sy(h),o.context===null?o.context=h:o.pendingContext=h,o=tr(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=er(e,o,i),a!==null&&(mn(a,e,i),Po(a,e,i))}function oy(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function dd(e,i){oy(e,i),(e=e.alternate)&&oy(e,i)}function ly(e){if(e.tag===13){var i=ia(e,67108864);i!==null&&mn(i,e,67108864),dd(e,67108864)}}var oc=!0;function QA(e,i,a,o){var h=j.T;j.T=null;var d=et.p;try{et.p=2,md(e,i,a,o)}finally{et.p=d,j.T=h}}function KA(e,i,a,o){var h=j.T;j.T=null;var d=et.p;try{et.p=8,md(e,i,a,o)}finally{et.p=d,j.T=h}}function md(e,i,a,o){if(oc){var h=gd(o);if(h===null)ed(e,i,o,lc,a),cy(e,o);else if(XA(h,e,i,a,o))o.stopPropagation();else if(cy(e,o),i&4&&-1<YA.indexOf(e)){for(;h!==null;){var d=jn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Nn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var b=1<<31-He(v);E.entanglements[1]|=b,v&=~b}ii(d),(Gt&6)===0&&(Fu=_n()+500,Zo(0))}}break;case 13:E=ia(d,2),E!==null&&mn(E,d,2),Ku(),dd(d,2)}if(d=gd(o),d===null&&ed(e,i,o,lc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else ed(e,i,o,null,a)}}function gd(e){return e=En(e),pd(e)}var lc=null;function pd(e){if(lc=null,e=di(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return lc=e,null}function uy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yh()){case eo:return 2;case xs:return 8;case Gr:case vh:return 32;case Us:return 268435456;default:return 32}default:return 32}}var _d=!1,mr=null,gr=null,pr=null,sl=new Map,al=new Map,_r=[],YA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cy(e,i){switch(e){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":sl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(i.pointerId)}}function ol(e,i,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=jn(i),i!==null&&ly(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function XA(e,i,a,o,h){switch(i){case"focusin":return mr=ol(mr,e,i,a,o,h),!0;case"dragenter":return gr=ol(gr,e,i,a,o,h),!0;case"mouseover":return pr=ol(pr,e,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return sl.set(d,ol(sl.get(d)||null,e,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,al.set(d,ol(al.get(d)||null,e,i,a,o,h)),!0}return!1}function hy(e){var i=di(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Kl(e.priority,function(){if(a.tag===13){var o=dn();o=Fi(o);var h=ia(a,o);h!==null&&mn(h,a,o),dd(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=gd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);_i=o,a.target.dispatchEvent(o),_i=null}else return i=jn(a),i!==null&&ly(i),e.blockedOn=a,!1;i.shift()}return!0}function fy(e,i,a){uc(e)&&a.delete(i)}function $A(){_d=!1,mr!==null&&uc(mr)&&(mr=null),gr!==null&&uc(gr)&&(gr=null),pr!==null&&uc(pr)&&(pr=null),sl.forEach(fy),al.forEach(fy)}function cc(e,i){e.blockedOn===i&&(e.blockedOn=null,_d||(_d=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$A)))}var hc=null;function dy(e){hc!==e&&(hc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){hc===e&&(hc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(pd(o||a)===null)continue;break}var d=jn(a);d!==null&&(e.splice(i,3),i-=3,pf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ll(e){function i(b){return cc(b,e)}mr!==null&&cc(mr,e),gr!==null&&cc(gr,e),pr!==null&&cc(pr,e),sl.forEach(i),al.forEach(i);for(var a=0;a<_r.length;a++){var o=_r[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<_r.length&&(a=_r[0],a.blockedOn===null);)hy(a),a.blockedOn===null&&_r.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[fe]||null;if(typeof d=="function")v||dy(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[fe]||null)E=v.formAction;else if(pd(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),dy(a)}}}function yd(e){this._internalRoot=e}fc.prototype.render=yd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=dn();ay(a,o,e,i,null,null)},fc.prototype.unmount=yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;ay(e.current,2,null,e,null,null),Ku(),i[yn]=null}};function fc(e){this._internalRoot=e}fc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Qi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<_r.length&&i!==0&&i<_r[a].priority;a++);_r.splice(a,0,e),a===0&&hy(e)}};var my=t.version;if(my!=="19.1.0")throw Error(s(527,my,"19.1.0"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var ZA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{se=dc.inject(ZA),jt=dc}catch{}}return cl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=Op,d=Np,v=Vp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=ry(e,1,!1,null,null,a,o,h,d,v,E,null),e[yn]=i.current,td(e),new yd(i)},cl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",d=Op,v=Np,E=Vp,b=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=ry(e,1,!0,i,a??null,o,h,d,v,E,b,L),i.context=sy(null),a=i.current,o=dn(),o=Fi(o),h=tr(o),h.callback=null,er(a,h,o),a=o,i.current.lanes=a,fi(i,a),ii(i),e[yn]=i.current,td(e),new fc(i)},cl.version="19.1.0",cl}var by;function lS(){if(by)return Td.exports;by=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Td.exports=oS(),Td.exports}var uS=lS();const cS=rE(uS);function hS({addTask:r,categories:t}){const[n,s]=gn.useState(""),[l,c]=gn.useState(t[0]),f=g=>{g.preventDefault(),n.trim()&&(r(n.trim(),l),s(""))};return St.jsxs("form",{onSubmit:f,children:[St.jsx("input",{type:"text",value:n,onChange:g=>s(g.target.value),placeholder:"Add a new task"}),St.jsx("select",{value:l,onChange:g=>c(g.target.value),children:t.map(g=>St.jsx("option",{value:g,children:g},g))}),St.jsx("button",{type:"submit",children:"Add task"})]})}function fS({task:r,complete:t,deleteTask:n}){return St.jsxs("div",{children:[St.jsxs("label",{style:{textDecoration:r.done?"line-through":"none"},children:[r.text,St.jsx("input",{type:"checkbox",checked:r.done,onChange:t})]}),St.jsx("button",{onClick:n,children:"Delete"})]})}function dS({category:r,tasks:t,complete:n,deleteTask:s}){const c={Work:"#ffeeba",School:"#cce5ff",Exercise:"#d4edda",Groceries:"#f8d7da",Others:"#e2e3e5"}[r]||"#f3f3f3";return St.jsxs("div",{className:"categoryBox",style:{backgroundColor:c},children:[St.jsx("h3",{children:r}),t.length===0?St.jsx("p",{children:"No tasks yet!"}):t.map(f=>St.jsx(fS,{task:f,complete:()=>n(f.id),deleteTask:()=>s(f.id)},f.id))]})}const mS=()=>{};var Ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},gS=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],f=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],f=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return t.join("")},aE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],f=l+1<r.length,g=f?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,T=c>>2,R=(c&3)<<4|g>>4;let w=(g&15)<<2|_>>6,H=_&63;p||(H=64,f||(w=64)),s.push(n[T],n[R],n[w],n[H])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(sE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):gS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const R=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||R==null)throw new pS;const w=c<<2|g>>4;if(s.push(w),_!==64){const H=g<<4&240|_>>2;if(s.push(H),R!==64){const Y=_<<6&192|R;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class pS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _S=function(r){const t=sE(r);return aE.encodeByteArray(t,!0)},Nc=function(r){return _S(r).replace(/\./g,"")},oE=function(r){try{return aE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=()=>yS().__FIREBASE_DEFAULTS__,ES=()=>{if(typeof process>"u"||typeof Ry>"u")return;const r=Ry.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},TS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&oE(r[1]);return t&&JSON.parse(t)},Wc=()=>{try{return mS()||vS()||ES()||TS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},lE=r=>{var t,n;return(n=(t=Wc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},AS=r=>{const t=lE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},uE=()=>{var r;return(r=Wc())===null||r===void 0?void 0:r.config},cE=r=>{var t;return(t=Wc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(r){return r.endsWith(".cloudworkstations.dev")}async function hE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Nc(JSON.stringify(n)),Nc(JSON.stringify(f)),""].join(".")}const _l={};function RS(){const r={prod:[],emulator:[]};for(const t of Object.keys(_l))_l[t]?r.emulator.push(t):r.prod.push(t);return r}function wS(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let wy=!1;function fE(r,t){if(typeof window>"u"||typeof document>"u"||!Qa(window.location.host)||_l[r]===t||_l[r]||wy)return;_l[r]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=RS().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function g(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,H){w.setAttribute("width","24"),w.setAttribute("id",H),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function _(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{wy=!0,f()},w}function T(w,H){w.setAttribute("id",H),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function R(){const w=wS(s),H=n("text"),Y=document.getElementById(H)||document.createElement("span"),tt=n("learnmore"),Z=document.getElementById(tt)||document.createElement("a"),Et=n("preprendIcon"),ft=document.getElementById(Et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ut=w.element;g(ut),T(Z,tt);const Vt=_();p(ft,Et),ut.append(ft,Y,Z,Vt),document.body.appendChild(ut)}c?(Y.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function CS(){var r;const t=(r=Wc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function NS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VS(){const r=Ye();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function MS(){return!CS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PS(){try{return typeof indexedDB=="object"}catch{return!1}}function kS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="FirebaseError";class ji extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=xS,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vl.prototype.create)}}class Vl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],f=c?US(c,s):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new ji(l,g,s)}}function US(r,t){return r.replace(LS,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const LS=/\{\$([^}]+)}/g;function zS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Is(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],f=t[l];if(Iy(c)&&Iy(f)){if(!Is(c,f))return!1}else if(c!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function Iy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function hl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function fl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function BS(r,t){const n=new qS(r,t);return n.subscribe.bind(n)}class qS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");HS(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=Rd),l.error===void 0&&(l.error=Rd),l.complete===void 0&&(l.complete=Rd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Rd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(r){return r&&r._delegate?r._delegate:r}class Cs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new SS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t?.identifier),l=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FS(t))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=bs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=bs){return this.instances.has(t)}getOptions(t=bs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const f=this.instances.get(l);return f&&t(f,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:GS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=bs){return this.component?this.component.multipleInstances?t:bs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GS(r){return r===bs?void 0:r}function FS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new jS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const KS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},YS=Ot.INFO,XS={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},$S=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=XS[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hm{constructor(t){this.name=t,this._logLevel=YS,this._logHandler=$S,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?KS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const ZS=(r,t)=>t.some(n=>r instanceof n);let Cy,Dy;function WS(){return Cy||(Cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JS(){return Dy||(Dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dE=new WeakMap,xd=new WeakMap,mE=new WeakMap,wd=new WeakMap,fm=new WeakMap;function t1(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(Rr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&dE.set(n,r)}).catch(()=>{}),fm.set(t,r),t}function e1(r){if(xd.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});xd.set(r,t)}let Ud={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return xd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||mE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function n1(r){Ud=r(Ud)}function i1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Id(this),t,...n);return mE.set(s,t.sort?t.sort():[t]),Rr(s)}:JS().includes(r)?function(...t){return r.apply(Id(this),t),Rr(dE.get(this))}:function(...t){return Rr(r.apply(Id(this),t))}}function r1(r){return typeof r=="function"?i1(r):(r instanceof IDBTransaction&&e1(r),ZS(r,WS())?new Proxy(r,Ud):r)}function Rr(r){if(r instanceof IDBRequest)return t1(r);if(wd.has(r))return wd.get(r);const t=r1(r);return t!==r&&(wd.set(r,t),fm.set(t,r)),t}const Id=r=>fm.get(r);function s1(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const f=indexedDB.open(r,t),g=Rr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Rr(f.result),p.oldVersion,p.newVersion,Rr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const a1=["get","getKey","getAll","getAllKeys","count"],o1=["put","add","delete","clear"],Cd=new Map;function Oy(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Cd.get(t))return Cd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=o1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||a1.includes(n)))return;const c=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return Cd.set(t,c),c}n1(r=>({...r,get:(t,n,s)=>Oy(t,n)||r.get(t,n,s),has:(t,n)=>!!Oy(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(u1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function u1(r){const t=r.getComponent();return t?.type==="VERSION"}const Ld="@firebase/app",Ny="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new hm("@firebase/app"),c1="@firebase/app-compat",h1="@firebase/analytics-compat",f1="@firebase/analytics",d1="@firebase/app-check-compat",m1="@firebase/app-check",g1="@firebase/auth",p1="@firebase/auth-compat",_1="@firebase/database",y1="@firebase/data-connect",v1="@firebase/database-compat",E1="@firebase/functions",T1="@firebase/functions-compat",A1="@firebase/installations",S1="@firebase/installations-compat",b1="@firebase/messaging",R1="@firebase/messaging-compat",w1="@firebase/performance",I1="@firebase/performance-compat",C1="@firebase/remote-config",D1="@firebase/remote-config-compat",O1="@firebase/storage",N1="@firebase/storage-compat",V1="@firebase/firestore",M1="@firebase/ai",P1="@firebase/firestore-compat",k1="firebase",x1="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="[DEFAULT]",U1={[Ld]:"fire-core",[c1]:"fire-core-compat",[f1]:"fire-analytics",[h1]:"fire-analytics-compat",[m1]:"fire-app-check",[d1]:"fire-app-check-compat",[g1]:"fire-auth",[p1]:"fire-auth-compat",[_1]:"fire-rtdb",[y1]:"fire-data-connect",[v1]:"fire-rtdb-compat",[E1]:"fire-fn",[T1]:"fire-fn-compat",[A1]:"fire-iid",[S1]:"fire-iid-compat",[b1]:"fire-fcm",[R1]:"fire-fcm-compat",[w1]:"fire-perf",[I1]:"fire-perf-compat",[C1]:"fire-rc",[D1]:"fire-rc-compat",[O1]:"fire-gcs",[N1]:"fire-gcs-compat",[V1]:"fire-fst",[P1]:"fire-fst-compat",[M1]:"fire-vertex","fire-js":"fire-js",[k1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=new Map,L1=new Map,Bd=new Map;function Vy(r,t){try{r.container.addComponent(t)}catch(n){zi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ua(r){const t=r.name;if(Bd.has(t))return zi.debug(`There were multiple attempts to register component ${t}.`),!1;Bd.set(t,r);for(const n of Vc.values())Vy(n,r);for(const n of L1.values())Vy(n,r);return!0}function dm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function On(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new Vl("app","Firebase",z1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=x1;function gE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:zd,automaticDataCollectionEnabled:!0},t),l=s.name;if(typeof l!="string"||!l)throw wr.create("bad-app-name",{appName:String(l)});if(n||(n=uE()),!n)throw wr.create("no-options");const c=Vc.get(l);if(c){if(Is(n,c.options)&&Is(s,c.config))return c;throw wr.create("duplicate-app",{appName:l})}const f=new QS(l);for(const p of Bd.values())f.addComponent(p);const g=new B1(n,s,f);return Vc.set(l,g),g}function pE(r=zd){const t=Vc.get(r);if(!t&&r===zd&&uE())return gE();if(!t)throw wr.create("no-app",{appName:r});return t}function Ir(r,t,n){var s;let l=(s=U1[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zi.warn(g.join(" "));return}Ua(new Cs(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="firebase-heartbeat-database",H1=1,Sl="firebase-heartbeat-store";let Dd=null;function _E(){return Dd||(Dd=s1(q1,H1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Sl)}catch(n){console.warn(n)}}}}).catch(r=>{throw wr.create("idb-open",{originalErrorMessage:r.message})})),Dd}async function j1(r){try{const n=(await _E()).transaction(Sl),s=await n.objectStore(Sl).get(yE(r));return await n.done,s}catch(t){if(t instanceof ji)zi.warn(t.message);else{const n=wr.create("idb-get",{originalErrorMessage:t?.message});zi.warn(n.message)}}}async function My(r,t){try{const s=(await _E()).transaction(Sl,"readwrite");await s.objectStore(Sl).put(t,yE(r)),await s.done}catch(n){if(n instanceof ji)zi.warn(n.message);else{const s=wr.create("idb-set",{originalErrorMessage:n?.message});zi.warn(s.message)}}}function yE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=1024,F1=30;class Q1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Y1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Py();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>F1){const f=X1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){zi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Py(),{heartbeatsToSend:s,unsentEntries:l}=K1(this._heartbeatsCache.heartbeats),c=Nc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return zi.warn(n),""}}}function Py(){return new Date().toISOString().substring(0,10)}function K1(r,t=G1){const n=[];let s=r.slice();for(const l of r){const c=n.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),ky(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),ky(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Y1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PS()?kS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await j1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return My(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return My(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function ky(r){return Nc(JSON.stringify({version:2,heartbeats:r})).length}function X1(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(r){Ua(new Cs("platform-logger",t=>new l1(t),"PRIVATE")),Ua(new Cs("heartbeat",t=>new Q1(t),"PRIVATE")),Ir(Ld,Ny,r),Ir(Ld,Ny,"esm2017"),Ir("fire-js","")}$1("");function mm(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function vE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z1=vE,EE=new Vl("auth","Firebase",vE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new hm("@firebase/auth");function W1(r,...t){Mc.logLevel<=Ot.WARN&&Mc.warn(`Auth (${Ka}): ${r}`,...t)}function Tc(r,...t){Mc.logLevel<=Ot.ERROR&&Mc.error(`Auth (${Ka}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(r,...t){throw gm(r,...t)}function si(r,...t){return gm(r,...t)}function TE(r,t,n){const s=Object.assign(Object.assign({},Z1()),{[t]:n});return new Vl("auth","Firebase",s).create(t,{appName:r.name})}function Li(r){return TE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return EE.create(r,...t)}function mt(r,t,...n){if(!r)throw gm(t,...n)}function xi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Tc(t),new Error(t)}function Bi(r,t){r||xi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function J1(){return xy()==="http:"||xy()==="https:"}function xy(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(J1()||OS()||"connection"in navigator)?navigator.onLine:!0}function eb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Bi(n>t,"Short delay should be less than long delay!"),this.isMobile=IS()||NS()}get(){return tb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(r,t){Bi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rb=new Pl(3e4,6e4);function Ur(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Lr(r,t,n,s,l={}){return SE(r,l,async()=>{let c={},f={};s&&(t==="GET"?f=s:c={body:JSON.stringify(s)});const g=Ml(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:p},c);return DS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Qa(r.emulatorConfig.host)&&(_.credentials="include"),AE.fetch()(await bE(r,r.config.apiHost,n,g),_)})}async function SE(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},nb),t);try{const l=new ab(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw mc(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw mc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw mc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw mc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw TE(r,T,_);zn(r,T)}}catch(l){if(l instanceof ji)throw l;zn(r,"network-request-failed",{message:String(l)})}}async function kl(r,t,n,s,l={}){const c=await Lr(r,t,n,s,l);return"mfaPendingCredential"in c&&zn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function bE(r,t,n,s){const l=`${t}${n}?${s}`,c=r,f=c.config.emulator?pm(r.config,l):`${r.config.apiScheme}://${l}`;return ib.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function sb(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ab{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(si(this.auth,"network-request-failed")),rb.get())})}}function mc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=si(r,t,s);return l.customData._tokenResponse=n,l}function Uy(r){return r!==void 0&&r.enterprise!==void 0}class ob{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return sb(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lb(r,t){return Lr(r,"GET","/v2/recaptchaConfig",Ur(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ub(r,t){return Lr(r,"POST","/v1/accounts:delete",t)}async function Pc(r,t){return Lr(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function cb(r,t=!1){const n=Re(r),s=await n.getIdToken(t),l=_m(s);mt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c?.sign_in_provider;return{claims:l,token:s,authTime:yl(Od(l.auth_time)),issuedAtTime:yl(Od(l.iat)),expirationTime:yl(Od(l.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Od(r){return Number(r)*1e3}function _m(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Tc("JWT malformed, contained fewer than 3 sections"),null;try{const l=oE(n);return l?JSON.parse(l):(Tc("Failed to decode base64 JWT payload"),null)}catch(l){return Tc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Ly(r){const t=_m(r);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ji&&hb(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function hb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(r){var t;const n=r.auth,s=await r.getIdToken(),l=await bl(r,Pc(n,{idToken:s}));mt(l?.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const f=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?RE(c.providerUserInfo):[],g=mb(r.providerData,f),p=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!g?.length,T=p?_:!1,R={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Hd(c.createdAt,c.lastLoginAt),isAnonymous:T};Object.assign(r,R)}async function db(r){const t=Re(r);await kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function mb(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function RE(r){return r.map(t=>{var{providerId:n}=t,s=mm(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(r,t){const n=await SE(r,{},async()=>{const s=Ml({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,f=await bE(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&Qa(r.emulatorConfig.host)&&(p.credentials="include"),AE.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pb(r,t){return Lr(r,"POST","/v2/accounts:revokeToken",Ur(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ly(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const n=Ly(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await gb(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,f=new Ma;return s&&(mt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),l&&(mt(typeof l=="string","internal-error",{appName:t}),f.accessToken=l),c&&(mt(typeof c=="number","internal-error",{appName:t}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ma,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(r,t){mt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Un{constructor(t){var{uid:n,auth:s,stsTokenManager:l}=t,c=mm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Hd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await bl(this,this.stsTokenManager.getToken(this.auth,t));return mt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return cb(this,t)}reload(){return db(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Un(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await kc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(Li(this.auth));const t=await this.getIdToken();return await bl(this,ub(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,l,c,f,g,p,_,T;const R=(s=n.displayName)!==null&&s!==void 0?s:void 0,w=(l=n.email)!==null&&l!==void 0?l:void 0,H=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,Y=(f=n.photoURL)!==null&&f!==void 0?f:void 0,tt=(g=n.tenantId)!==null&&g!==void 0?g:void 0,Z=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Et=(_=n.createdAt)!==null&&_!==void 0?_:void 0,ft=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ut,emailVerified:Vt,isAnonymous:yt,providerData:Mt,stsTokenManager:V}=n;mt(ut&&V,t,"internal-error");const S=Ma.fromJSON(this.name,V);mt(typeof ut=="string",t,"internal-error"),vr(R,t.name),vr(w,t.name),mt(typeof Vt=="boolean",t,"internal-error"),mt(typeof yt=="boolean",t,"internal-error"),vr(H,t.name),vr(Y,t.name),vr(tt,t.name),vr(Z,t.name),vr(Et,t.name),vr(ft,t.name);const I=new Un({uid:ut,auth:t,email:w,emailVerified:Vt,displayName:R,isAnonymous:yt,photoURL:Y,phoneNumber:H,tenantId:tt,stsTokenManager:S,createdAt:Et,lastLoginAt:ft});return Mt&&Array.isArray(Mt)&&(I.providerData=Mt.map(N=>Object.assign({},N))),Z&&(I._redirectEventId=Z),I}static async _fromIdTokenResponse(t,n,s=!1){const l=new Ma;l.updateFromServerResponse(n);const c=new Un({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await kc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];mt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?RE(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!c?.length,g=new Ma;g.updateFromIdToken(s);const p=new Un({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:f}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Hd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=new Map;function Ui(r){Bi(r instanceof Function,"Expected a class definition");let t=zy.get(r);return t?(Bi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,zy.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}wE.type="NONE";const By=wE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(r,t,n){return`firebase:${r}:${t}:${n}`}class Pa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Ac(this.userKey,l.apiKey,c),this.fullPersistenceKey=Ac("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Pc(this.auth,{idToken:t}).catch(()=>{});return n?Un._fromGetAccountInfoResponse(this.auth,n,t):null}return Un._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Pa(Ui(By),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Ui(By);const f=Ac(s,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const T=await _._get(f);if(T){let R;if(typeof T=="string"){const w=await Pc(t,{idToken:T}).catch(()=>{});if(!w)break;R=await Un._fromGetAccountInfoResponse(t,w,T)}else R=Un._fromJSON(t,T);_!==c&&(g=R),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Pa(c,t,s):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new Pa(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(OE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(IE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(VE(t))return"Blackberry";if(ME(t))return"Webos";if(CE(t))return"Safari";if((t.includes("chrome/")||DE(t))&&!t.includes("edge/"))return"Chrome";if(NE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function IE(r=Ye()){return/firefox\//i.test(r)}function CE(r=Ye()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function DE(r=Ye()){return/crios\//i.test(r)}function OE(r=Ye()){return/iemobile/i.test(r)}function NE(r=Ye()){return/android/i.test(r)}function VE(r=Ye()){return/blackberry/i.test(r)}function ME(r=Ye()){return/webos/i.test(r)}function ym(r=Ye()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function _b(r=Ye()){var t;return ym(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function yb(){return VS()&&document.documentMode===10}function PE(r=Ye()){return ym(r)||NE(r)||ME(r)||VE(r)||/windows phone/i.test(r)||OE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(r,t=[]){let n;switch(r){case"Browser":n=qy(Ye());break;case"Worker":n=`${qy(Ye())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ka}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((f,g)=>{try{const p=t(c);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb(r,t={}){return Lr(r,"GET","/v2/passwordPolicy",Ur(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=6;class Ab{constructor(t){var n,s,l,c;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:Tb,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,l,c,f,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hy(this),this.idTokenSubscription=new Hy(this),this.beforeStateQueue=new vb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ui(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await Pa.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Pc(this,{idToken:t}),s=await Un._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(On(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l?._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===g)&&p?.user&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await kc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=eb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(On(this.app))return Promise.reject(Li(this));const n=t?Re(t):null;return n&&mt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(Li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return On(this.app)?Promise.reject(Li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ui(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Eb(this),n=new Ab(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Vl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await pb(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ui(t)||this._popupRedirectResolver;mt(n,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[Ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n?.error&&W1(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Ms(r){return Re(r)}class Hy{constructor(t){this.auth=t,this.observer=null,this.addObserver=BS(n=>this.observer=n)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bb(r){Jc=r}function xE(r){return Jc.loadJS(r)}function Rb(){return Jc.recaptchaEnterpriseScript}function wb(){return Jc.gapiScript}function Ib(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Cb{constructor(){this.enterprise=new Db}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class Db{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const Ob="recaptcha-enterprise",UE="NO_RECAPTCHA";class Nb{constructor(t){this.type=Ob,this.auth=Ms(t)}async verify(t="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,g)=>{lb(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new ob(p);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,f(_.siteKey)}}).catch(p=>{g(p)})})}function l(c,f,g){const p=window.grecaptcha;Uy(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:t}).then(_=>{f(_)}).catch(()=>{f(UE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Cb().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{s(this.auth).then(g=>{if(!n&&Uy(window.grecaptcha))l(g,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Rb();p.length!==0&&(p+=g),xE(p).then(()=>{l(g,c,f)}).catch(_=>{f(_)})}}).catch(g=>{f(g)})})}}async function jy(r,t,n,s=!1,l=!1){const c=new Nb(r);let f;if(l)f=UE;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const g=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function jd(r,t,n,s,l){var c;if(!((c=r._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await jy(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await jy(r,t,n,n==="getOobCode");return s(r,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(r,t){const n=dm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Is(c,t??{}))return l;zn(l,"already-initialized")}return n.initialize({options:t})}function Mb(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ui);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function Pb(r,t,n){const s=Ms(r);mt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=LE(t),{host:f,port:g}=kb(t),p=g===null?"":`:${g}`,_={url:`${c}//${f}${p}/`},T=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){mt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),mt(Is(_,s.config.emulator)&&Is(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Qa(f)?(hE(`${c}//${f}${p}`),fE("Auth",!0)):xb()}function LE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function kb(r){const t=LE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Gy(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:Gy(f)}}}function Gy(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function xb(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return xi("not implemented")}_getIdTokenResponse(t){return xi("not implemented")}_linkToIdToken(t,n){return xi("not implemented")}_getReauthenticationResolver(t){return xi("not implemented")}}async function Ub(r,t){return Lr(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lb(r,t){return kl(r,"POST","/v1/accounts:signInWithPassword",Ur(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zb(r,t){return kl(r,"POST","/v1/accounts:signInWithEmailLink",Ur(r,t))}async function Bb(r,t){return kl(r,"POST","/v1/accounts:signInWithEmailLink",Ur(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends vm{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Rl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Rl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jd(t,n,"signInWithPassword",Lb);case"emailLink":return zb(t,{email:this._email,oobCode:this._password});default:zn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jd(t,s,"signUpPassword",Ub);case"emailLink":return Bb(t,{idToken:n,email:this._email,oobCode:this._password});default:zn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(r,t){return kl(r,"POST","/v1/accounts:signInWithIdp",Ur(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="http://localhost";class Ds extends vm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ds(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=n,c=mm(n,["providerId","signInMethod"]);if(!s||!l)return null;const f=new Ds(s,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return ka(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,ka(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ka(t,n)}buildRequest(){const t={requestUri:qb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ml(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jb(r){const t=hl(fl(r)).link,n=t?hl(fl(t)).deep_link_id:null,s=hl(fl(r)).deep_link_id;return(s?hl(fl(s)).link:null)||s||n||t||r}class Em{constructor(t){var n,s,l,c,f,g;const p=hl(fl(t)),_=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,R=Hb((l=p.mode)!==null&&l!==void 0?l:null);mt(_&&T&&R,"argument-error"),this.apiKey=_,this.operation=R,this.code=T,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(t){const n=jb(t);try{return new Em(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.providerId=Ya.PROVIDER_ID}static credential(t,n){return Rl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Em.parseLink(n);return mt(s,"argument-error"),Rl._fromEmailAndCode(t,s.code,s.tenantId)}}Ya.PROVIDER_ID="password";Ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends zE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends xl{constructor(){super("facebook.com")}static credential(t){return Ds._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Er.credential(t.oauthAccessToken)}catch{return null}}}Er.FACEBOOK_SIGN_IN_METHOD="facebook.com";Er.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ds._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Tr.credential(n,s)}catch{return null}}}Tr.GOOGLE_SIGN_IN_METHOD="google.com";Tr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends xl{constructor(){super("github.com")}static credential(t){return Ds._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ar.credential(t.oauthAccessToken)}catch{return null}}}Ar.GITHUB_SIGN_IN_METHOD="github.com";Ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends xl{constructor(){super("twitter.com")}static credential(t,n){return Ds._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Sr.credential(n,s)}catch{return null}}}Sr.TWITTER_SIGN_IN_METHOD="twitter.com";Sr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gb(r,t){return kl(r,"POST","/v1/accounts:signUp",Ur(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await Un._fromIdTokenResponse(t,s,l),f=Fy(s);return new Os({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=Fy(s);return new Os({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function Fy(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends ji{constructor(t,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,xc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new xc(t,n,s,l)}}function BE(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?xc._fromErrorAndOperation(r,c,t,s):c})}async function Fb(r,t,n=!1){const s=await bl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Os._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qb(r,t,n=!1){const{auth:s}=r;if(On(s.app))return Promise.reject(Li(s));const l="reauthenticate";try{const c=await bl(r,BE(s,l,t,r),n);mt(c.idToken,s,"internal-error");const f=_m(c.idToken);mt(f,s,"internal-error");const{sub:g}=f;return mt(r.uid===g,s,"user-mismatch"),Os._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&zn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qE(r,t,n=!1){if(On(r.app))return Promise.reject(Li(r));const s="signIn",l=await BE(r,s,t),c=await Os._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}async function Kb(r,t){return qE(Ms(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HE(r){const t=Ms(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Yb(r,t,n){if(On(r.app))return Promise.reject(Li(r));const s=Ms(r),f=await jd(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gb).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&HE(r),p}),g=await Os._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(g.user),g}function Xb(r,t,n){return On(r.app)?Promise.reject(Li(r)):Kb(Re(r),Ya.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&HE(r),s})}function $b(r,t,n,s){return Re(r).onIdTokenChanged(t,n,s)}function Zb(r,t,n){return Re(r).beforeAuthStateChanged(t,n)}function Wb(r,t,n,s){return Re(r).onAuthStateChanged(t,n,s)}function Jb(r){return Re(r).signOut()}const Uc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uc,"1"),this.storage.removeItem(Uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=1e3,eR=10;class GE extends jE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);yb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,eR):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},tR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}GE.type="LOCAL";const nR=GE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE extends jE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}FE.type="SESSION";const QE=FE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new th(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,f=this.handlersMap[l];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(f).map(async _=>_(n.origin,c)),p=await iR(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}th.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const _=Tm("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(R){const w=R;if(w.data.eventId===_)switch(w.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(w.data.response);break;default:clearTimeout(T),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function sR(r){ai().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function aR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oR(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function lR(){return KE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="firebaseLocalStorageDb",uR=1,Lc="firebaseLocalStorage",XE="fbase_key";class Ul{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function eh(r,t){return r.transaction([Lc],t?"readwrite":"readonly").objectStore(Lc)}function cR(){const r=indexedDB.deleteDatabase(YE);return new Ul(r).toPromise()}function Gd(){const r=indexedDB.open(YE,uR);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Lc,{keyPath:XE})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Lc)?t(s):(s.close(),await cR(),t(await Gd()))})})}async function Qy(r,t,n){const s=eh(r,!0).put({[XE]:t,value:n});return new Ul(s).toPromise()}async function hR(r,t){const n=eh(r,!1).get(t),s=await new Ul(n).toPromise();return s===void 0?null:s.value}function Ky(r,t){const n=eh(r,!0).delete(t);return new Ul(n).toPromise()}const fR=800,dR=3;class $E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>dR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=th._getInstance(lR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await aR(),!this.activeServiceWorker)return;this.sender=new rR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||oR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Gd();return await Qy(t,Uc,"1"),await Ky(t,Uc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Qy(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>hR(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ky(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=eh(l,!1).getAll();return new Ul(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$E.type="LOCAL";const mR=$E;new Pl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(r,t){return t?Ui(t):(mt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am extends vm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ka(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ka(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function pR(r){return qE(r.auth,new Am(r),r.bypassAuthState)}function _R(r){const{auth:t,user:n}=r;return mt(n,t,"internal-error"),Qb(n,new Am(r),r.bypassAuthState)}async function yR(r){const{auth:t,user:n}=r;return mt(n,t,"internal-error"),Fb(n,new Am(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:f,type:g}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return pR;case"linkViaPopup":case"linkViaRedirect":return yR;case"reauthViaPopup":case"reauthViaRedirect":return _R;default:zn(this.auth,"internal-error")}}resolve(t){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=new Pl(2e3,1e4);class Va extends ZE{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Va.currentPopupAction&&Va.currentPopupAction.cancel(),Va.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const t=Tm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Va.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,vR.get())};t()}}Va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="pendingRedirect",Sc=new Map;class TR extends ZE{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Sc.get(this.auth._key());if(!t){try{const s=await AR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Sc.set(this.auth._key(),t)}return this.bypassAuthState||Sc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AR(r,t){const n=RR(t),s=bR(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function SR(r,t){Sc.set(r._key(),t)}function bR(r){return Ui(r._redirectPersistence)}function RR(r){return Ac(ER,r.config.apiKey,r.name)}async function wR(r,t,n=!1){if(On(r.app))return Promise.reject(Li(r));const s=Ms(r),l=gR(s,t),f=await new TR(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=10*60*1e3;class CR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!DR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!WE(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(si(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=IR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yy(t))}saveEventToCache(t){this.cachedEventUids.add(Yy(t)),this.lastProcessedEventTime=Date.now()}}function Yy(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function WE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function DR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(r,t={}){return Lr(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VR=/^https?/;async function MR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await OR(r);for(const n of t)try{if(PR(n))return}catch{}zn(r,"unauthorized-domain")}function PR(r){const t=qd(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!VR.test(n))return!1;if(NR.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new Pl(3e4,6e4);function Xy(){const r=ai().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function xR(r){return new Promise((t,n)=>{var s,l,c;function f(){Xy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Xy(),n(si(r,"network-request-failed"))},timeout:kR.get()})}if(!((l=(s=ai().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=ai().gapi)===null||c===void 0)&&c.load)f();else{const g=Ib("iframefcb");return ai()[g]=()=>{gapi.load?f():n(si(r,"network-request-failed"))},xE(`${wb()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw bc=null,t})}let bc=null;function UR(r){return bc=bc||xR(r),bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=new Pl(5e3,15e3),zR="__/auth/iframe",BR="emulator/auth/iframe",qR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jR(r){const t=r.config;mt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?pm(t,BR):`https://${r.config.authDomain}/${zR}`,s={apiKey:t.apiKey,appName:r.name,v:Ka},l=HR.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Ml(s).slice(1)}`}async function GR(r){const t=await UR(r),n=ai().gapi;return mt(n,r,"internal-error"),t.open({where:document.body,url:jR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const f=si(r,"network-request-failed"),g=ai().setTimeout(()=>{c(f)},LR.get());function p(){ai().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QR=500,KR=600,YR="_blank",XR="http://localhost";class $y{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $R(r,t,n,s=QR,l=KR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},FR),{width:s.toString(),height:l.toString(),top:c,left:f}),_=Ye().toLowerCase();n&&(g=DE(_)?YR:n),IE(_)&&(t=t||XR,p.scrollbars="yes");const T=Object.entries(p).reduce((w,[H,Y])=>`${w}${H}=${Y},`,"");if(_b(_)&&g!=="_self")return ZR(t||"",g),new $y(null);const R=window.open(t||"",g,T);mt(R,r,"popup-blocked");try{R.focus()}catch{}return new $y(R)}function ZR(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="__/auth/handler",JR="emulator/auth/handler",tw=encodeURIComponent("fac");async function Zy(r,t,n,s,l,c){mt(r.config.authDomain,r,"auth-domain-config-required"),mt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ka,eventId:l};if(t instanceof zE){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",zS(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,R]of Object.entries({}))f[T]=R}if(t instanceof xl){const T=t.getScopes().filter(R=>R!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),_=p?`#${tw}=${encodeURIComponent(p)}`:"";return`${ew(r)}?${Ml(g).slice(1)}${_}`}function ew({config:r}){return r.emulator?pm(r,JR):`https://${r.authDomain}/${WR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="webStorageSupport";class nw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QE,this._completeRedirectFn=wR,this._overrideRedirectResult=SR}async _openPopup(t,n,s,l){var c;Bi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await Zy(t,n,s,qd(),l);return $R(t,f,Tm())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await Zy(t,n,s,qd(),l);return sR(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Bi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await GR(t),s=new CR(t);return n.register("authEvent",l=>(mt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Nd,{type:Nd},l=>{var c;const f=(c=l?.[0])===null||c===void 0?void 0:c[Nd];f!==void 0&&n(!!f),zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return PE()||CE()||ym()}}const iw=nw;var Wy="@firebase/auth",Jy="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aw(r){Ua(new Cs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;mt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kE(r)},_=new Sb(s,l,c,p);return Mb(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ua(new Cs("auth-internal",t=>{const n=Ms(t.getProvider("auth").getImmediate());return(s=>new rw(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(Wy,Jy,sw(r)),Ir(Wy,Jy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=5*60,lw=cE("authIdTokenMaxAge")||ow;let tv=null;const uw=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>lw)return;const l=n?.token;tv!==l&&(tv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function cw(r=pE()){const t=dm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=Vb(r,{popupRedirectResolver:iw,persistence:[mR,nR,QE]}),s=cE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=uw(c.toString());Zb(n,f,()=>f(n.currentUser)),$b(n,g=>f(g))}}const l=lE("auth");return l&&Pb(n,`http://${l}`),n}function hw(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}bb({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=si("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",hw().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aw("Browser");var fw="firebase",dw="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir(fw,dw,"app");var ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cr,JE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,S){function I(){}I.prototype=S.prototype,V.D=S.prototype,V.prototype=new I,V.prototype.constructor=V,V.C=function(N,M,k){for(var C=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)C[Me-2]=arguments[Me];return S.prototype[M].apply(N,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,S,I){I||(I=0);var N=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)N[M]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(M=0;16>M;++M)N[M]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=V.g[0],I=V.g[1],M=V.g[2];var k=V.g[3],C=S+(k^I&(M^k))+N[0]+3614090360&4294967295;S=I+(C<<7&4294967295|C>>>25),C=k+(M^S&(I^M))+N[1]+3905402710&4294967295,k=S+(C<<12&4294967295|C>>>20),C=M+(I^k&(S^I))+N[2]+606105819&4294967295,M=k+(C<<17&4294967295|C>>>15),C=I+(S^M&(k^S))+N[3]+3250441966&4294967295,I=M+(C<<22&4294967295|C>>>10),C=S+(k^I&(M^k))+N[4]+4118548399&4294967295,S=I+(C<<7&4294967295|C>>>25),C=k+(M^S&(I^M))+N[5]+1200080426&4294967295,k=S+(C<<12&4294967295|C>>>20),C=M+(I^k&(S^I))+N[6]+2821735955&4294967295,M=k+(C<<17&4294967295|C>>>15),C=I+(S^M&(k^S))+N[7]+4249261313&4294967295,I=M+(C<<22&4294967295|C>>>10),C=S+(k^I&(M^k))+N[8]+1770035416&4294967295,S=I+(C<<7&4294967295|C>>>25),C=k+(M^S&(I^M))+N[9]+2336552879&4294967295,k=S+(C<<12&4294967295|C>>>20),C=M+(I^k&(S^I))+N[10]+4294925233&4294967295,M=k+(C<<17&4294967295|C>>>15),C=I+(S^M&(k^S))+N[11]+2304563134&4294967295,I=M+(C<<22&4294967295|C>>>10),C=S+(k^I&(M^k))+N[12]+1804603682&4294967295,S=I+(C<<7&4294967295|C>>>25),C=k+(M^S&(I^M))+N[13]+4254626195&4294967295,k=S+(C<<12&4294967295|C>>>20),C=M+(I^k&(S^I))+N[14]+2792965006&4294967295,M=k+(C<<17&4294967295|C>>>15),C=I+(S^M&(k^S))+N[15]+1236535329&4294967295,I=M+(C<<22&4294967295|C>>>10),C=S+(M^k&(I^M))+N[1]+4129170786&4294967295,S=I+(C<<5&4294967295|C>>>27),C=k+(I^M&(S^I))+N[6]+3225465664&4294967295,k=S+(C<<9&4294967295|C>>>23),C=M+(S^I&(k^S))+N[11]+643717713&4294967295,M=k+(C<<14&4294967295|C>>>18),C=I+(k^S&(M^k))+N[0]+3921069994&4294967295,I=M+(C<<20&4294967295|C>>>12),C=S+(M^k&(I^M))+N[5]+3593408605&4294967295,S=I+(C<<5&4294967295|C>>>27),C=k+(I^M&(S^I))+N[10]+38016083&4294967295,k=S+(C<<9&4294967295|C>>>23),C=M+(S^I&(k^S))+N[15]+3634488961&4294967295,M=k+(C<<14&4294967295|C>>>18),C=I+(k^S&(M^k))+N[4]+3889429448&4294967295,I=M+(C<<20&4294967295|C>>>12),C=S+(M^k&(I^M))+N[9]+568446438&4294967295,S=I+(C<<5&4294967295|C>>>27),C=k+(I^M&(S^I))+N[14]+3275163606&4294967295,k=S+(C<<9&4294967295|C>>>23),C=M+(S^I&(k^S))+N[3]+4107603335&4294967295,M=k+(C<<14&4294967295|C>>>18),C=I+(k^S&(M^k))+N[8]+1163531501&4294967295,I=M+(C<<20&4294967295|C>>>12),C=S+(M^k&(I^M))+N[13]+2850285829&4294967295,S=I+(C<<5&4294967295|C>>>27),C=k+(I^M&(S^I))+N[2]+4243563512&4294967295,k=S+(C<<9&4294967295|C>>>23),C=M+(S^I&(k^S))+N[7]+1735328473&4294967295,M=k+(C<<14&4294967295|C>>>18),C=I+(k^S&(M^k))+N[12]+2368359562&4294967295,I=M+(C<<20&4294967295|C>>>12),C=S+(I^M^k)+N[5]+4294588738&4294967295,S=I+(C<<4&4294967295|C>>>28),C=k+(S^I^M)+N[8]+2272392833&4294967295,k=S+(C<<11&4294967295|C>>>21),C=M+(k^S^I)+N[11]+1839030562&4294967295,M=k+(C<<16&4294967295|C>>>16),C=I+(M^k^S)+N[14]+4259657740&4294967295,I=M+(C<<23&4294967295|C>>>9),C=S+(I^M^k)+N[1]+2763975236&4294967295,S=I+(C<<4&4294967295|C>>>28),C=k+(S^I^M)+N[4]+1272893353&4294967295,k=S+(C<<11&4294967295|C>>>21),C=M+(k^S^I)+N[7]+4139469664&4294967295,M=k+(C<<16&4294967295|C>>>16),C=I+(M^k^S)+N[10]+3200236656&4294967295,I=M+(C<<23&4294967295|C>>>9),C=S+(I^M^k)+N[13]+681279174&4294967295,S=I+(C<<4&4294967295|C>>>28),C=k+(S^I^M)+N[0]+3936430074&4294967295,k=S+(C<<11&4294967295|C>>>21),C=M+(k^S^I)+N[3]+3572445317&4294967295,M=k+(C<<16&4294967295|C>>>16),C=I+(M^k^S)+N[6]+76029189&4294967295,I=M+(C<<23&4294967295|C>>>9),C=S+(I^M^k)+N[9]+3654602809&4294967295,S=I+(C<<4&4294967295|C>>>28),C=k+(S^I^M)+N[12]+3873151461&4294967295,k=S+(C<<11&4294967295|C>>>21),C=M+(k^S^I)+N[15]+530742520&4294967295,M=k+(C<<16&4294967295|C>>>16),C=I+(M^k^S)+N[2]+3299628645&4294967295,I=M+(C<<23&4294967295|C>>>9),C=S+(M^(I|~k))+N[0]+4096336452&4294967295,S=I+(C<<6&4294967295|C>>>26),C=k+(I^(S|~M))+N[7]+1126891415&4294967295,k=S+(C<<10&4294967295|C>>>22),C=M+(S^(k|~I))+N[14]+2878612391&4294967295,M=k+(C<<15&4294967295|C>>>17),C=I+(k^(M|~S))+N[5]+4237533241&4294967295,I=M+(C<<21&4294967295|C>>>11),C=S+(M^(I|~k))+N[12]+1700485571&4294967295,S=I+(C<<6&4294967295|C>>>26),C=k+(I^(S|~M))+N[3]+2399980690&4294967295,k=S+(C<<10&4294967295|C>>>22),C=M+(S^(k|~I))+N[10]+4293915773&4294967295,M=k+(C<<15&4294967295|C>>>17),C=I+(k^(M|~S))+N[1]+2240044497&4294967295,I=M+(C<<21&4294967295|C>>>11),C=S+(M^(I|~k))+N[8]+1873313359&4294967295,S=I+(C<<6&4294967295|C>>>26),C=k+(I^(S|~M))+N[15]+4264355552&4294967295,k=S+(C<<10&4294967295|C>>>22),C=M+(S^(k|~I))+N[6]+2734768916&4294967295,M=k+(C<<15&4294967295|C>>>17),C=I+(k^(M|~S))+N[13]+1309151649&4294967295,I=M+(C<<21&4294967295|C>>>11),C=S+(M^(I|~k))+N[4]+4149444226&4294967295,S=I+(C<<6&4294967295|C>>>26),C=k+(I^(S|~M))+N[11]+3174756917&4294967295,k=S+(C<<10&4294967295|C>>>22),C=M+(S^(k|~I))+N[2]+718787259&4294967295,M=k+(C<<15&4294967295|C>>>17),C=I+(k^(M|~S))+N[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+k&4294967295}s.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var I=S-this.blockSize,N=this.B,M=this.h,k=0;k<S;){if(M==0)for(;k<=I;)l(this,V,k),k+=this.blockSize;if(typeof V=="string"){for(;k<S;)if(N[M++]=V.charCodeAt(k++),M==this.blockSize){l(this,N),M=0;break}}else for(;k<S;)if(N[M++]=V[k++],M==this.blockSize){l(this,N),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var I=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=I&255,I/=256;for(this.u(V),V=Array(16),S=I=0;4>S;++S)for(var N=0;32>N;N+=8)V[I++]=this.g[S]>>>N&255;return V};function c(V,S){var I=g;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=S(V)}function f(V,S){this.h=S;for(var I=[],N=!0,M=V.length-1;0<=M;M--){var k=V[M]|0;N&&k==S||(I[M]=k,N=!1)}this.g=I}var g={};function p(V){return-128<=V&&128>V?c(V,function(S){return new f([S|0],0>S?-1:0)}):new f([V|0],0>V?-1:0)}function _(V){if(isNaN(V)||!isFinite(V))return R;if(0>V)return Z(_(-V));for(var S=[],I=1,N=0;V>=I;N++)S[N]=V/I|0,I*=4294967296;return new f(S,0)}function T(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return Z(T(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=_(Math.pow(S,8)),N=R,M=0;M<V.length;M+=8){var k=Math.min(8,V.length-M),C=parseInt(V.substring(M,M+k),S);8>k?(k=_(Math.pow(S,k)),N=N.j(k).add(_(C))):(N=N.j(I),N=N.add(_(C)))}return N}var R=p(0),w=p(1),H=p(16777216);r=f.prototype,r.m=function(){if(tt(this))return-Z(this).m();for(var V=0,S=1,I=0;I<this.g.length;I++){var N=this.i(I);V+=(0<=N?N:4294967296+N)*S,S*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(Y(this))return"0";if(tt(this))return"-"+Z(this).toString(V);for(var S=_(Math.pow(V,6)),I=this,N="";;){var M=Vt(I,S).g;I=Et(I,M.j(S));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(V);if(I=M,Y(I))return k+N;for(;6>k.length;)k="0"+k;N=k+N}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function Y(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function tt(V){return V.h==-1}r.l=function(V){return V=Et(this,V),tt(V)?-1:Y(V)?0:1};function Z(V){for(var S=V.g.length,I=[],N=0;N<S;N++)I[N]=~V.g[N];return new f(I,~V.h).add(w)}r.abs=function(){return tt(this)?Z(this):this},r.add=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],N=0,M=0;M<=S;M++){var k=N+(this.i(M)&65535)+(V.i(M)&65535),C=(k>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);N=C>>>16,k&=65535,C&=65535,I[M]=C<<16|k}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Et(V,S){return V.add(Z(S))}r.j=function(V){if(Y(this)||Y(V))return R;if(tt(this))return tt(V)?Z(this).j(Z(V)):Z(Z(this).j(V));if(tt(V))return Z(this.j(Z(V)));if(0>this.l(H)&&0>V.l(H))return _(this.m()*V.m());for(var S=this.g.length+V.g.length,I=[],N=0;N<2*S;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<V.g.length;M++){var k=this.i(N)>>>16,C=this.i(N)&65535,Me=V.i(M)>>>16,re=V.i(M)&65535;I[2*N+2*M]+=C*re,ft(I,2*N+2*M),I[2*N+2*M+1]+=k*re,ft(I,2*N+2*M+1),I[2*N+2*M+1]+=C*Me,ft(I,2*N+2*M+1),I[2*N+2*M+2]+=k*Me,ft(I,2*N+2*M+2)}for(N=0;N<S;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=S;N<2*S;N++)I[N]=0;return new f(I,0)};function ft(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function ut(V,S){this.g=V,this.h=S}function Vt(V,S){if(Y(S))throw Error("division by zero");if(Y(V))return new ut(R,R);if(tt(V))return S=Vt(Z(V),S),new ut(Z(S.g),Z(S.h));if(tt(S))return S=Vt(V,Z(S)),new ut(Z(S.g),S.h);if(30<V.g.length){if(tt(V)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var I=w,N=S;0>=N.l(V);)I=yt(I),N=yt(N);var M=Mt(I,1),k=Mt(N,1);for(N=Mt(N,2),I=Mt(I,2);!Y(N);){var C=k.add(N);0>=C.l(V)&&(M=M.add(I),k=C),N=Mt(N,1),I=Mt(I,1)}return S=Et(V,M.j(S)),new ut(M,S)}for(M=R;0<=V.l(S);){for(I=Math.max(1,Math.floor(V.m()/S.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),k=_(I),C=k.j(S);tt(C)||0<C.l(V);)I-=N,k=_(I),C=k.j(S);Y(k)&&(k=w),M=M.add(k),V=Et(V,C)}return new ut(M,V)}r.A=function(V){return Vt(this,V).h},r.and=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)&V.i(N);return new f(I,this.h&V.h)},r.or=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)|V.i(N);return new f(I,this.h|V.h)},r.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)^V.i(N);return new f(I,this.h^V.h)};function yt(V){for(var S=V.g.length+1,I=[],N=0;N<S;N++)I[N]=V.i(N)<<1|V.i(N-1)>>>31;return new f(I,V.h)}function Mt(V,S){var I=S>>5;S%=32;for(var N=V.g.length-I,M=[],k=0;k<N;k++)M[k]=0<S?V.i(k+I)>>>S|V.i(k+I+1)<<32-S:V.i(k+I);return new f(M,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,JE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,Cr=f}).apply(typeof ev<"u"?ev:typeof self<"u"?self:typeof window<"u"?window:{});var gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tT,dl,eT,Rc,Fd,nT,iT,rT;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof gc=="object"&&gc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var x=u[A];if(!(x in y))break t;y=y[x]}u=u[u.length-1],A=y[u],m=m(A),m!=A&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,A=!1,x={next:function(){if(!A&&y<u.length){var q=y++;return{value:m(q,u[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,y){return u.call.apply(u.bind,arguments)}function R(u,m,y){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,A),u.apply(m,x)}}return function(){return u.apply(m,arguments)}}function w(u,m,y){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:R,w.apply(null,arguments)}function H(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function Y(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(A,x,q){for(var J=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)J[Pt-2]=arguments[Pt];return m.prototype[x].apply(A,J)}}function tt(u){const m=u.length;if(0<m){const y=Array(m);for(let A=0;A<m;A++)y[A]=u[A];return y}return[]}function Z(u,m){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(p(A)){const x=u.length||0,q=A.length||0;u.length=x+q;for(let J=0;J<q;J++)u[x+J]=A[J]}else u.push(A)}}class Et{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ft(u){return/^[\s\xa0]*$/.test(u)}function ut(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Vt(u){return Vt[" "](u),u}Vt[" "]=function(){};var yt=ut().indexOf("Gecko")!=-1&&!(ut().toLowerCase().indexOf("webkit")!=-1&&ut().indexOf("Edge")==-1)&&!(ut().indexOf("Trident")!=-1||ut().indexOf("MSIE")!=-1)&&ut().indexOf("Edge")==-1;function Mt(u,m,y){for(const A in u)m.call(y,u[A],A,u)}function V(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function S(u){const m={};for(const y in u)m[y]=u[y];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let y,A;for(let x=1;x<arguments.length;x++){A=arguments[x];for(y in A)u[y]=A[y];for(let q=0;q<I.length;q++)y=I[q],Object.prototype.hasOwnProperty.call(A,y)&&(u[y]=A[y])}}function M(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function k(u){g.setTimeout(()=>{throw u},0)}function C(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,y){const A=re.get();A.set(m,y),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new Et(()=>new j,u=>u.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ot=!1,zt=new Me,D=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then($)}};var $=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(y){k(y)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function wt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(yt){t:{try{Vt(m.nodeName);var x=!0;break t}catch{}x=!1}x||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_t[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}Y(wt,W);var _t={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function qn(u,m,y,A,x){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!A,this.ha=x,this.key=++Zt,this.da=this.fa=!1}function Gi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ci(u){this.src=u,this.g={},this.h=0}ci.prototype.add=function(u,m,y,A,x){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var J=Hr(u,m,A,x);return-1<J?(m=u[J],y||(m.fa=!1)):(m=new qn(m,this.src,q,!!A,x),m.fa=y,u.push(m)),m};function qr(u,m){var y=m.type;if(y in u.g){var A=u.g[y],x=Array.prototype.indexOf.call(A,m,void 0),q;(q=0<=x)&&Array.prototype.splice.call(A,x,1),q&&(Gi(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Hr(u,m,y,A){for(var x=0;x<u.length;++x){var q=u[x];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==A)return x}return-1}var jr="closure_lm_"+(1e6*Math.random()|0),to={};function Gl(u,m,y,A,x){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Gl(u,m[q],y,A,x);return null}return y=Fl(y),u&&u[we]?u.K(m,y,_(A)?!!A.capture:!1,x):_n(u,m,y,!1,A,x)}function _n(u,m,y,A,x,q){if(!m)throw Error("Invalid event type");var J=_(x)?!!x.capture:!!x,Pt=Us(u);if(Pt||(u[jr]=Pt=new ci(u)),y=Pt.add(m,y,A,J,q),y.proxy)return y;if(A=yh(),y.proxy=A,A.src=u,A.listener=y,u.addEventListener)ct||(x=J),x===void 0&&(x=!1),u.addEventListener(m.toString(),A,x);else if(u.attachEvent)u.attachEvent(Gr(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function yh(){function u(y){return m.call(u.src,u.listener,y)}const m=vh;return u}function eo(u,m,y,A,x){if(Array.isArray(m))for(var q=0;q<m.length;q++)eo(u,m[q],y,A,x);else A=_(A)?!!A.capture:!!A,y=Fl(y),u&&u[we]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],y=Hr(q,y,A,x),-1<y&&(Gi(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Us(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Hr(m,y,A,x)),(y=-1<u?m[u]:null)&&xs(y))}function xs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])qr(m.i,u);else{var y=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(y,A,u.capture):m.detachEvent?m.detachEvent(Gr(y),A):m.addListener&&m.removeListener&&m.removeListener(A),(y=Us(m))?(qr(y,u),y.h==0&&(y.src=null,m[jr]=null)):Gi(u)}}}function Gr(u){return u in to?to[u]:to[u]="on"+u}function vh(u,m){if(u.da)u=!0;else{m=new wt(m,this);var y=u.listener,A=u.ha||u.src;u.fa&&xs(u),u=y.call(A,m)}return u}function Us(u){return u=u[jr],u instanceof ci?u:null}var no="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fl(u){return typeof u=="function"?u:(u[no]||(u[no]=function(m){return u.handleEvent(m)}),u[no])}function se(){nt.call(this),this.i=new ci(this),this.M=this,this.F=null}Y(se,nt),se.prototype[we]=!0,se.prototype.removeEventListener=function(u,m,y,A){eo(this,u,m,y,A)};function jt(u,m){var y,A=u.F;if(A)for(y=[];A;A=A.F)y.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var x=m;m=new W(A,u),N(m,x)}if(x=!0,y)for(var q=y.length-1;0<=q;q--){var J=m.g=y[q];x=an(J,A,!0,m)&&x}if(J=m.g=u,x=an(J,A,!0,m)&&x,x=an(J,A,!1,m)&&x,y)for(q=0;q<y.length;q++)J=m.g=y[q],x=an(J,A,!1,m)&&x}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],A=0;A<y.length;A++)Gi(y[A]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,y,A){return this.i.add(String(u),m,!1,y,A)},se.prototype.L=function(u,m,y,A){return this.i.add(String(u),m,!0,y,A)};function an(u,m,y,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var x=!0,q=0;q<m.length;++q){var J=m[q];if(J&&!J.da&&J.capture==y){var Pt=J.listener,ve=J.ha||J.src;J.fa&&qr(u.i,J),x=Pt.call(ve,A)!==!1&&x}}return x&&!A.defaultPrevented}function He(u,m,y){if(typeof u=="function")y&&(u=w(u,y));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Ql(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,Ql(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Eh extends nt{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ql(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(u){nt.call(this),this.h=u,this.g={}}Y(Fr,nt);var Qr=[];function Kr(u){Mt(u.g,function(m,y){this.g.hasOwnProperty(y)&&xs(m)},u),u.g={}}Fr.prototype.N=function(){Fr.aa.N.call(this),Kr(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=g.JSON.stringify,Ls=g.JSON.parse,Yr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function io(){}io.prototype.h=null;function ro(u){return u.h||(u.h=u.i())}function so(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fi(){W.call(this,"d")}Y(fi,W);function ao(){W.call(this,"c")}Y(ao,W);var Hn={},oo=null;function Fi(){return oo=oo||new se}Hn.La="serverreachability";function zs(u){W.call(this,Hn.La,u)}Y(zs,W);function Qi(u){const m=Fi();jt(m,new zs(m))}Hn.STAT_EVENT="statevent";function Kl(u,m){W.call(this,Hn.STAT_EVENT,u),this.stat=m}Y(Kl,W);function te(u){const m=Fi();jt(m,new Kl(m,u))}Hn.Ma="timingevent";function ye(u,m){W.call(this,Hn.Ma,u),this.size=m}Y(ye,W);function fe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function lo(u,m,y,A,x,q){u.info(function(){if(u.g)if(q)for(var J="",Pt=q.split("&"),ve=0;ve<Pt.length;ve++){var kt=Pt[ve].split("=");if(1<kt.length){var Ce=kt[0];kt=kt[1];var Ee=Ce.split("_");J=2<=Ee.length&&Ee[1]=="type"?J+(Ce+"="+kt+"&"):J+(Ce+"=redacted&")}}else J=null;else J=q;return"XMLHTTP REQ ("+A+") [attempt "+x+"]: "+m+`
`+y+`
`+J})}function Th(u,m,y,A,x,q,J){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+x+"]: "+m+`
`+y+`
`+q+" "+J})}function Ki(u,m,y,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Xr(u,y)+(A?" "+A:"")})}function Yl(u,m){u.info(function(){return"TIMEOUT: "+m})}yn.prototype.info=function(){};function Xr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var A=y[u];if(!(2>A.length)){var x=A[1];if(Array.isArray(x)&&!(1>x.length)){var q=x[0];if(q!="noop"&&q!="stop"&&q!="close")for(var J=1;J<x.length;J++)x[J]=""}}}}return Nn(y)}catch{return m}}var Yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function Gn(){}Y(Gn,io),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},jn=new Gn;function Xe(u,m,y,A){this.j=u,this.i=m,this.l=y,this.R=A||1,this.U=new Fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var uo={},Bs={};function Vn(u,m,y){u.L=1,u.v=ts(on(m)),u.m=y,u.P=!0,mi(u,null)}function mi(u,m){u.F=Date.now(),$r(u),u.A=on(u.v);var y=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),po(y.i,"t",A),u.C=0,y=u.j.J,u.h=new le,u.g=cu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Eh(w(u.Y,u,u.g),u.O)),m=u.U,y=u.g,A=u.ca;var x="readystatechange";Array.isArray(x)||(x&&(Qr[0]=x.toString()),x=Qr);for(var q=0;q<x.length;q++){var J=Gl(y,x[q],A||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Qi(),lo(u.i,u.u,u.A,u.l,u.R,u.m)}Xe.prototype.ca=function(u){u=u.target;const m=this.M;m&&An(u)==3?m.j():this.Y(u)},Xe.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=An(this.g);var m=this.g.Ba();const Ai=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||nu(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=Ai?Qi(3):Qi(2)),Xi(this);var y=this.g.Z();this.X=y;e:if(Xl(this)){var A=nu(this.g);u="";var x=A.length,q=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pe(this),Fn(this);var J="";break e}this.h.i=new g.TextDecoder}for(m=0;m<x;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(q&&m==x-1)});A.length=0,this.h.g+=u,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=y==200,Th(this.i,this.u,this.A,this.l,this.R,Ee,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,ve=this.g;if((Pt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ft(Pt)){var kt=Pt;break e}}kt=null}if(y=kt)Ki(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zr(this,y);else{this.o=!1,this.s=3,te(12),Pe(this),Fn(this);break t}}if(this.P){y=!0;let ke;for(;!this.J&&this.C<J.length;)if(ke=$l(this,J),ke==Bs){Ee==4&&(this.s=4,te(14),y=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==uo){this.s=4,te(15),Ki(this.i,this.l,J,"[Invalid Chunk]"),y=!1;break}else Ki(this.i,this.l,ke,null),Zr(this,ke);if(Xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||J.length!=0||this.h.h||(this.s=1,te(16),y=!1),this.o=this.o&&y,!y)Ki(this.i,this.l,J,"[Invalid Chunked Response]"),Pe(this),Fn(this);else if(0<J.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),ls(Ce),Ce.M=!0,te(11))}}else Ki(this.i,this.l,J,null),Zr(this,J);Ee==4&&Pe(this),this.o&&!this.J&&(Ee==4?ou(this.j,this):(this.o=!1,$r(this)))}else wh(this.g),y==400&&0<J.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Pe(this),Fn(this)}}}catch{}finally{}};function Xl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function $l(u,m){var y=u.C,A=m.indexOf(`
`,y);return A==-1?Bs:(y=Number(m.substring(y,A)),isNaN(y)?uo:(A+=1,A+y>m.length?Bs:(m=m.slice(A,A+y),u.C=A+y,m)))}Xe.prototype.cancel=function(){this.J=!0,Pe(this)};function $r(u){u.S=Date.now()+u.I,Zl(u,u.I)}function Zl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(w(u.ba,u),m)}function Xi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Xe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Yl(this.i,this.A),this.L!=2&&(Qi(),te(17)),Pe(this),this.s=2,Fn(this)):Zl(this,this.S-u)};function Fn(u){u.j.G==0||u.J||ou(u.j,u)}function Pe(u){Xi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Kr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Zr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||co(y.h,u))){if(!u.K&&co(y.h,u)&&y.G==3){try{var A=y.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var x=A;if(x[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Ws(y),$s(y);else break t;To(y),te(18)}}else y.za=x[1],0<y.za-y.T&&37500>x[2]&&y.F&&y.v==0&&!y.C&&(y.C=fe(w(y.Za,y),6e3));if(1>=Hs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Ti(y,11)}else if((u.K||y.g==u)&&Ws(y),!ft(m))for(x=y.Da.g.parse(m),m=0;m<x.length;m++){let kt=x[m];if(y.T=kt[0],kt=kt[1],y.G==2)if(kt[0]=="c"){y.K=kt[1],y.ia=kt[2];const Ce=kt[3];Ce!=null&&(y.la=Ce,y.j.info("VER="+y.la));const Ee=kt[4];Ee!=null&&(y.Aa=Ee,y.j.info("SVER="+y.Aa));const Ai=kt[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(A=1.5*Ai,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const ke=u.g;if(ke){const Wn=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wn){var q=A.h;q.g||Wn.indexOf("spdy")==-1&&Wn.indexOf("quic")==-1&&Wn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(js(q,q.h),q.h=null))}if(A.D){const So=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(A.ya=So,Qt(A.I,A.D,So))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var J=u;if(A.qa=uu(A,A.J?A.ia:null,A.W),J.K){$e(A.h,J);var Pt=J,ve=A.L;ve&&(Pt.I=ve),Pt.B&&(Xi(Pt),$r(Pt)),A.g=J}else su(A);0<y.i.length&&Zs(y)}else kt[0]!="stop"&&kt[0]!="close"||Ti(y,7);else y.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Ti(y,7):vo(y):kt[0]!="noop"&&y.l&&y.l.ta(kt),y.v=0)}}Qi(4)}catch{}}var Wl=class{constructor(u,m){this.g=u,this.map=m}};function gi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Hs(u){return u.h?1:u.g?u.g.size:0}function co(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function js(u,m){u.g?u.g.add(m):u.h=m}function $e(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}gi.prototype.cancel=function(){if(this.i=ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ho(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return tt(u.i)}function Ah(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,A=0;A<y;A++)m.push(u[A]);return m}m=[],y=0;for(A in u)m[y++]=u[A];return m}function Gs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const A in u)m[y++]=A;return m}}}function fo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Gs(u),A=Ah(u),x=A.length,q=0;q<x;q++)m.call(void 0,A[q],y&&y[q],u)}var Wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var A=u[y].indexOf("="),x=null;if(0<=A){var q=u[y].substring(0,A);x=u[y].substring(A+1)}else q=u[y];m(q,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,Jr(this,u.j),this.o=u.o,this.g=u.g,$i(this,u.s),this.l=u.l;var m=u.i,y=new _i;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),pi(this,y),this.m=u.m}else u&&(m=String(u).match(Wr))?(this.h=!1,Jr(this,m[1]||"",!0),this.o=vn(m[2]||""),this.g=vn(m[3]||"",!0),$i(this,m[4]),this.l=vn(m[5]||"",!0),pi(this,m[6]||"",!0),this.m=vn(m[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(es(m,mo,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(es(m,mo,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(es(y,y.charAt(0)=="/"?bh:go,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",es(y,Fs)),u.join("")};function on(u){return new de(u)}function Jr(u,m,y){u.j=y?vn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function $i(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function pi(u,m,y){m instanceof _i?(u.i=m,tu(u.i,u.h)):(y||(m=es(m,Rh)),u.i=new _i(m,u.h))}function Qt(u,m,y){u.i.set(m,y)}function ts(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function vn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function es(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Jl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Jl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var mo=/[#\/\?@]/g,go=/[#\?:]/g,bh=/[#\?]/g,Rh=/[#\?@]/g,Fs=/#/g;function _i(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&Sh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=_i.prototype,r.add=function(u,m){En(this),this.i=null,u=Qn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function yi(u,m){En(u),m=Qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function vi(u,m){return En(u),m=Qn(u,m),u.g.has(m)}r.forEach=function(u,m){En(this),this.g.forEach(function(y,A){y.forEach(function(x){u.call(m,x,A,this)},this)},this)},r.na=function(){En(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let A=0;A<m.length;A++){const x=u[A];for(let q=0;q<x.length;q++)y.push(m[A])}return y},r.V=function(u){En(this);let m=[];if(typeof u=="string")vi(this,u)&&(m=m.concat(this.g.get(Qn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return En(this),this.i=null,u=Qn(this,u),vi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function po(u,m,y){yi(u,m),0<y.length&&(u.i=null,u.g.set(Qn(u,m),tt(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var A=m[y];const q=encodeURIComponent(String(A)),J=this.V(A);for(A=0;A<J.length;A++){var x=q;J[A]!==""&&(x+="="+encodeURIComponent(String(J[A]))),u.push(x)}}return this.i=u.join("&")};function Qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function tu(u,m){m&&!u.j&&(En(u),u.i=null,u.g.forEach(function(y,A){var x=A.toLowerCase();A!=x&&(yi(this,A),po(this,x,y))},u)),u.j=m}function ns(u,m){const y=new yn;if(g.Image){const A=new Image;A.onload=H(Tn,y,"TestLoadImage: loaded",!0,m,A),A.onerror=H(Tn,y,"TestLoadImage: error",!1,m,A),A.onabort=H(Tn,y,"TestLoadImage: abort",!1,m,A),A.ontimeout=H(Tn,y,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Mn(u,m){const y=new yn,A=new AbortController,x=setTimeout(()=>{A.abort(),Tn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(x),q.ok?Tn(y,"TestPingServer: ok",!0,m):Tn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),Tn(y,"TestPingServer: error",!1,m)})}function Tn(u,m,y,A,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),A(y)}catch{}}function is(){this.g=new Yr}function Kn(u,m,y){const A=y||"";try{fo(u,function(x,q){let J=x;_(x)&&(J=Nn(x)),m.push(A+q+"="+encodeURIComponent(J))})}catch(x){throw m.push(A+"type="+encodeURIComponent("_badmap")),x}}function Zi(u){this.l=u.Ub||null,this.j=u.eb||!1}Y(Zi,io),Zi.prototype.g=function(){return new Ei(this.l,this.j)},Zi.prototype.i=function(u){return function(){return u}}({});function Ei(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(Ei,se),r=Ei.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Xn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_o(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function _o(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Yn(this):Xn(this),this.readyState==3&&_o(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Yn(this))},r.Qa=function(u){this.g&&(this.response=u,Yn(this))},r.ga=function(){this.g&&Yn(this)};function Yn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function yo(u){let m="";return Mt(u,function(y,A){m+=A,m+=":",m+=y,m+=`\r
`}),m}function Ie(u,m,y){t:{for(A in y){var A=!1;break t}A=!0}A||(y=yo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Qt(u,m,y))}function qt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(qt,se);var Qs=/^https?$/i,rs=["POST","PUT"];r=qt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?ro(this.o):ro(jn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){eu(this,q);return}if(u=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var x in A)y.set(x,A[x]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())y.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),x=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(rs,m,void 0))||A||x||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,J]of y)this.g.setRequestHeader(q,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ss(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){eu(this,q)}};function eu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ks(u),$n(u)}function Ks(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),$n(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ys(this):this.bb())},r.bb=function(){Ys(this)};function Ys(u){if(u.h&&typeof f<"u"&&(!u.v[1]||An(u)!=4||u.Z()!=2)){if(u.u&&An(u)==4)He(u.Ea,0,u);else if(jt(u,"readystatechange"),An(u)==4){u.h=!1;try{const J=u.Z();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var A;if(A=J===0){var x=String(u.D).match(Wr)[1]||null;!x&&g.self&&g.self.location&&(x=g.self.location.protocol.slice(0,-1)),A=!Qs.test(x?x.toLowerCase():"")}y=A}if(y)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var q=2<An(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Ks(u)}}finally{$n(u)}}}}function $n(u,m){if(u.g){ss(u);const y=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||jt(u,"ready");try{y.onreadystatechange=A}catch{}}}function ss(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function An(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ls(m)}};function nu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function wh(u){const m={};u=(u.g&&2<=An(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(ft(u[A]))continue;var y=M(u[A]);const x=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[x]||[];m[x]=q,q.push(y)}V(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Xs(u){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=as("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=as("baseRetryDelayMs",5e3,u),this.cb=as("retryDelaySeedMs",1e4,u),this.Wa=as("forwardChannelMaxRetries",2,u),this.wa=as("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new gi(u&&u.concurrentRequestLimit),this.Da=new is,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Xs.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,A){te(0),this.W=u,this.H=m||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=uu(this,null,this.W),Zs(this)};function vo(u){if(iu(u),u.G==3){var m=u.U++,y=on(u.I);if(Qt(y,"SID",u.K),Qt(y,"RID",m),Qt(y,"TYPE","terminate"),os(u,y),m=new Xe(u,u.j,m),m.L=2,m.v=ts(on(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=cu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),$r(m)}lu(u)}function $s(u){u.g&&(ls(u),u.g.cancel(),u.g=null)}function iu(u){$s(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ws(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Zs(u){if(!qs(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||D(),ot||(et(),ot=!0),zt.add(m,u),u.B=0}}function Ih(u,m){return Hs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(w(u.Ga,u,m),Ao(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const x=new Xe(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),N(q,this.S)):q=this.S),this.m!==null||this.O||(x.H=q,q=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=ru(this,x,m),y=on(this.I),Qt(y,"RID",u),Qt(y,"CVER",22),this.D&&Qt(y,"X-HTTP-Session-Id",this.D),os(this,y),q&&(this.O?m="headers="+encodeURIComponent(String(yo(q)))+"&"+m:this.m&&Ie(y,this.m,q)),js(this.h,x),this.Ua&&Qt(y,"TYPE","init"),this.P?(Qt(y,"$req",m),Qt(y,"SID","null"),x.T=!0,Vn(x,y,null)):Vn(x,y,m),this.G=2}}else this.G==3&&(u?Eo(this,u):this.i.length==0||qs(this.h)||Eo(this))};function Eo(u,m){var y;m?y=m.l:y=u.U++;const A=on(u.I);Qt(A,"SID",u.K),Qt(A,"RID",y),Qt(A,"AID",u.T),os(u,A),u.m&&u.o&&Ie(A,u.m,u.o),y=new Xe(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ru(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),js(u.h,y),Vn(y,A,m)}function os(u,m){u.H&&Mt(u.H,function(y,A){Qt(m,A,y)}),u.l&&fo({},function(y,A){Qt(m,A,y)})}function ru(u,m,y){y=Math.min(u.i.length,y);var A=u.l?w(u.l.Na,u.l,u):null;t:{var x=u.i;let q=-1;for(;;){const J=["count="+y];q==-1?0<y?(q=x[0].g,J.push("ofs="+q)):q=0:J.push("ofs="+q);let Pt=!0;for(let ve=0;ve<y;ve++){let kt=x[ve].g;const Ce=x[ve].map;if(kt-=q,0>kt)q=Math.max(0,x[ve].g-100),Pt=!1;else try{Kn(Ce,J,"req"+kt+"_")}catch{A&&A(Ce)}}if(Pt){A=J.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,A}function su(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||D(),ot||(et(),ot=!0),zt.add(m,u),u.v=0}}function To(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(w(u.Fa,u),Ao(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,au(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(w(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),$s(this),au(this))};function ls(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function au(u){u.g=new Xe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=on(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),os(u,m),u.m&&u.o&&Ie(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=ts(on(m)),y.m=null,y.P=!0,mi(y,u)}r.Za=function(){this.C!=null&&(this.C=null,$s(this),To(this),te(19))};function Ws(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function ou(u,m){var y=null;if(u.g==m){Ws(u),ls(u),u.g=null;var A=2}else if(co(u.h,m))y=m.D,$e(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var x=u.B;A=Fi(),jt(A,new ye(A,y)),Zs(u)}else su(u);else if(x=m.s,x==3||x==0&&0<m.X||!(A==1&&Ih(u,m)||A==2&&To(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),x){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function Ao(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var y=w(u.fb,u),A=u.Xa;const x=!A;A=new de(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Jr(A,"https"),ts(A),x?ns(A.toString(),y):Mn(A.toString(),y)}else te(2);u.G=0,u.l&&u.l.sa(m),lu(u),iu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function lu(u){if(u.G=0,u.ka=[],u.l){const m=ho(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,tt(u.i),u.i.length=0),u.l.ra()}}function uu(u,m,y){var A=y instanceof de?on(y):new de(y);if(A.g!="")m&&(A.g=m+"."+A.g),$i(A,A.s);else{var x=g.location;A=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;var q=new de(null);A&&Jr(q,A),m&&(q.g=m),x&&$i(q,x),y&&(q.l=y),A=q}return y=u.D,m=u.ya,y&&m&&Qt(A,y,m),Qt(A,"VER",u.la),os(u,A),A}function cu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new Zi({eb:y})):new qt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function hu(){}r=hu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Js(){}Js.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){se.call(this),this.g=new Xs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ft(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ft(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zn(this)}Y(Ze,se),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){vo(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Nn(u),u=y);m.i.push(new Wl(m.Ya++,u)),m.G==3&&Zs(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,vo(this.g),delete this.g,Ze.aa.N.call(this)};function fu(u){fi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Y(fu,fi);function du(){ao.call(this),this.status=1}Y(du,ao);function Zn(u){this.g=u}Y(Zn,hu),Zn.prototype.ua=function(){jt(this.g,"a")},Zn.prototype.ta=function(u){jt(this.g,new fu(u))},Zn.prototype.sa=function(u){jt(this.g,new du)},Zn.prototype.ra=function(){jt(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,rT=function(){return new Js},iT=function(){return Fi()},nT=Hn,Fd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,Rc=Yi,di.COMPLETE="complete",eT=di,so.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",se.prototype.listen=se.prototype.K,dl=so,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,tT=qt}).apply(typeof gc<"u"?gc:typeof self<"u"?self:typeof window<"u"?window:{});const nv="@firebase/firestore",iv="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new hm("@firebase/firestore");function Ca(){return Ns.logLevel}function it(r,...t){if(Ns.logLevel<=Ot.DEBUG){const n=t.map(Sm);Ns.debug(`Firestore (${Xa}): ${r}`,...n)}}function qi(r,...t){if(Ns.logLevel<=Ot.ERROR){const n=t.map(Sm);Ns.error(`Firestore (${Xa}): ${r}`,...n)}}function La(r,...t){if(Ns.logLevel<=Ot.WARN){const n=t.map(Sm);Ns.warn(`Firestore (${Xa}): ${r}`,...n)}}function Sm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,sT(r,s,n)}function sT(r,t,n){let s=`FIRESTORE (${Xa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw qi(s),new Error(s)}function Ht(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||sT(t,l,s)}function Tt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends ji{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class mw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}}class gw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pw{constructor(t){this.t=t,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ws,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ws)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new aT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Qe(t)}}class _w{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yw{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new _w(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vw{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const s=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=Ew(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function Rt(r,t){return r<t?-1:r>t?1:0}function Qd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),l=t.codePointAt(n);if(s!==l){if(s<128&&l<128)return Rt(s,l);{const c=oT(),f=Tw(c.encode(sv(r,n)),c.encode(sv(t,n)));return f!==0?f:Rt(s,l)}}n+=s>65535?2:1}return Rt(r.length,t.length)}function sv(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function Tw(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Rt(r[n],t[n]);return Rt(r.length,t.length)}function za(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=-62135596800,ov=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(t){return Se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*ov);return new Se(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<av)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ov}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-av;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new Se(0,0))}static max(){return new vt(new Se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="__name__";class ri{constructor(t,n,s){n===void 0?n=0:n>t.length&&gt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&gt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ri?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=ri.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Rt(t.length,n.length)}static compareSegments(t,n){const s=ri.isNumericId(t),l=ri.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?ri.extractNumericId(t).compare(ri.extractNumericId(n)):Qd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Cr.fromString(t.substring(4,t.length-2))}}class Jt extends ri{construct(t,n,s){return new Jt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new st(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new Jt(n)}static emptyPath(){return new Jt([])}}const Aw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ri{construct(t,n,s){return new Be(t,n,s)}static isValidIdentifier(t){return Aw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lv}static keyField(){return new Be([lv])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new st(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new st(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(s+=g,l++):(c(),l++)}if(c(),f)throw new st(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Be(n)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(t){this.path=t}static fromPath(t){return new lt(Jt.fromString(t))}static fromName(t){return new lt(Jt.fromString(t).popFirst(5))}static empty(){return new lt(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Jt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new lt(new Jt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=-1;function Sw(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(s===1e9?new Se(n+1,0):new Se(n,s));return new Nr(l,lt.empty(),t)}function bw(r){return new Nr(r.readTime,r.key,wl)}class Nr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Nr(vt.min(),lt.empty(),wl)}static max(){return new Nr(vt.max(),lt.empty(),wl)}}function Rw(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=lt.comparator(r.documentKey,t.documentKey),n!==0?n:Rt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Iw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==ww)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new K((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):K.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):K.reject(n)}static resolve(t){return new K((n,s)=>{n(t)})}static reject(t){return new K((n,s)=>{s(t)})}static waitFor(t){return new K((n,s)=>{let l=0,c=0,f=!1;t.forEach(g=>{++l,g.next(()=>{++c,f&&c===l&&n()},p=>s(p))}),f=!0,c===l&&n()})}static or(t){let n=K.resolve(!1);for(const s of t)n=n.next(l=>l?K.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new K((s,l)=>{const c=t.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;n(t[_]).next(T=>{f[_]=T,++g,g===c&&s(f)},T=>l(T))}})}static doWhile(t,n){return new K((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function Cw(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Za(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}nh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=-1;function ih(r){return r==null}function zc(r){return r===0&&1/r==-1/0}function Dw(r){return typeof r=="number"&&Number.isInteger(r)&&!zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="";function Ow(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=uv(t)),t=Nw(r.get(n),t);return uv(t)}function Nw(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case uT:n+="";break;default:n+=c}}return n}function uv(r){return r+uT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function zr(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function cT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,n){this.comparator=t,this.root=n||ze.EMPTY}insert(t,n){return new ie(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(t){return new ie(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ze.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new pc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new pc(this.root,t,this.comparator,!1)}getReverseIterator(){return new pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new pc(this.root,t,this.comparator,!0)}}class pc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ze{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??ze.RED,this.left=l??ze.EMPTY,this.right=c??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new ze(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return ze.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new ze(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.comparator=t,this.data=new ie(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new hv(this.data.getIterator())}getIteratorFrom(t){return new hv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof be)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new be(this.comparator);return n.data=t,n}}class hv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.fields=t,t.sort(Be.comparator)}static empty(){return new pn([])}unionWith(t){let n=new be(Be.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new pn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return za(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new hT("Invalid base64 string: "+c):c}}(t);return new qe(n)}static fromUint8Array(t){const n=function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c}(t);return new qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const Vw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vr(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const n=Vw.exec(r);if(Ht(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:he(r.seconds),nanos:he(r.nanos)}}function he(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Mr(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="server_timestamp",dT="__type__",mT="__previous_value__",gT="__local_write_time__";function Rm(r){var t,n;return((n=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[dT])===null||n===void 0?void 0:n.stringValue)===fT}function rh(r){const t=r.mapValue.fields[mT];return Rm(t)?rh(t):t}function Il(r){const t=Vr(r.mapValue.fields[gT].timestampValue);return new Se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t,n,s,l,c,f,g,p,_,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T}}const Bc="(default)";class Cl{constructor(t,n){this.projectId=t,this.database=n||Bc}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database===Bc}isEqual(t){return t instanceof Cl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="__type__",Pw="__max__",_c={mapValue:{}},_T="__vector__",qc="value";function Pr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Rm(r)?4:xw(r)?9007199254740991:kw(r)?10:11:gt(28295,{value:r})}function ui(r,t){if(r===t)return!0;const n=Pr(r);if(n!==Pr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Il(r).isEqual(Il(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Vr(l.timestampValue),g=Vr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Mr(l.bytesValue).isEqual(Mr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return he(l.geoPointValue.latitude)===he(c.geoPointValue.latitude)&&he(l.geoPointValue.longitude)===he(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return he(l.integerValue)===he(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=he(l.doubleValue),g=he(c.doubleValue);return f===g?zc(f)===zc(g):isNaN(f)&&isNaN(g)}return!1}(r,t);case 9:return za(r.arrayValue.values||[],t.arrayValue.values||[],ui);case 10:case 11:return function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(cv(f)!==cv(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!ui(f[p],g[p])))return!1;return!0}(r,t);default:return gt(52216,{left:r})}}function Dl(r,t){return(r.values||[]).find(n=>ui(n,t))!==void 0}function Ba(r,t){if(r===t)return 0;const n=Pr(r),s=Pr(t);if(n!==s)return Rt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rt(r.booleanValue,t.booleanValue);case 2:return function(c,f){const g=he(c.integerValue||c.doubleValue),p=he(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return fv(r.timestampValue,t.timestampValue);case 4:return fv(Il(r),Il(t));case 5:return Qd(r.stringValue,t.stringValue);case 6:return function(c,f){const g=Mr(c),p=Mr(f);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,f){const g=c.split("/"),p=f.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=Rt(g[_],p[_]);if(T!==0)return T}return Rt(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,f){const g=Rt(he(c.latitude),he(f.latitude));return g!==0?g:Rt(he(c.longitude),he(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return dv(r.arrayValue,t.arrayValue);case 10:return function(c,f){var g,p,_,T;const R=c.fields||{},w=f.fields||{},H=(g=R[qc])===null||g===void 0?void 0:g.arrayValue,Y=(p=w[qc])===null||p===void 0?void 0:p.arrayValue,tt=Rt(((_=H?.values)===null||_===void 0?void 0:_.length)||0,((T=Y?.values)===null||T===void 0?void 0:T.length)||0);return tt!==0?tt:dv(H,Y)}(r.mapValue,t.mapValue);case 11:return function(c,f){if(c===_c.mapValue&&f===_c.mapValue)return 0;if(c===_c.mapValue)return 1;if(f===_c.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=f.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let R=0;R<p.length&&R<T.length;++R){const w=Qd(p[R],T[R]);if(w!==0)return w;const H=Ba(g[p[R]],_[T[R]]);if(H!==0)return H}return Rt(p.length,T.length)}(r.mapValue,t.mapValue);default:throw gt(23264,{Pe:n})}}function fv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Rt(r,t);const n=Vr(r),s=Vr(t),l=Rt(n.seconds,s.seconds);return l!==0?l:Rt(n.nanos,s.nanos)}function dv(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=Ba(n[l],s[l]);if(c)return c}return Rt(n.length,s.length)}function qa(r){return Kd(r)}function Kd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Vr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Mr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return lt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Kd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of s)c?c=!1:l+=",",l+=`${f}:${Kd(n.fields[f])}`;return l+"}"}(r.mapValue):gt(61005,{value:r})}function wc(r){switch(Pr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=rh(r);return t?16+wc(t):16;case 5:return 2*r.stringValue.length;case 6:return Mr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+wc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return zr(s.fields,(c,f)=>{l+=c.length+wc(f)}),l}(r.mapValue);default:throw gt(13486,{value:r})}}function mv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Yd(r){return!!r&&"integerValue"in r}function wm(r){return!!r&&"arrayValue"in r}function gv(r){return!!r&&"nullValue"in r}function pv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ic(r){return!!r&&"mapValue"in r}function kw(r){var t,n;return((n=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[pT])===null||n===void 0?void 0:n.stringValue)===_T}function vl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return zr(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=vl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=vl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function xw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Pw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.value=t}static empty(){return new rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Ic(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=vl(n)}setAll(t){let n=Be.emptyPath(),s={},l=[];t.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}f?s[g.lastSegment()]=vl(f):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());Ic(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ui(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Ic(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){zr(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new rn(vl(this.value))}}function yT(r){const t=[];return zr(r.fields,(n,s)=>{const l=new Be([n]);if(Ic(s)){const c=yT(s.mapValue).fields;if(c.length===0)t.push(l);else for(const f of c)t.push(l.child(f))}else t.push(l)}),new pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,n,s,l,c,f,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(t){return new Ke(t,0,vt.min(),vt.min(),vt.min(),rn.empty(),0)}static newFoundDocument(t,n,s,l){return new Ke(t,1,n,vt.min(),s,l,0)}static newNoDocument(t,n){return new Ke(t,2,n,vt.min(),vt.min(),rn.empty(),0)}static newUnknownDocument(t,n){return new Ke(t,3,n,vt.min(),vt.min(),rn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,n){this.position=t,this.inclusive=n}}function _v(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],f=r.position[l];if(c.field.isKeyField()?s=lt.comparator(lt.fromName(f.referenceValue),n.key):s=Ba(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function yv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ui(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,n="asc"){this.field=t,this.dir=n}}function Uw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{}class _e extends vT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new zw(t,n,s):n==="array-contains"?new Hw(t,s):n==="in"?new jw(t,s):n==="not-in"?new Gw(t,s):n==="array-contains-any"?new Fw(t,s):new _e(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new Bw(t,s):new qw(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ba(n,this.value)):n!==null&&Pr(this.value)===Pr(n)&&this.matchesComparison(Ba(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends vT{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new Bn(t,n)}matches(t){return ET(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ET(r){return r.op==="and"}function TT(r){return Lw(r)&&ET(r)}function Lw(r){for(const t of r.filters)if(t instanceof Bn)return!1;return!0}function Xd(r){if(r instanceof _e)return r.field.canonicalString()+r.op.toString()+qa(r.value);if(TT(r))return r.filters.map(t=>Xd(t)).join(",");{const t=r.filters.map(n=>Xd(n)).join(",");return`${r.op}(${t})`}}function AT(r,t){return r instanceof _e?function(s,l){return l instanceof _e&&s.op===l.op&&s.field.isEqual(l.field)&&ui(s.value,l.value)}(r,t):r instanceof Bn?function(s,l){return l instanceof Bn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,f,g)=>c&&AT(f,l.filters[g]),!0):!1}(r,t):void gt(19439)}function ST(r){return r instanceof _e?function(n){return`${n.field.canonicalString()} ${n.op} ${qa(n.value)}`}(r):r instanceof Bn?function(n){return n.op.toString()+" {"+n.getFilters().map(ST).join(" ,")+"}"}(r):"Filter"}class zw extends _e{constructor(t,n,s){super(t,n,s),this.key=lt.fromName(s.referenceValue)}matches(t){const n=lt.comparator(t.key,this.key);return this.matchesComparison(n)}}class Bw extends _e{constructor(t,n){super(t,"in",n),this.keys=bT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class qw extends _e{constructor(t,n){super(t,"not-in",n),this.keys=bT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function bT(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>lt.fromName(s.referenceValue))}class Hw extends _e{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return wm(n)&&Dl(n.arrayValue,this.value)}}class jw extends _e{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Dl(this.value.arrayValue,n)}}class Gw extends _e{constructor(t,n){super(t,"not-in",n)}matches(t){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Dl(this.value.arrayValue,n)}}class Fw extends _e{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!wm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Dl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t,n=null,s=[],l=[],c=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.Ie=null}}function vv(r,t=null,n=[],s=[],l=null,c=null,f=null){return new Qw(r,t,n,s,l,c,f)}function Im(r){const t=Tt(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Xd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),ih(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>qa(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>qa(s)).join(",")),t.Ie=n}return t.Ie}function Cm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Uw(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!AT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!yv(r.startAt,t.startAt)&&yv(r.endAt,t.endAt)}function $d(r){return lt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(t,n=null,s=[],l=[],c=null,f="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Kw(r,t,n,s,l,c,f,g){return new Ll(r,t,n,s,l,c,f,g)}function Dm(r){return new Ll(r)}function Ev(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function RT(r){return r.collectionGroup!==null}function El(r){const t=Tt(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new be(Be.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new jc(c,s))}),n.has(Be.keyField().canonicalString())||t.Ee.push(new jc(Be.keyField(),s))}return t.Ee}function oi(r){const t=Tt(r);return t.de||(t.de=Yw(t,El(r))),t.de}function Yw(r,t){if(r.limitType==="F")return vv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new jc(l.field,c)});const n=r.endAt?new Hc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Hc(r.startAt.position,r.startAt.inclusive):null;return vv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Zd(r,t){const n=r.filters.concat([t]);return new Ll(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Wd(r,t,n){return new Ll(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function sh(r,t){return Cm(oi(r),oi(t))&&r.limitType===t.limitType}function wT(r){return`${Im(oi(r))}|lt:${r.limitType}`}function Da(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>ST(l)).join(", ")}]`),ih(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>qa(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>qa(l)).join(",")),`Target(${s})`}(oi(r))}; limitType=${r.limitType})`}function ah(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):lt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of El(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(f,g,p){const _=_v(f,g,p);return f.inclusive?_<=0:_<0}(s.startAt,El(s),l)||s.endAt&&!function(f,g,p){const _=_v(f,g,p);return f.inclusive?_>=0:_>0}(s.endAt,El(s),l))}(r,t)}function Xw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function IT(r){return(t,n)=>{let s=!1;for(const l of El(r)){const c=$w(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function $w(r,t,n){const s=r.field.isKeyField()?lt.comparator(t.key,n.key):function(c,f,g){const p=f.data.field(c),_=g.data.field(c);return p!==null&&_!==null?Ba(p,_):gt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){zr(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return cT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=new ie(lt.comparator);function Hi(){return Zw}const CT=new ie(lt.comparator);function ml(...r){let t=CT;for(const n of r)t=t.insert(n.key,n);return t}function DT(r){let t=CT;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Rs(){return Tl()}function OT(){return Tl()}function Tl(){return new Ps(r=>r.toString(),(r,t)=>r.isEqual(t))}const Ww=new ie(lt.comparator),Jw=new be(lt.comparator);function Nt(...r){let t=Jw;for(const n of r)t=t.add(n);return t}const tI=new be(Rt);function eI(){return tI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zc(t)?"-0":t}}function NT(r){return{integerValue:""+r}}function nI(r,t){return Dw(t)?NT(t):Om(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this._=void 0}}function iI(r,t,n){return r instanceof Gc?function(l,c){const f={fields:{[dT]:{stringValue:fT},[gT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Rm(c)&&(c=rh(c)),c&&(f.fields[mT]=c),{mapValue:f}}(n,t):r instanceof Ol?MT(r,t):r instanceof Nl?PT(r,t):function(l,c){const f=VT(l,c),g=Tv(f)+Tv(l.Re);return Yd(f)&&Yd(l.Re)?NT(g):Om(l.serializer,g)}(r,t)}function rI(r,t,n){return r instanceof Ol?MT(r,t):r instanceof Nl?PT(r,t):n}function VT(r,t){return r instanceof Fc?function(s){return Yd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Gc extends oh{}class Ol extends oh{constructor(t){super(),this.elements=t}}function MT(r,t){const n=kT(t);for(const s of r.elements)n.some(l=>ui(l,s))||n.push(s);return{arrayValue:{values:n}}}class Nl extends oh{constructor(t){super(),this.elements=t}}function PT(r,t){let n=kT(t);for(const s of r.elements)n=n.filter(l=>!ui(l,s));return{arrayValue:{values:n}}}class Fc extends oh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function Tv(r){return he(r.integerValue||r.doubleValue)}function kT(r){return wm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function sI(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof Ol&&l instanceof Ol||s instanceof Nl&&l instanceof Nl?za(s.elements,l.elements,ui):s instanceof Fc&&l instanceof Fc?ui(s.Re,l.Re):s instanceof Gc&&l instanceof Gc}(r.transform,t.transform)}class aI{constructor(t,n){this.version=t,this.transformResults=n}}class Ln{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ln}static exists(t){return new Ln(void 0,t)}static updateTime(t){return new Ln(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Cc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class lh{}function xT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Nm(r.key,Ln.none()):new zl(r.key,r.data,Ln.none());{const n=r.data,s=rn.empty();let l=new be(Be.comparator);for(let c of t.fields)if(!l.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),l=l.add(c)}return new Br(r.key,s,new pn(l.toArray()),Ln.none())}}function oI(r,t,n){r instanceof zl?function(l,c,f){const g=l.value.clone(),p=Sv(l.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):r instanceof Br?function(l,c,f){if(!Cc(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=Sv(l.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(UT(l)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Al(r,t,n,s){return r instanceof zl?function(c,f,g,p){if(!Cc(c.precondition,f))return g;const _=c.value.clone(),T=bv(c.fieldTransforms,p,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,t,n,s):r instanceof Br?function(c,f,g,p){if(!Cc(c.precondition,f))return g;const _=bv(c.fieldTransforms,p,f),T=f.data;return T.setAll(UT(c)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(r,t,n,s):function(c,f,g){return Cc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(r,t,n)}function lI(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=VT(s.transform,l||null);c!=null&&(n===null&&(n=rn.empty()),n.set(s.field,c))}return n||null}function Av(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&za(s,l,(c,f)=>sI(c,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class zl extends lh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Br extends lh{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function UT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function Sv(r,t,n){const s=new Map;Ht(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let l=0;l<n.length;l++){const c=r[l],f=c.transform,g=t.data.field(c.field);s.set(c.field,rI(f,g,n[l]))}return s}function bv(r,t,n){const s=new Map;for(const l of r){const c=l.transform,f=n.data.field(l.field);s.set(l.field,iI(c,f,t))}return s}class Nm extends lh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uI extends lh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&oI(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Al(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Al(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=OT();return this.mutations.forEach(l=>{const c=t.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(l.key)?null:g;const p=xT(f,g);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(vt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Nt())}isEqual(t){return this.batchId===t.batchId&&za(this.mutations,t.mutations,(n,s)=>Av(n,s))&&za(this.baseMutations,t.baseMutations,(n,s)=>Av(n,s))}}class Vm{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Ht(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let l=function(){return Ww}();const c=t.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,s[f].version);return new Vm(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Ut;function dI(r){switch(r){case X.OK:return gt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function LT(r){if(r===void 0)return qi("GRPC error has no .code"),X.UNKNOWN;switch(r){case pe.OK:return X.OK;case pe.CANCELLED:return X.CANCELLED;case pe.UNKNOWN:return X.UNKNOWN;case pe.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case pe.INTERNAL:return X.INTERNAL;case pe.UNAVAILABLE:return X.UNAVAILABLE;case pe.UNAUTHENTICATED:return X.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case pe.NOT_FOUND:return X.NOT_FOUND;case pe.ALREADY_EXISTS:return X.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return X.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case pe.ABORTED:return X.ABORTED;case pe.OUT_OF_RANGE:return X.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return X.UNIMPLEMENTED;case pe.DATA_LOSS:return X.DATA_LOSS;default:return gt(39323,{code:r})}}(Ut=pe||(pe={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new Cr([4294967295,4294967295],0);function Rv(r){const t=oT().encode(r),n=new JE;return n.update(t),new Uint8Array(n.digest())}function wv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Cr([n,s],0),new Cr([l,c],0)]}class Mm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new gl(`Invalid padding: ${n}`);if(s<0)throw new gl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new gl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Cr.fromNumber(this.pe)}we(t,n,s){let l=t.add(n.multiply(Cr.fromNumber(s)));return l.compare(mI)===1&&(l=new Cr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=Rv(t),[s,l]=wv(n);for(let c=0;c<this.hashCount;c++){const f=this.we(s,l,c);if(!this.be(f))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new Mm(c,l,n);return s.forEach(g=>f.insert(g)),f}insert(t){if(this.pe===0)return;const n=Rv(t),[s,l]=wv(n);for(let c=0;c<this.hashCount;c++){const f=this.we(s,l,c);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Bl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new uh(vt.min(),l,new ie(Rt),Hi(),Nt())}}class Bl{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Bl(s,n,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,n,s,l){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=l}}class zT{constructor(t,n){this.targetId=t,this.Ce=n}}class BT{constructor(t,n,s=qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class Iv{constructor(){this.Fe=0,this.Me=Cv(),this.xe=qe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Nt(),n=Nt(),s=Nt();return this.Me.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:gt(38017,{changeType:c})}}),new Bl(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=Cv()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ht(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class gI{constructor(t){this.ze=t,this.je=new Map,this.He=Hi(),this.Je=yc(),this.Ye=yc(),this.Ze=new ie(Rt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:gt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,l)=>{this.it(l)&&n(l)})}ot(t){const n=t.targetId,s=t.Ce.count,l=this._t(n);if(l){const c=l.target;if($d(c))if(s===0){const f=new lt(c.path);this.tt(n,f,Ke.newNoDocument(f,vt.min()))}else Ht(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const g=this.ct(t),p=g?this.lt(g,t,f):1;if(p!==0){this.st(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,_)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let f,g;try{f=Mr(s).toUint8Array()}catch(p){if(p instanceof hT)return La("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Mm(f,l,c)}catch(p){return La(p instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const f=this.ze.Pt(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.tt(n,c,null),l++)}),l}It(t){const n=new Map;this.je.forEach((c,f)=>{const g=this._t(f);if(g){if(c.current&&$d(g.target)){const p=new lt(g.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Ke.newNoDocument(p,t))}c.Le&&(n.set(f,c.qe()),c.Qe())}});let s=Nt();this.Ye.forEach((c,f)=>{let g=!0;f.forEachWhile(p=>{const _=this._t(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.He.forEach((c,f)=>f.setReadTime(t));const l=new uh(t,n,this.Ze,this.He,s);return this.He=Hi(),this.Je=yc(),this.Ye=yc(),this.Ze=new ie(Rt),l}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const l=this.rt(t);this.dt(t,n)?l.$e(n,1):l.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new Iv,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new be(Rt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new be(Rt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||it("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Iv),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function yc(){return new ie(lt.comparator)}function Cv(){return new ie(lt.comparator)}const pI={asc:"ASCENDING",desc:"DESCENDING"},_I={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yI={and:"AND",or:"OR"};class vI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Jd(r,t){return r.useProto3Json||ih(t)?t:{value:t}}function Qc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function EI(r,t){return Qc(r,t.toTimestamp())}function li(r){return Ht(!!r,49232),vt.fromTimestamp(function(n){const s=Vr(n);return new Se(s.seconds,s.nanos)}(r))}function Pm(r,t){return tm(r,t).canonicalString()}function tm(r,t){const n=function(l){return new Jt(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function HT(r){const t=Jt.fromString(r);return Ht(KT(t),10190,{key:t.toString()}),t}function em(r,t){return Pm(r.databaseId,t.path)}function Vd(r,t){const n=HT(t);if(n.get(1)!==r.databaseId.projectId)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new lt(GT(n))}function jT(r,t){return Pm(r.databaseId,t)}function TI(r){const t=HT(r);return t.length===4?Jt.emptyPath():GT(t)}function nm(r){return new Jt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function GT(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Dv(r,t,n){return{name:em(r,t),fields:n.value.mapValue.fields}}function AI(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(_,T){return _.useProto3Json?(Ht(T===void 0||typeof T=="string",58123),qe.fromBase64String(T||"")):(Ht(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),qe.fromUint8Array(T||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&function(_){const T=_.code===void 0?X.UNKNOWN:LT(_.code);return new st(T,_.message||"")}(f);n=new BT(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Vd(r,s.document.name),c=li(s.document.updateTime),f=s.document.createTime?li(s.document.createTime):vt.min(),g=new rn({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(l,c,f,g),_=s.targetIds||[],T=s.removedTargetIds||[];n=new Dc(_,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Vd(r,s.document),c=s.readTime?li(s.readTime):vt.min(),f=Ke.newNoDocument(l,c),g=s.removedTargetIds||[];n=new Dc([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Vd(r,s.document),c=s.removedTargetIds||[];n=new Dc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,f=new fI(l,c),g=s.targetId;n=new zT(g,f)}}return n}function SI(r,t){let n;if(t instanceof zl)n={update:Dv(r,t.key,t.value)};else if(t instanceof Nm)n={delete:em(r,t.key)};else if(t instanceof Br)n={update:Dv(r,t.key,t.data),updateMask:VI(t.fieldMask)};else{if(!(t instanceof uI))return gt(16599,{ft:t.type});n={verify:em(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,f){const g=f.transform;if(g instanceof Gc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ol)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Nl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Fc)return{fieldPath:f.field.canonicalString(),increment:g.Re};throw gt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:EI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)}(r,t.precondition)),n}function bI(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map(n=>function(l,c){let f=l.updateTime?li(l.updateTime):li(c);return f.isEqual(vt.min())&&(f=li(c)),new aI(f,l.transformResults||[])}(n,t))):[]}function RI(r,t){return{documents:[jT(r,t.path)]}}function wI(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=jT(r,l);const c=function(_){if(_.length!==0)return QT(Bn.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(T=>function(w){return{field:Oa(w.field),direction:DI(w.dir)}}(T))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Jd(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{gt:n,parent:l}}function II(r){let t=TI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ht(s===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];n.where&&(c=function(R){const w=FT(R);return w instanceof Bn&&TT(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(R){return R.map(w=>function(Y){return new jc(Na(Y.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(w))}(n.orderBy));let g=null;n.limit&&(g=function(R){let w;return w=typeof R=="object"?R.value:R,ih(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(R){const w=!!R.before,H=R.values||[];return new Hc(H,w)}(n.startAt));let _=null;return n.endAt&&(_=function(R){const w=!R.before,H=R.values||[];return new Hc(H,w)}(n.endAt)),Kw(t,l,f,c,g,"F",p,_)}function CI(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function FT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Na(n.unaryFilter.field);return _e.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Na(n.unaryFilter.field);return _e.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Na(n.unaryFilter.field);return _e.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Na(n.unaryFilter.field);return _e.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}}(r):r.fieldFilter!==void 0?function(n){return _e.create(Na(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Bn.create(n.compositeFilter.filters.map(s=>FT(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}}(n.compositeFilter.op))}(r):gt(30097,{filter:r})}function DI(r){return pI[r]}function OI(r){return _I[r]}function NI(r){return yI[r]}function Oa(r){return{fieldPath:r.canonicalString()}}function Na(r){return Be.fromServerFormat(r.fieldPath)}function QT(r){return r instanceof _e?function(n){if(n.op==="=="){if(pv(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NAN"}};if(gv(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pv(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NOT_NAN"}};if(gv(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(n.field),op:OI(n.op),value:n.value}}}(r):r instanceof Bn?function(n){const s=n.getFilters().map(l=>QT(l));return s.length===1?s[0]:{compositeFilter:{op:NI(n.op),filters:s}}}(r):gt(54877,{filter:r})}function VI(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function KT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t,n,s,l,c=vt.min(),f=vt.min(),g=qe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new br(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(t){this.wt=t}}function PI(r){const t=II({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Wd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.Cn=new xI}addToCollectionParentIndex(t,n){return this.Cn.add(n),K.resolve()}getCollectionParents(t,n){return K.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return K.resolve()}deleteFieldIndex(t,n){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,n){return K.resolve()}getDocumentsMatchingTarget(t,n){return K.resolve(null)}getIndexType(t,n){return K.resolve(0)}getFieldIndexes(t,n){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,n){return K.resolve(Nr.min())}getMinOffsetFromCollectionGroup(t,n){return K.resolve(Nr.min())}updateCollectionGroup(t,n,s){return K.resolve()}updateIndexEntries(t,n){return K.resolve()}}class xI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new be(Jt.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new be(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YT=41943040;class nn{static withCacheSize(t){return new nn(t,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(YT,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Ha(0)}static lr(){return new Ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="LruGarbageCollector",UI=1048576;function Vv([r,t],[n,s]){const l=Rt(r,n);return l===0?Rt(t,s):l}class LI{constructor(t){this.Er=t,this.buffer=new be(Vv),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Vv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){it(Nv,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Za(n)?it(Nv,"Ignoring IndexedDB error during garbage collection: ",n):await $a(n)}await this.mr(3e5)})}}class BI{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return K.resolve(nh.le);const s=new LI(n);return this.gr.forEachTarget(t,l=>s.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>s.Rr(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Ov)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ov):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,l,c,f,g,p,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,f=Date.now(),this.nthSequenceNumber(t,l))).next(R=>(s=R,g=Date.now(),this.removeTargets(t,s,n))).next(R=>(c=R,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(R=>(_=Date.now(),Ca()<=Ot.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${R} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:R})))}}function qI(r,t){return new BI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.changes=new Ps(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?K.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&Al(s.mutation,l,pn.empty(),Se.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Nt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Nt()){const l=Rs();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let f=ml();return c.forEach((g,p)=>{f=f.insert(g,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Rs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Nt()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((f,g)=>{n.set(f,g)})})}computeViews(t,n,s,l){let c=Hi();const f=Tl(),g=function(){return Tl()}();return n.forEach((p,_)=>{const T=s.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof Br)?c=c.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),Al(T.mutation,_,T.mutation.getFieldMask(),Se.now())):f.set(_.key,pn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((_,T)=>f.set(_,T)),n.forEach((_,T)=>{var R;return g.set(_,new jI(T,(R=f.get(_))!==null&&R!==void 0?R:null))}),g))}recalculateAndSaveOverlays(t,n){const s=Tl();let l=new ie((f,g)=>f-g),c=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const g of f)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let T=s.get(p)||pn.empty();T=g.applyToLocalView(_,T),s.set(p,T);const R=(l.get(g.batchId)||Nt()).add(p);l=l.insert(g.batchId,R)})}).next(()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,R=OT();T.forEach(w=>{if(!c.has(w)){const H=xT(n.get(w),s.get(w));H!==null&&R.set(w,H),c=c.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(t,_,R))}return K.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(f){return lt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):RT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):K.resolve(Rs());let g=wl,p=c;return f.next(_=>K.forEach(_,(T,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),c.get(T)?K.resolve():this.remoteDocumentCache.getEntry(t,T).next(w=>{p=p.insert(T,w)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,p,_,Nt())).next(T=>({batchId:g,changes:DT(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new lt(n)).next(s=>{let l=ml();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let f=ml();return this.indexManager.getCollectionParents(t,c).next(g=>K.forEach(g,p=>{const _=function(R,w){return new Ll(w,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next(T=>{T.forEach((R,w)=>{f=f.insert(R,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(f=>{c.forEach((p,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,Ke.newInvalidDocument(T)))});let g=ml();return f.forEach((p,_)=>{const T=c.get(p);T!==void 0&&Al(T.mutation,_,pn.empty(),Se.now()),ah(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return K.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:li(l.createTime)}}(n)),K.resolve()}getNamedQuery(t,n){return K.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(l){return{name:l.name,query:PI(l.bundledQuery),readTime:li(l.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.overlays=new ie(lt.comparator),this.Qr=new Map}getOverlay(t,n){return K.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Rs();return K.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.St(t,n,c)}),K.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Qr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(s)),K.resolve()}getOverlaysForCollection(t,n,s){const l=Rs(),c=n.length+1,f=new lt(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return K.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new ie((_,T)=>_-T);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=c.get(_.largestBatchId);T===null&&(T=Rs(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=Rs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>g.set(_,T)),!(g.size()>=l)););return K.resolve(g)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.Qr.get(l.largestBatchId).delete(s.key);this.Qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new hI(n,s));let c=this.Qr.get(n);c===void 0&&(c=Nt(),this.Qr.set(n,c)),this.Qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(){this.$r=new be(Ve.Ur),this.Kr=new be(Ve.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new Ve(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new Ve(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new lt(new Jt([])),s=new Ve(n,t),l=new Ve(n,t+1),c=[];return this.Kr.forEachInRange([s,l],f=>{this.zr(f),c.push(f.key)}),c}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new lt(new Jt([])),s=new Ve(n,t),l=new Ve(n,t+1);let c=Nt();return this.Kr.forEachInRange([s,l],f=>{c=c.add(f.key)}),c}containsKey(t){const n=new Ve(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ve{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return lt.comparator(t.key,n.key)||Rt(t.Zr,n.Zr)}static Wr(t,n){return Rt(t.Zr,n.Zr)||lt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new be(Ve.Ur)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new cI(c,n,s,l);this.mutationQueue.push(f);for(const g of l)this.Xr=this.Xr.add(new Ve(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return K.resolve(f)}lookupMutationBatch(t,n){return K.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ti(s),c=l<0?0:l;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?bm:this.nr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ve(n,0),l=new Ve(n,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([s,l],f=>{const g=this.ei(f.Zr);c.push(g)}),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new be(Rt);return n.forEach(l=>{const c=new Ve(l,0),f=new Ve(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,f],g=>{s=s.add(g.Zr)})}),K.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;lt.isDocumentKey(c)||(c=c.child(""));const f=new Ve(new lt(c),0);let g=new be(Rt);return this.Xr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Zr)),!0)},f),K.resolve(this.ni(g))}ni(t){const n=[];return t.forEach(s=>{const l=this.ei(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Ht(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return K.forEach(n.mutations,l=>{const c=new Ve(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new Ve(n,0),l=this.Xr.firstAfterOrEqual(s);return K.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t){this.ii=t,this.docs=function(){return new ie(lt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return K.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(n))}getEntries(t,n){let s=Hi();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ke.newInvalidDocument(l))}),K.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=Hi();const f=n.path,g=new lt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||Rw(bw(T),s)<=0||(l.has(T.key)||ah(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(t,n,s,l){gt(9500)}si(t,n){return K.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new $I(this)}getSize(t){return K.resolve(this.size)}}class $I extends HI{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Br.addEntry(t,l)):this.Br.removeEntry(s)}),K.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(t){this.persistence=t,this.oi=new Ps(n=>Im(n),Cm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this._i=0,this.ai=new km,this.targetCount=0,this.ui=Ha.cr()}forEachTarget(t,n){return this.oi.forEach((s,l)=>n(l)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),K.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new Ha(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,K.resolve()}updateTargetData(t,n){return this.Tr(n),K.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.oi.forEach((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.oi.delete(f),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),K.waitFor(c).next(()=>l)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return K.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),K.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(f=>{c.push(l.markPotentiallyOrphaned(t,f))}),K.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),K.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return K.resolve(s)}containsKey(t,n){return K.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(t,n){this.ci={},this.overlays={},this.li=new nh(0),this.hi=!1,this.hi=!0,this.Pi=new KI,this.referenceDelegate=t(this),this.Ti=new ZI(this),this.indexManager=new kI,this.remoteDocumentCache=function(l){return new XI(l)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new MI(n),this.Ei=new FI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new QI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new YI(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){it("MemoryPersistence","Starting transaction:",t);const l=new WI(this.li.next());return this.referenceDelegate.di(),s(l).next(c=>this.referenceDelegate.Ai(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ri(t,n){return K.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class WI extends Iw{constructor(t){super(),this.currentSequenceNumber=t}}class xm{constructor(t){this.persistence=t,this.Vi=new km,this.mi=null}static fi(t){return new xm(t)}get gi(){if(this.mi)return this.mi;throw gt(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),K.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),K.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(l=>this.gi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.gi.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.gi,s=>{const l=lt.fromPath(s);return this.pi(t,l).next(c=>{c||n.removeEntry(l,vt.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return K.or([()=>K.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Kc{constructor(t,n){this.persistence=t,this.yi=new Ps(s=>Ow(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=qI(this,n)}static fi(t,n){return new Kc(t,n)}di(){}Ai(t){return K.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}br(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return K.forEach(this.yi,(s,l)=>this.Dr(t,s,l).next(c=>c?K.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.si(t,f=>this.Dr(t,f,n).next(g=>{g||(s++,c.removeEntry(f,vt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),K.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),K.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),K.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=wc(t.data.value)),n}Dr(t,n,s){return K.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.yi.get(n);return K.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.ds=s,this.As=l}static Rs(t,n){let s=Nt(),l=Nt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Um(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return MS()?8:Cw(Ye())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.ws(t,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.bs(t,n,l,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new JI;return this.Ss(t,n,f).next(g=>{if(c.result=g,this.fs)return this.Ds(t,n,f,g.size)})}).next(()=>c.result)}Ds(t,n,s,l){return s.documentReadCount<this.gs?(Ca()<=Ot.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Da(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),K.resolve()):(Ca()<=Ot.DEBUG&&it("QueryEngine","Query:",Da(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ps*l?(Ca()<=Ot.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Da(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,oi(n))):K.resolve())}ws(t,n){if(Ev(n))return K.resolve(null);let s=oi(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Wd(n,null,"F"),s=oi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const f=Nt(...c);return this.ys.getDocuments(t,f).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const _=this.vs(n,g);return this.Cs(n,_,f,p.readTime)?this.ws(t,Wd(n,null,"F")):this.Fs(t,_,n,p)}))})))}bs(t,n,s,l){return Ev(n)||l.isEqual(vt.min())?K.resolve(null):this.ys.getDocuments(t,s).next(c=>{const f=this.vs(n,c);return this.Cs(n,f,s,l)?K.resolve(null):(Ca()<=Ot.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Da(n)),this.Fs(t,f,n,Sw(l,wl)).next(g=>g))})}vs(t,n){let s=new be(IT(t));return n.forEach((l,c)=>{ah(t,c)&&(s=s.add(c))}),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,n,s){return Ca()<=Ot.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Da(n)),this.ys.getDocumentsMatchingQuery(t,n,Nr.min(),s)}Fs(t,n,s,l){return this.ys.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="LocalStore",eC=3e8;class nC{constructor(t,n,s,l){this.persistence=t,this.Ms=n,this.serializer=l,this.xs=new ie(Rt),this.Os=new Ps(c=>Im(c),Cm),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new GI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function iC(r,t,n,s){return new nC(r,t,n,s)}async function $T(r,t){const n=Tt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],g=[];let p=Nt();for(const _ of l){f.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of c){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(_=>({ks:_,removedBatchIds:f,addedBatchIds:g}))})})}function rC(r,t){const n=Tt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.Bs.newChangeBuffer({trackRemovals:!0});return function(g,p,_,T){const R=_.batch,w=R.keys();let H=K.resolve();return w.forEach(Y=>{H=H.next(()=>T.getEntry(p,Y)).next(tt=>{const Z=_.docVersions.get(Y);Ht(Z!==null,48541),tt.version.compareTo(Z)<0&&(R.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),T.addEntry(tt)))})}),H.next(()=>g.mutationQueue.removeMutationBatch(p,R))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Nt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function ZT(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function sC(r,t){const n=Tt(r),s=t.snapshotVersion;let l=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});l=n.xs;const g=[];t.targetChanges.forEach((T,R)=>{const w=l.get(R);if(!w)return;g.push(n.Ti.removeMatchingKeys(c,T.removedDocuments,R).next(()=>n.Ti.addMatchingKeys(c,T.addedDocuments,R)));let H=w.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(R)!==null?H=H.withResumeToken(qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,s)),l=l.insert(R,H),function(tt,Z,Et){return tt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=eC?!0:Et.addedDocuments.size+Et.modifiedDocuments.size+Et.removedDocuments.size>0}(w,H,T)&&g.push(n.Ti.updateTargetData(c,H))});let p=Hi(),_=Nt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),g.push(aC(c,f,t.documentUpdates).next(T=>{p=T.qs,_=T.Qs})),!s.isEqual(vt.min())){const T=n.Ti.getLastRemoteSnapshotVersion(c).next(R=>n.Ti.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(T)}return K.waitFor(g).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.xs=l,c))}function aC(r,t,n){let s=Nt(),l=Nt();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let f=Hi();return n.forEach((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(vt.min())?(t.removeEntry(g,p.readTime),f=f.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),f=f.insert(g,p)):it(Lm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{qs:f,Qs:l}})}function oC(r,t){const n=Tt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=bm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function lC(r,t){const n=Tt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Ti.getTargetData(s,t).next(c=>c?(l=c,K.resolve(l)):n.Ti.allocateTargetId(s).next(f=>(l=new br(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.xs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function im(r,t,n){const s=Tt(r),l=s.xs.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!Za(f))throw f;it(Lm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.xs=s.xs.remove(t),s.Os.delete(l.target)}function Mv(r,t,n){const s=Tt(r);let l=vt.min(),c=Nt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,_,T){const R=Tt(p),w=R.Os.get(T);return w!==void 0?K.resolve(R.xs.get(w)):R.Ti.getTargetData(_,T)}(s,f,oi(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,g.targetId).next(p=>{c=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,t,n?l:vt.min(),n?c:Nt())).next(g=>(uC(s,Xw(t),g),{documents:g,$s:c})))}function uC(r,t,n){let s=r.Ns.get(t)||vt.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Ns.set(t,s)}class Pv{constructor(){this.activeTargetIds=eI()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class cC{constructor(){this.xo=new Pv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new Pv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="ConnectivityMonitor";class xv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){it(kv,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){it(kv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc=null;function rm(){return vc===null?vc=function(){return 268435456+Math.round(2147483648*Math.random())}():vc++,"0x"+vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="RestConnection",fC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dC{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${l}`,this.Go=this.databaseId.database===Bc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}zo(t,n,s,l,c){const f=rm(),g=this.jo(t,n.toUriEncodedString());it(Md,`Sending RPC '${t}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,l,c);const{host:_}=new URL(g),T=Qa(_);return this.Jo(t,g,p,s,T).then(R=>(it(Md,`Received RPC '${t}' ${f}: `,R),R),R=>{throw La(Md,`RPC '${t}' ${f} failed with error: `,R,"url: ",g,"request:",s),R})}Yo(t,n,s,l,c,f){return this.zo(t,n,s,l,c)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}jo(t,n){const s=fC[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class gC extends dC{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,c){const f=rm();return new Promise((g,p)=>{const _=new tT;_.setWithCredentials(!0),_.listenOnce(eT.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Rc.NO_ERROR:const R=_.getResponseJson();it(Fe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(R)),g(R);break;case Rc.TIMEOUT:it(Fe,`RPC '${t}' ${f} timed out`),p(new st(X.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const w=_.getStatus();if(it(Fe,`RPC '${t}' ${f} failed with status:`,w,"response text:",_.getResponseText()),w>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const Y=H?.error;if(Y&&Y.status&&Y.message){const tt=function(Et){const ft=Et.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ft)>=0?ft:X.UNKNOWN}(Y.status);p(new st(tt,Y.message))}else p(new st(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new st(X.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{h_:t,streamId:f,P_:_.getLastErrorCode(),T_:_.getLastError()})}}finally{it(Fe,`RPC '${t}' ${f} completed.`)}});const T=JSON.stringify(l);it(Fe,`RPC '${t}' ${f} sending request:`,l),_.send(n,"POST",T,s,15)})}I_(t,n,s){const l=rm(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=rT(),g=iT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=c.join("");it(Fe,`Creating RPC '${t}' stream ${l}: ${T}`,p);const R=f.createWebChannel(T,p);this.E_(R);let w=!1,H=!1;const Y=new mC({Zo:Z=>{H?it(Fe,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(w||(it(Fe,`Opening RPC '${t}' stream ${l} transport.`),R.open(),w=!0),it(Fe,`RPC '${t}' stream ${l} sending:`,Z),R.send(Z))},Xo:()=>R.close()}),tt=(Z,Et,ft)=>{Z.listen(Et,ut=>{try{ft(ut)}catch(Vt){setTimeout(()=>{throw Vt},0)}})};return tt(R,dl.EventType.OPEN,()=>{H||(it(Fe,`RPC '${t}' stream ${l} transport opened.`),Y.__())}),tt(R,dl.EventType.CLOSE,()=>{H||(H=!0,it(Fe,`RPC '${t}' stream ${l} transport closed`),Y.u_(),this.d_(R))}),tt(R,dl.EventType.ERROR,Z=>{H||(H=!0,La(Fe,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),Y.u_(new st(X.UNAVAILABLE,"The operation could not be completed")))}),tt(R,dl.EventType.MESSAGE,Z=>{var Et;if(!H){const ft=Z.data[0];Ht(!!ft,16349);const ut=ft,Vt=ut?.error||((Et=ut[0])===null||Et===void 0?void 0:Et.error);if(Vt){it(Fe,`RPC '${t}' stream ${l} received error:`,Vt);const yt=Vt.status;let Mt=function(I){const N=pe[I];if(N!==void 0)return LT(N)}(yt),V=Vt.message;Mt===void 0&&(Mt=X.INTERNAL,V="Unknown error status: "+yt+" with message "+Vt.message),H=!0,Y.u_(new st(Mt,V)),R.close()}else it(Fe,`RPC '${t}' stream ${l} received:`,ft),Y.c_(ft)}}),tt(g,nT.STAT_EVENT,Z=>{Z.stat===Fd.PROXY?it(Fe,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Fd.NOPROXY&&it(Fe,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Y.a_()},0),Y}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function Pd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(r){return new vI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(t,n,s=1e3,l=1.5,c=6e4){this.xi=t,this.timerId=n,this.A_=s,this.R_=l,this.V_=c,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),l=Math.max(0,n-s);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="PersistentStream";class JT{constructor(t,n,s,l,c,f,g,p){this.xi=t,this.S_=s,this.D_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new WT(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(qi(n.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.v_===n&&this.z_(s,l)},s=>{t(()=>{const l=new st(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(l)})})}z_(t,n){const s=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{s(()=>this.j_(l))}),this.stream.onMessage(l=>{s(()=>++this.M_==1?this.J_(l):this.onNext(l))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return it(Uv,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(it(Uv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pC extends JT{constructor(t,n,s,l,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=AI(this.serializer,t),s=function(c){if(!("targetChange"in c))return vt.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?vt.min():f.readTime?li(f.readTime):vt.min()}(t);return this.listener.Y_(n,s)}Z_(t){const n={};n.database=nm(this.serializer),n.addTarget=function(c,f){let g;const p=f.target;if(g=$d(p)?{documents:RI(c,p)}:{query:wI(c,p).gt},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=qT(c,f.resumeToken);const _=Jd(c,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(vt.min())>0){g.readTime=Qc(c,f.snapshotVersion.toTimestamp());const _=Jd(c,f.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,t);const s=CI(this.serializer,t);s&&(n.labels=s),this.Q_(n)}X_(t){const n={};n.database=nm(this.serializer),n.removeTarget=t,this.Q_(n)}}class _C extends JT{constructor(t,n,s,l,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=bI(t.writeResults,t.commitTime),s=li(t.commitTime);return this.listener.ra(s,n)}ia(){const t={};t.database=nm(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>SI(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{}class vC extends yC{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.sa=!1}oa(){if(this.sa)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.zo(t,tm(n,s),l,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st(X.UNKNOWN,c.toString())})}Yo(t,n,s,l,c){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Yo(t,tm(n,s),l,f,g,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new st(X.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class EC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(qi(n),this.ua=!1):it("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="RemoteStore";class TC{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=c,this.Ra.No(f=>{s.enqueueAndForget(async()=>{ks(this)&&(it(Vs,"Restarting streams for network reachability change."),await async function(p){const _=Tt(p);_.da.add(4),await ql(_),_.Va.set("Unknown"),_.da.delete(4),await hh(_)}(this))})}),this.Va=new EC(s,l)}}async function hh(r){if(ks(r))for(const t of r.Aa)await t(!0)}async function ql(r){for(const t of r.Aa)await t(!1)}function t0(r,t){const n=Tt(r);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Hm(n)?qm(n):Wa(n).N_()&&Bm(n,t))}function zm(r,t){const n=Tt(r),s=Wa(n);n.Ea.delete(t),s.N_()&&e0(n,t),n.Ea.size===0&&(s.N_()?s.k_():ks(n)&&n.Va.set("Unknown"))}function Bm(r,t){if(r.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Wa(r).Z_(t)}function e0(r,t){r.ma.Ke(t),Wa(r).X_(t)}function qm(r){r.ma=new gI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Ea.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),Wa(r).start(),r.Va.ca()}function Hm(r){return ks(r)&&!Wa(r).O_()&&r.Ea.size>0}function ks(r){return Tt(r).da.size===0}function n0(r){r.ma=void 0}async function AC(r){r.Va.set("Online")}async function SC(r){r.Ea.forEach((t,n)=>{Bm(r,t)})}async function bC(r,t){n0(r),Hm(r)?(r.Va.Pa(t),qm(r)):r.Va.set("Unknown")}async function RC(r,t,n){if(r.Va.set("Online"),t instanceof BT&&t.state===2&&t.cause)try{await async function(l,c){const f=c.cause;for(const g of c.targetIds)l.Ea.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ea.delete(g),l.ma.removeTarget(g))}(r,t)}catch(s){it(Vs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Yc(r,s)}else if(t instanceof Dc?r.ma.Xe(t):t instanceof zT?r.ma.ot(t):r.ma.nt(t),!n.isEqual(vt.min()))try{const s=await ZT(r.localStore);n.compareTo(s)>=0&&await function(c,f){const g=c.ma.It(f);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.Ea.get(_);T&&c.Ea.set(_,T.withResumeToken(p.resumeToken,f))}}),g.targetMismatches.forEach((p,_)=>{const T=c.Ea.get(p);if(!T)return;c.Ea.set(p,T.withResumeToken(qe.EMPTY_BYTE_STRING,T.snapshotVersion)),e0(c,p);const R=new br(T.target,p,_,T.sequenceNumber);Bm(c,R)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){it(Vs,"Failed to raise snapshot:",s),await Yc(r,s)}}async function Yc(r,t,n){if(!Za(t))throw t;r.da.add(1),await ql(r),r.Va.set("Offline"),n||(n=()=>ZT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{it(Vs,"Retrying IndexedDB access"),await n(),r.da.delete(1),await hh(r)})}function i0(r,t){return t().catch(n=>Yc(r,n,t))}async function fh(r){const t=Tt(r),n=kr(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:bm;for(;wC(t);)try{const l=await oC(t.localStore,s);if(l===null){t.Ia.length===0&&n.k_();break}s=l.batchId,IC(t,l)}catch(l){await Yc(t,l)}r0(t)&&s0(t)}function wC(r){return ks(r)&&r.Ia.length<10}function IC(r,t){r.Ia.push(t);const n=kr(r);n.N_()&&n.ea&&n.ta(t.mutations)}function r0(r){return ks(r)&&!kr(r).O_()&&r.Ia.length>0}function s0(r){kr(r).start()}async function CC(r){kr(r).ia()}async function DC(r){const t=kr(r);for(const n of r.Ia)t.ta(n.mutations)}async function OC(r,t,n){const s=r.Ia.shift(),l=Vm.from(s,t,n);await i0(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await fh(r)}async function NC(r,t){t&&kr(r).ea&&await async function(s,l){if(function(f){return dI(f)&&f!==X.ABORTED}(l.code)){const c=s.Ia.shift();kr(s).L_(),await i0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await fh(s)}}(r,t),r0(r)&&s0(r)}async function Lv(r,t){const n=Tt(r);n.asyncQueue.verifyOperationInProgress(),it(Vs,"RemoteStore received new credentials");const s=ks(n);n.da.add(3),await ql(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await hh(n)}async function VC(r,t){const n=Tt(r);t?(n.da.delete(2),await hh(n)):t||(n.da.add(2),await ql(n),n.Va.set("Unknown"))}function Wa(r){return r.fa||(r.fa=function(n,s,l){const c=Tt(n);return c.oa(),new pC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:AC.bind(null,r),n_:SC.bind(null,r),i_:bC.bind(null,r),Y_:RC.bind(null,r)}),r.Aa.push(async t=>{t?(r.fa.L_(),Hm(r)?qm(r):r.Va.set("Unknown")):(await r.fa.stop(),n0(r))})),r.fa}function kr(r){return r.ga||(r.ga=function(n,s,l){const c=Tt(n);return c.oa(),new _C(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:CC.bind(null,r),i_:NC.bind(null,r),na:DC.bind(null,r),ra:OC.bind(null,r)}),r.Aa.push(async t=>{t?(r.ga.L_(),await fh(r)):(await r.ga.stop(),r.Ia.length>0&&(it(Vs,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const f=Date.now()+s,g=new jm(t,n,f,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gm(r,t){if(qi("AsyncQueue",`${t}: ${r}`),Za(r))return new st(X.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{static emptySet(t){return new xa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||lt.comparator(n.key,s.key):(n,s)=>lt.comparator(n.key,s.key),this.keyedMap=ml(),this.sortedSet=new ie(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof xa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new xa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(){this.pa=new ie(lt.comparator)}track(t){const n=t.doc.key,s=this.pa.get(n);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(n,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(n):t.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):gt(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,s)=>{t.push(s)}),t}}class ja{constructor(t,n,s,l,c,f,g,p,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,c){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new ja(t,n,xa.emptySet(n),f,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class PC{constructor(){this.queries=Bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Tt(n),c=l.queries;l.queries=Bv(),c.forEach((f,g)=>{for(const p of g.Sa)p.onError(s)})})(this,new st(X.ABORTED,"Firestore shutting down"))}}function Bv(){return new Ps(r=>wT(r),sh)}async function kC(r,t){const n=Tt(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.Da()&&t.va()&&(s=2):(c=new MC,s=t.va()?0:1);try{switch(s){case 0:c.ba=await n.onListen(l,!0);break;case 1:c.ba=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=Gm(f,`Initialization of query '${Da(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.Sa.push(t),t.Fa(n.onlineState),c.ba&&t.Ma(c.ba)&&Fm(n)}async function xC(r,t){const n=Tt(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const f=c.Sa.indexOf(t);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?l=t.va()?0:1:!c.Da()&&t.va()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function UC(r,t){const n=Tt(r);let s=!1;for(const l of t){const c=l.query,f=n.queries.get(c);if(f){for(const g of f.Sa)g.Ma(l)&&(s=!0);f.ba=l}}s&&Fm(n)}function LC(r,t,n){const s=Tt(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(n);s.queries.delete(t)}function Fm(r){r.Ca.forEach(t=>{t.next()})}var sm,qv;(qv=sm||(sm={})).xa="default",qv.Cache="cache";class zC{constructor(t,n,s){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new ja(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=ja.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(t){this.key=t}}class o0{constructor(t){this.key=t}}class BC{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Nt(),this.mutatedKeys=Nt(),this.Za=IT(t),this.Xa=new xa(this.Za)}get eu(){return this.Ha}tu(t,n){const s=n?n.nu:new zv,l=n?n.Xa:this.Xa;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((T,R)=>{const w=l.get(T),H=ah(this.query,R)?R:null,Y=!!w&&this.mutatedKeys.has(w.key),tt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Z=!1;w&&H?w.data.isEqual(H.data)?Y!==tt&&(s.track({type:3,doc:H}),Z=!0):this.ru(w,H)||(s.track({type:2,doc:H}),Z=!0,(p&&this.Za(H,p)>0||_&&this.Za(H,_)<0)&&(g=!0)):!w&&H?(s.track({type:0,doc:H}),Z=!0):w&&!H&&(s.track({type:1,doc:w}),Z=!0,(p||_)&&(g=!0)),Z&&(H?(f=f.add(H),c=tt?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{Xa:f,nu:s,Cs:g,mutatedKeys:c}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const f=t.nu.wa();f.sort((T,R)=>function(H,Y){const tt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:Z})}};return tt(H)-tt(Y)}(T.type,R.type)||this.Za(T.doc,R.doc)),this.iu(s),l=l!=null&&l;const g=n&&!l?this.su():[],p=this.Ya.size===0&&this.current&&!l?1:0,_=p!==this.Ja;return this.Ja=p,f.length!==0||_?{snapshot:new ja(this.query,t.Xa,c,f,t.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new zv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Nt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return t.forEach(s=>{this.Ya.has(s)||n.push(new o0(s))}),this.Ya.forEach(s=>{t.has(s)||n.push(new a0(s))}),n}au(t){this.Ha=t.$s,this.Ya=Nt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return ja.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Qm="SyncEngine";class qC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class HC{constructor(t){this.key=t,this.cu=!1}}class jC{constructor(t,n,s,l,c,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new Ps(g=>wT(g),sh),this.Pu=new Map,this.Tu=new Set,this.Iu=new ie(lt.comparator),this.Eu=new Map,this.du=new km,this.Au={},this.Ru=new Map,this.Vu=Ha.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function GC(r,t,n=!0){const s=d0(r);let l;const c=s.hu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.uu()):l=await l0(s,t,n,!0),l}async function FC(r,t){const n=d0(r);await l0(n,t,!0,!1)}async function l0(r,t,n,s){const l=await lC(r.localStore,oi(t)),c=l.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await QC(r,t,c,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&t0(r.remoteStore,l),g}async function QC(r,t,n,s,l){r.fu=(R,w,H)=>async function(tt,Z,Et,ft){let ut=Z.view.tu(Et);ut.Cs&&(ut=await Mv(tt.localStore,Z.query,!1).then(({documents:V})=>Z.view.tu(V,ut)));const Vt=ft&&ft.targetChanges.get(Z.targetId),yt=ft&&ft.targetMismatches.get(Z.targetId)!=null,Mt=Z.view.applyChanges(ut,tt.isPrimaryClient,Vt,yt);return jv(tt,Z.targetId,Mt.ou),Mt.snapshot}(r,R,w,H);const c=await Mv(r.localStore,t,!0),f=new BC(t,c.$s),g=f.tu(c.documents),p=Bl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=f.applyChanges(g,r.isPrimaryClient,p);jv(r,n,_.ou);const T=new qC(t,n,f);return r.hu.set(t,T),r.Pu.has(n)?r.Pu.get(n).push(t):r.Pu.set(n,[t]),_.snapshot}async function KC(r,t,n){const s=Tt(r),l=s.hu.get(t),c=s.Pu.get(l.targetId);if(c.length>1)return s.Pu.set(l.targetId,c.filter(f=>!sh(f,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await im(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&zm(s.remoteStore,l.targetId),am(s,l.targetId)}).catch($a)):(am(s,l.targetId),await im(s.localStore,l.targetId,!0))}async function YC(r,t){const n=Tt(r),s=n.hu.get(t),l=n.Pu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),zm(n.remoteStore,s.targetId))}async function XC(r,t,n){const s=n2(r);try{const l=await function(f,g){const p=Tt(f),_=Se.now(),T=g.reduce((H,Y)=>H.add(Y.key),Nt());let R,w;return p.persistence.runTransaction("Locally write mutations","readwrite",H=>{let Y=Hi(),tt=Nt();return p.Bs.getEntries(H,T).next(Z=>{Y=Z,Y.forEach((Et,ft)=>{ft.isValidDocument()||(tt=tt.add(Et))})}).next(()=>p.localDocuments.getOverlayedDocuments(H,Y)).next(Z=>{R=Z;const Et=[];for(const ft of g){const ut=lI(ft,R.get(ft.key).overlayedDocument);ut!=null&&Et.push(new Br(ft.key,ut,yT(ut.value.mapValue),Ln.exists(!0)))}return p.mutationQueue.addMutationBatch(H,_,Et,g)}).next(Z=>{w=Z;const Et=Z.applyToLocalDocumentSet(R,tt);return p.documentOverlayCache.saveOverlays(H,Z.batchId,Et)})}).then(()=>({batchId:w.batchId,changes:DT(R)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(f,g,p){let _=f.Au[f.currentUser.toKey()];_||(_=new ie(Rt)),_=_.insert(g,p),f.Au[f.currentUser.toKey()]=_}(s,l.batchId,n),await Hl(s,l.changes),await fh(s.remoteStore)}catch(l){const c=Gm(l,"Failed to persist write");n.reject(c)}}async function u0(r,t){const n=Tt(r);try{const s=await sC(n.localStore,t);t.targetChanges.forEach((l,c)=>{const f=n.Eu.get(c);f&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.cu=!0:l.modifiedDocuments.size>0?Ht(f.cu,14607):l.removedDocuments.size>0&&(Ht(f.cu,42227),f.cu=!1))}),await Hl(n,s,t)}catch(s){await $a(s)}}function Hv(r,t,n){const s=Tt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.hu.forEach((c,f)=>{const g=f.view.Fa(t);g.snapshot&&l.push(g.snapshot)}),function(f,g){const p=Tt(f);p.onlineState=g;let _=!1;p.queries.forEach((T,R)=>{for(const w of R.Sa)w.Fa(g)&&(_=!0)}),_&&Fm(p)}(s.eventManager,t),l.length&&s.lu.Y_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function $C(r,t,n){const s=Tt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Eu.get(t),c=l&&l.key;if(c){let f=new ie(lt.comparator);f=f.insert(c,Ke.newNoDocument(c,vt.min()));const g=Nt().add(c),p=new uh(vt.min(),new Map,new ie(Rt),f,g);await u0(s,p),s.Iu=s.Iu.remove(c),s.Eu.delete(t),Km(s)}else await im(s.localStore,t,!1).then(()=>am(s,t,n)).catch($a)}async function ZC(r,t){const n=Tt(r),s=t.batch.batchId;try{const l=await rC(n.localStore,t);h0(n,s,null),c0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Hl(n,l)}catch(l){await $a(l)}}async function WC(r,t,n){const s=Tt(r);try{const l=await function(f,g){const p=Tt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next(R=>(Ht(R!==null,37113),T=R.keys(),p.mutationQueue.removeMutationBatch(_,R))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>p.localDocuments.getDocuments(_,T))})}(s.localStore,t);h0(s,t,n),c0(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Hl(s,l)}catch(l){await $a(l)}}function c0(r,t){(r.Ru.get(t)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(t)}function h0(r,t,n){const s=Tt(r);let l=s.Au[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Au[s.currentUser.toKey()]=l}}function am(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Pu.get(t))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(t),r.isPrimaryClient&&r.du.Hr(t).forEach(s=>{r.du.containsKey(s)||f0(r,s)})}function f0(r,t){r.Tu.delete(t.path.canonicalString());const n=r.Iu.get(t);n!==null&&(zm(r.remoteStore,n),r.Iu=r.Iu.remove(t),r.Eu.delete(n),Km(r))}function jv(r,t,n){for(const s of n)s instanceof a0?(r.du.addReference(s.key,t),JC(r,s)):s instanceof o0?(it(Qm,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,t),r.du.containsKey(s.key)||f0(r,s.key)):gt(19791,{pu:s})}function JC(r,t){const n=t.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(it(Qm,"New document in limbo: "+n),r.Tu.add(s),Km(r))}function Km(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const t=r.Tu.values().next().value;r.Tu.delete(t);const n=new lt(Jt.fromString(t)),s=r.Vu.next();r.Eu.set(s,new HC(n)),r.Iu=r.Iu.insert(n,s),t0(r.remoteStore,new br(oi(Dm(n.path)),s,"TargetPurposeLimboResolution",nh.le))}}async function Hl(r,t,n){const s=Tt(r),l=[],c=[],f=[];s.hu.isEmpty()||(s.hu.forEach((g,p)=>{f.push(s.fu(p,t,n).then(_=>{var T;if((_||n)&&s.isPrimaryClient){const R=_?!_.fromCache:(T=n?.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,R?"current":"not-current")}if(_){l.push(_);const R=Um.Rs(p.targetId,_);c.push(R)}}))}),await Promise.all(f),s.lu.Y_(l),await async function(p,_){const T=Tt(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>K.forEach(_,w=>K.forEach(w.ds,H=>T.persistence.referenceDelegate.addReference(R,w.targetId,H)).next(()=>K.forEach(w.As,H=>T.persistence.referenceDelegate.removeReference(R,w.targetId,H)))))}catch(R){if(!Za(R))throw R;it(Lm,"Failed to update sequence numbers: "+R)}for(const R of _){const w=R.targetId;if(!R.fromCache){const H=T.xs.get(w),Y=H.snapshotVersion,tt=H.withLastLimboFreeSnapshotVersion(Y);T.xs=T.xs.insert(w,tt)}}}(s.localStore,c))}async function t2(r,t){const n=Tt(r);if(!n.currentUser.isEqual(t)){it(Qm,"User change. New user:",t.toKey());const s=await $T(n.localStore,t);n.currentUser=t,function(c,f){c.Ru.forEach(g=>{g.forEach(p=>{p.reject(new st(X.CANCELLED,f))})}),c.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Hl(n,s.ks)}}function e2(r,t){const n=Tt(r),s=n.Eu.get(t);if(s&&s.cu)return Nt().add(s.key);{let l=Nt();const c=n.Pu.get(t);if(!c)return l;for(const f of c){const g=n.hu.get(f);l=l.unionWith(g.view.eu)}return l}}function d0(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=u0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=e2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$C.bind(null,t),t.lu.Y_=UC.bind(null,t.eventManager),t.lu.gu=LC.bind(null,t.eventManager),t}function n2(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ZC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=WC.bind(null,t),t}class Xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ch(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return iC(this.persistence,new tC,t.initialUser,this.serializer)}Su(t){return new XT(xm.fi,this.serializer)}bu(t){return new cC}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xc.provider={build:()=>new Xc};class i2 extends Xc{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){Ht(this.persistence.referenceDelegate instanceof Kc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new zI(s,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new XT(s=>Kc.fi(s,n),this.serializer)}}class om{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Hv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=t2.bind(null,this.syncEngine),await VC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new PC}()}createDatastore(t){const n=ch(t.databaseInfo.databaseId),s=function(c){return new gC(c)}(t.databaseInfo);return function(c,f,g,p){return new vC(c,f,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,f,g){return new TC(s,l,c,f,g)}(this.localStore,this.datastore,t.asyncQueue,n=>Hv(this.syncEngine,n,0),function(){return xv.C()?new xv:new hC}())}createSyncEngine(t,n){return function(l,c,f,g,p,_,T){const R=new jC(l,c,f,g,p,_);return T&&(R.mu=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=Tt(l);it(Vs,"RemoteStore shutting down."),c.da.add(5),await ql(c),c.Ra.shutdown(),c.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}om.provider={build:()=>new om};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):qi("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="FirestoreClient";class s2{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Qe.UNAUTHENTICATED,this.clientId=lT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{it(xr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(it(xr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Gm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function kd(r,t){r.asyncQueue.verifyOperationInProgress(),it(xr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await $T(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function Gv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await a2(r);it(xr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Lv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>Lv(t.remoteStore,l)),r._onlineComponents=t}async function a2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(xr,"Using user provided OfflineComponentProvider");try{await kd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;La("Error using user provided cache. Falling back to memory cache: "+n),await kd(r,new Xc)}}else it(xr,"Using default OfflineComponentProvider"),await kd(r,new i2(void 0));return r._offlineComponents}async function m0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(xr,"Using user provided OnlineComponentProvider"),await Gv(r,r._uninitializedComponentsProvider._online)):(it(xr,"Using default OnlineComponentProvider"),await Gv(r,new om))),r._onlineComponents}function o2(r){return m0(r).then(t=>t.syncEngine)}async function Fv(r){const t=await m0(r),n=t.eventManager;return n.onListen=GC.bind(null,t.syncEngine),n.onUnlisten=KC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=FC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=YC.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(r,t,n){if(!n)throw new st(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function l2(r,t,n,s){if(t===!0&&s===!0)throw new st(X.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Kv(r){if(!lt.isDocumentKey(r))throw new st(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Yv(r){if(lt.isDocumentKey(r))throw new st(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function dh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function Dr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new st(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dh(r);throw new st(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="firestore.googleapis.com",Xv=!0;class $v{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new st(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_0,this.ssl=Xv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Xv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=YT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<UI)throw new st(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}l2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g0((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $v({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $v(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new mw;switch(s.type){case"firstParty":return new yw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new st(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Qv.get(n);s&&(it("ComponentProvider","Removing Datastore"),Qv.delete(n),s.terminate())}(this),Promise.resolve()}}function u2(r,t,n,s={}){var l;r=Dr(r,mh);const c=Qa(t),f=r._getSettings(),g=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;c&&(hE(`https://${p}`),fE("Firestore",!0)),f.host!==_0&&f.host!==p&&La("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},f),{host:p,ssl:c,emulatorOptions:s});if(!Is(_,g)&&(r._setSettings(_),s.mockUserToken)){let T,R;if(typeof s.mockUserToken=="string")T=s.mockUserToken,R=Qe.MOCK_USER;else{T=bS(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new st(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Qe(w)}r._authCredentials=new gw(new aT(T,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ja(this.firestore,t,this._query)}}class sn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new sn(this.firestore,t,this._key)}}class Or extends Ja{constructor(t,n,s){super(t,n,Dm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new sn(this.firestore,null,new lt(t))}withConverter(t){return new Or(this.firestore,t,this._path)}}function Zv(r,t,...n){if(r=Re(r),p0("collection","path",t),r instanceof mh){const s=Jt.fromString(t,...n);return Yv(s),new Or(r,null,s)}{if(!(r instanceof sn||r instanceof Or))throw new st(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...n));return Yv(s),new Or(r.firestore,null,s)}}function lm(r,t,...n){if(r=Re(r),arguments.length===1&&(t=lT.newId()),p0("doc","path",t),r instanceof mh){const s=Jt.fromString(t,...n);return Kv(s),new sn(r,null,new lt(s))}{if(!(r instanceof sn||r instanceof Or))throw new st(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...n));return Kv(s),new sn(r.firestore,r instanceof Or?r.converter:null,new lt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="AsyncQueue";class Jv{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new WT(this,"async_queue_retry"),this.rc=()=>{const s=Pd();s&&it(Wv,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const n=Pd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=Pd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new ws;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Za(t))throw t;it(Wv,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,qi("INTERNAL UNHANDLED ERROR: ",tE(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(t,n,s){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const l=jm.createAndSchedule(this,t,n,s,c=>this.uc(c));return this.Zu.push(l),l}oc(){this.Xu&&gt(47125,{cc:tE(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function tE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Ga extends mh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new Jv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Jv(t),this._firestoreClient=void 0,await t}}}function c2(r,t){const n=typeof r=="object"?r:pE(),s=typeof r=="string"?r:Bc,l=dm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=AS("firestore");c&&u2(l,...c)}return l}function y0(r){if(r._terminated)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||h2(r),r._firestoreClient}function h2(r){var t,n,s;const l=r._freezeSettings(),c=function(g,p,_,T){return new Mw(g,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,g0(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new s2(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g?._online.build();return{_offline:g?._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fa(qe.fromBase64String(t))}catch(n){throw new st(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Fa(qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new st(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new st(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new st(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=/^__.*__$/;class d2{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Br(t,this.data,this.fieldMask,n,this.fieldTransforms):new zl(t,this.data,n,this.fieldTransforms)}}class v0{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Br(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function E0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ic:r})}}class Zm{constructor(t,n,s,l,c,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Ec(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Zm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.dc({path:s,Rc:!1});return l.Vc(t),l}mc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.dc({path:s,Rc:!1});return l.Ec(),l}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return $c(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(E0(this.Ic)&&f2.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class m2{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||ch(t)}bc(t,n,s,l=!1){return new Zm({Ic:t,methodName:n,wc:s,path:Be.emptyPath(),Rc:!1,yc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wm(r){const t=r._freezeSettings(),n=ch(r._databaseId);return new m2(r._databaseId,!!t.ignoreUndefinedProperties,n)}function g2(r,t,n,s,l,c={}){const f=r.bc(c.merge||c.mergeFields?2:0,t,n,l);Jm("Data must be an object, but it was:",f,s);const g=T0(s,f);let p,_;if(c.merge)p=new pn(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const R of c.mergeFields){const w=um(t,R,n);if(!f.contains(w))throw new st(X.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);S0(T,w)||T.push(w)}p=new pn(T),_=f.fieldTransforms.filter(R=>p.covers(R.field))}else p=null,_=f.fieldTransforms;return new d2(new rn(g),p,_)}class ph extends Ym{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ph}}function p2(r,t,n,s){const l=r.bc(1,t,n);Jm("Data must be an object, but it was:",l,s);const c=[],f=rn.empty();zr(s,(p,_)=>{const T=tg(t,p,n);_=Re(_);const R=l.mc(T);if(_ instanceof ph)c.push(T);else{const w=jl(_,R);w!=null&&(c.push(T),f.set(T,w))}});const g=new pn(c);return new v0(f,g,l.fieldTransforms)}function _2(r,t,n,s,l,c){const f=r.bc(1,t,n),g=[um(t,s,n)],p=[l];if(c.length%2!=0)throw new st(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)g.push(um(t,c[w])),p.push(c[w+1]);const _=[],T=rn.empty();for(let w=g.length-1;w>=0;--w)if(!S0(_,g[w])){const H=g[w];let Y=p[w];Y=Re(Y);const tt=f.mc(H);if(Y instanceof ph)_.push(H);else{const Z=jl(Y,tt);Z!=null&&(_.push(H),T.set(H,Z))}}const R=new pn(_);return new v0(T,R,f.fieldTransforms)}function y2(r,t,n,s=!1){return jl(n,r.bc(s?4:3,t))}function jl(r,t){if(A0(r=Re(r)))return Jm("Unsupported field value:",t,r),T0(r,t);if(r instanceof Ym)return function(s,l){if(!E0(l.Ic))throw l.gc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.gc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,l){const c=[];let f=0;for(const g of s){let p=jl(g,l.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=Re(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return nI(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Se.fromDate(s);return{timestampValue:Qc(l.serializer,c)}}if(s instanceof Se){const c=new Se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qc(l.serializer,c)}}if(s instanceof Xm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fa)return{bytesValue:qT(l.serializer,s._byteString)};if(s instanceof sn){const c=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw l.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Pm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof $m)return function(f,g){return{mapValue:{fields:{[pT]:{stringValue:_T},[qc]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw g.gc("VectorValues must only contain numeric values.");return Om(g.serializer,_)})}}}}}}(s,l);throw l.gc(`Unsupported field value: ${dh(s)}`)}(r,t)}function T0(r,t){const n={};return cT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zr(r,(s,l)=>{const c=jl(l,t.Ac(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function A0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Se||r instanceof Xm||r instanceof Fa||r instanceof sn||r instanceof Ym||r instanceof $m)}function Jm(r,t,n){if(!A0(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=dh(n);throw s==="an object"?t.gc(r+" a custom object"):t.gc(r+" "+s)}}function um(r,t,n){if((t=Re(t))instanceof gh)return t._internalPath;if(typeof t=="string")return tg(r,t);throw $c("Field path arguments must be of type string or ",r,!1,void 0,n)}const v2=new RegExp("[~\\*/\\[\\]]");function tg(r,t,n){if(t.search(v2)>=0)throw $c(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new gh(...t.split("."))._internalPath}catch{throw $c(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function $c(r,t,n,s,l){const c=s&&!s.isEmpty(),f=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new st(X.INVALID_ARGUMENT,g+r+p)}function S0(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new E2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(eg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class E2 extends b0{data(){return super.data()}}function eg(r,t){return typeof t=="string"?tg(r,t):t instanceof gh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new st(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ng{}class A2 extends ng{}function S2(r,t,...n){let s=[];t instanceof ng&&s.push(t),s=s.concat(n),function(c){const f=c.filter(p=>p instanceof ig).length,g=c.filter(p=>p instanceof _h).length;if(f>1||f>0&&g>0)throw new st(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class _h extends A2{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new _h(t,n,s)}_apply(t){const n=this._parse(t);return R0(t._query,n),new Ja(t.firestore,t.converter,Zd(t._query,n))}_parse(t){const n=Wm(t.firestore);return function(c,f,g,p,_,T,R){let w;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new st(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){iE(R,T);const Y=[];for(const tt of R)Y.push(nE(p,c,tt));w={arrayValue:{values:Y}}}else w=nE(p,c,R)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||iE(R,T),w=y2(g,f,R,T==="in"||T==="not-in");return _e.create(_,T,w)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function b2(r,t,n){const s=t,l=eg("where",r);return _h._create(l,s,n)}class ig extends ng{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new ig(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Bn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,c){let f=l;const g=c.getFlattenedFilters();for(const p of g)R0(f,p),f=Zd(f,p)}(t._query,n),new Ja(t.firestore,t.converter,Zd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nE(r,t,n){if(typeof(n=Re(n))=="string"){if(n==="")throw new st(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RT(t)&&n.indexOf("/")!==-1)throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Jt.fromString(n));if(!lt.isDocumentKey(s))throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return mv(r,new lt(s))}if(n instanceof sn)return mv(r,n._key);throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(n)}.`)}function iE(r,t){if(!Array.isArray(r)||r.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function R0(r,t){const n=function(l,c){for(const f of l)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new st(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class R2{convertValue(t,n="none"){switch(Pr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return he(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Mr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return zr(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,l;const c=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[qc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(f=>he(f.doubleValue));return new $m(c)}convertGeoPoint(t){return new Xm(he(t.latitude),he(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=rh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Il(t));default:return null}}convertTimestamp(t){const n=Vr(t);return new Se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Jt.fromString(t);Ht(KT(s),9688,{name:t});const l=new Cl(s.get(1),s.get(3)),c=new lt(s.popFirst(5));return l.isEqual(n)||qi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class w0 extends b0{constructor(t,n,s,l,c,f){super(t,n,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(eg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Oc extends w0{data(t={}){return super.data(t)}}class I2{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new pl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Oc(this._firestore,this._userDataWriter,s.key,s,new pl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(g=>{const p=new Oc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new pl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new Oc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new pl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),T=f.indexOf(g.doc.key)),{type:C2(g.type),doc:p,oldIndex:_,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function C2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}class I0 extends R2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fa(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function D2(r,t,n,...s){r=Dr(r,sn);const l=Dr(r.firestore,Ga),c=Wm(l);let f;return f=typeof(t=Re(t))=="string"||t instanceof gh?_2(c,"updateDoc",r._key,t,n,s):p2(c,"updateDoc",r._key,t),rg(l,[f.toMutation(r._key,Ln.exists(!0))])}function O2(r){return rg(Dr(r.firestore,Ga),[new Nm(r._key,Ln.none())])}function N2(r,t){const n=Dr(r.firestore,Ga),s=lm(r),l=w2(r.converter,t);return rg(n,[g2(Wm(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Ln.exists(!1))]).then(()=>s)}function V2(r,...t){var n,s,l;r=Re(r);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||eE(t[f])||(c=t[f],f++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(eE(t[f])){const R=t[f];t[f]=(n=R.next)===null||n===void 0?void 0:n.bind(R),t[f+1]=(s=R.error)===null||s===void 0?void 0:s.bind(R),t[f+2]=(l=R.complete)===null||l===void 0?void 0:l.bind(R)}let p,_,T;if(r instanceof sn)_=Dr(r.firestore,Ga),T=Dm(r._key.path),p={next:R=>{t[f]&&t[f](M2(_,r,R))},error:t[f+1],complete:t[f+2]};else{const R=Dr(r,Ja);_=Dr(R.firestore,Ga),T=R._query;const w=new I0(_);p={next:H=>{t[f]&&t[f](new I2(_,w,R,H))},error:t[f+1],complete:t[f+2]},T2(r._query)}return function(w,H,Y,tt){const Z=new r2(tt),Et=new zC(H,Z,Y);return w.asyncQueue.enqueueAndForget(async()=>kC(await Fv(w),Et)),()=>{Z.xu(),w.asyncQueue.enqueueAndForget(async()=>xC(await Fv(w),Et))}}(y0(_),T,g,p)}function rg(r,t){return function(s,l){const c=new ws;return s.asyncQueue.enqueueAndForget(async()=>XC(await o2(s),l,c)),c.promise}(y0(r),t)}function M2(r,t,n){const s=n.docs.get(t._key),l=new I0(r);return new w0(r,l,t._key,s,new pl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){Xa=l})(Ka),Ua(new Cs("firestore",(s,{instanceIdentifier:l,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new Ga(new pw(s.getProvider("auth-internal")),new vw(f,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new st(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(_.options.projectId,T)}(f,l),f);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Ir(nv,iv,t),Ir(nv,iv,"esm2017")})();const P2={apiKey:"AIzaSyAO8NnO9L_7_scUqDRlNvyKnxLj3y8PdA0",authDomain:"step-by-step-12f7d.firebaseapp.com",projectId:"step-by-step-12f7d",storageBucket:"step-by-step-12f7d.firebasestorage.app",messagingSenderId:"431851835568",appId:"1:431851835568:web:b7fd06cb9d2ad815e7eb75"},C0=gE(P2),Zc=cw(C0),Ec=c2(C0);function k2({onToggle:r}){const[t,n]=gn.useState(""),[s,l]=gn.useState(""),[c,f]=gn.useState(""),g=async p=>{p.preventDefault();try{await Xb(Zc,t,s)}catch(_){f(_.message)}};return St.jsxs("form",{onSubmit:g,children:[St.jsx("h2",{children:"Login"}),c&&St.jsx("p",{style:{color:"red"},children:c}),St.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:p=>n(p.target.value),required:!0}),St.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:p=>l(p.target.value),required:!0}),St.jsx("button",{type:"submit",children:"Log In"}),St.jsxs("p",{children:["Don't have an account? ",St.jsx("button",{type:"button",onClick:r,children:"Sign up"})]})]})}function x2({onToggle:r}){const[t,n]=gn.useState(""),[s,l]=gn.useState(""),[c,f]=gn.useState(""),g=async p=>{p.preventDefault();try{await Yb(Zc,t,s)}catch(_){f(_.message)}};return St.jsxs("form",{onSubmit:g,children:[St.jsx("h2",{children:"Sign Up"}),c&&St.jsx("p",{style:{color:"red"},children:c}),St.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:p=>n(p.target.value),required:!0}),St.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:p=>l(p.target.value),required:!0}),St.jsx("button",{type:"submit",children:"Sign Up"}),St.jsxs("p",{children:["Already have an account? ",St.jsx("button",{type:"button",onClick:r,children:"Log in"})]})]})}function U2(){const[r,t]=gn.useState([]);console.log(r);const n=["Work","School","Exercise","Groceries","Others"],[s,l]=gn.useState(null),[c,f]=gn.useState(!1);gn.useEffect(()=>{const w=Wb(Zc,g);return()=>w()},[]);function g(w){if(l(w),w){const H=S2(Zv(Ec,"tasks"),b2("uid","==",w.uid));V2(H,Y=>{const tt=Y.docs.map(Z=>({id:Z.id,...Z.data()}));t(tt)})}else t([])}function p(){Jb(Zc)}async function _(w,H){const Y={text:w,done:!1,category:H,uid:s.uid,createdAt:Date.now()};await N2(Zv(Ec,"tasks"),Y)}async function T(w){const H=r.find(Y=>Y.id===w);H&&await D2(lm(Ec,"tasks",w),{done:!H.done})}async function R(w){await O2(lm(Ec,"tasks",w))}return s?St.jsxs("div",{children:[St.jsx("h1",{children:"Step-by-Step"}),St.jsx("button",{onClick:p,children:"LogOut"}),St.jsx(hS,{addTask:_,categories:n}),St.jsx("h2",{children:"TaskList"}),St.jsx("div",{className:"card-grid",children:n.map(w=>St.jsx(dS,{category:w,tasks:r.filter(H=>H.category===w),complete:T,deleteTask:R},w))})]}):c?St.jsx(x2,{onToggle:()=>f(!1)}):St.jsx(k2,{onToggle:()=>f(!0)})}cS.createRoot(document.getElementById("root")).render(St.jsx(nS.StrictMode,{children:St.jsx(U2,{})}));
